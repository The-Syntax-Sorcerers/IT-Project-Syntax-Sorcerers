var Wi=Object.defineProperty;var zi=(t,e,i)=>e in t?Wi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var Un=(t,e,i)=>(zi(t,typeof e!="symbol"?e+"":e,i),i),Pr=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)};var o=(t,e,i)=>(Pr(t,e,"read from private field"),i?i.call(t):e.get(t)),kt=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},qt=(t,e,i,n)=>(Pr(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i);var tr=(t,e,i,n)=>({set _(s){qt(t,e,s,i)},get _(){return o(t,e,n)}}),jt=(t,e,i)=>(Pr(t,e,"access private method"),i);import{j as jsxRuntimeExports,R as React,r as reactExports,g as getAugmentedNamespace,a as getDefaultExportFromCjs,b as commonjsGlobal,F as Footer,c as client}from"./Footer-ad97b72b.js";import{L as LoggedInNavbar}from"./LoggedInNavbar-b9e6b5e4.js";import{S as SubjectCard}from"./studentCard-5c18faa0.js";function _mergeNamespaces(t,e){for(var i=0;i<e.length;i++){const n=e[i];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const g=Object.getOwnPropertyDescriptor(n,s);g&&Object.defineProperty(t,s,g.get?g:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const assignment="",failPic="/assets/fail-9b377e39.png",successPic="/assets/success-211ccdb8.png";function VerificationSuccess({setShowSubmitModal:t,result:e}){return jsxRuntimeExports.jsx("div",{onClick:()=>t(!1),className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none bg-shadow bg-opacity-25 backdrop-blur-sm",children:jsxRuntimeExports.jsx("div",{onClick:i=>i.stopPropagation(),className:"relative w-1/3 p-6 container bg-main rounded-lg shadow-2xl",children:jsxRuntimeExports.jsxs("div",{className:"relative w-auto my-6 mx-auto max-w-sm text-center",children:[e?jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 flow-col-autotext-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Verification Success"}),jsxRuntimeExports.jsx("h2",{className:"text-md font-semibold mb-4",children:"Keep up the good work!"}),jsxRuntimeExports.jsx("img",{className:"object-contain h-30 w-auto mx-auto",src:successPic,alt:"success"})]}):jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 flow-col-auto text-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Verification Failed"}),jsxRuntimeExports.jsx("h2",{className:"text-md font-semibold mb-4",children:"Please try again"})]}),jsxRuntimeExports.jsx("img",{className:"object-contain h-30 w-auto mx-auto",src:failPic,alt:"success"})]}),jsxRuntimeExports.jsx("button",{className:"bg-button-yellow rounded-lg px-3 py-2 text-slate-900 font-medium hover:bg-button-yellow-darker",type:"button",onClick:()=>t(!1),children:"Close"})]})})})}var __assign$f=function(){return __assign$f=Object.assign||function(e){for(var i,n=1,s=arguments.length;n<s;n++){i=arguments[n];for(var g in i)Object.prototype.hasOwnProperty.call(i,g)&&(e[g]=i[g])}return e},__assign$f.apply(this,arguments)};function __spreadArray$2(t,e,i){if(i||arguments.length===2)for(var n=0,s=e.length,g;n<s;n++)(g||!(n in e))&&(g||(g=Array.prototype.slice.call(e,0,n)),g[n]=e[n]);return t.concat(g||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;function memoize(t){var e=Object.create(null);return function(i){return e[i]===void 0&&(e[i]=t(i)),e[i]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(t){return reactPropsRegex.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(t,e){return charat(t,0)^45?(((e<<2^charat(t,0))<<2^charat(t,1))<<2^charat(t,2))<<2^charat(t,3):0}function trim(t){return t.trim()}function match(t,e){return(t=e.exec(t))?t[0]:t}function replace(t,e,i){return t.replace(e,i)}function indexof(t,e){return t.indexOf(e)}function charat(t,e){return t.charCodeAt(e)|0}function substr(t,e,i){return t.slice(e,i)}function strlen(t){return t.length}function sizeof(t){return t.length}function append(t,e){return e.push(t),t}function combine(t,e){return t.map(e).join("")}function filter(t,e){return t.filter(function(i){return!match(i,e)})}var line=1,column=1,length=0,position=0,character=0,characters="";function node(t,e,i,n,s,g,ae,At){return{value:t,root:e,parent:i,type:n,props:s,children:g,line,column,length:ae,return:"",siblings:At}}function copy(t,e){return assign(node("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function lift(t){for(;t.root;)t=copy(t.root,{children:[t]});append(t,t.siblings)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(t,e){return substr(characters,t,e)}function token(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(t){return line=column=1,length=strlen(characters=t),position=0,[]}function dealloc(t){return characters="",t}function delimit(t){return trim(slice(position-1,delimiter(t===91?t+2:t===40?t+1:t)))}function whitespace(t){for(;(character=peek())&&character<33;)next();return token(t)>2||token(character)>3?"":" "}function escaping(t,e){for(;--e&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(t,caret()+(e<6&&peek()==32&&next()==32))}function delimiter(t){for(;next();)switch(character){case t:return position;case 34:case 39:t!==34&&t!==39&&delimiter(character);break;case 40:t===41&&delimiter(t);break;case 92:next();break}return position}function commenter(t,e){for(;next()&&t+character!==47+10;)if(t+character===42+42&&peek()===47)break;return"/*"+slice(e,position-1)+"*"+from(t===47?t:next())}function identifier(t){for(;!token(peek());)next();return slice(t,position)}function compile(t){return dealloc(parse("",null,null,null,[""],t=alloc(t),0,[0],t))}function parse(t,e,i,n,s,g,ae,At,m){for(var S=0,b=0,_t=ae,vt=0,dt=0,ut=0,at=1,je=1,Je=1,ht=0,bt="",ft=s,p=g,w=n,mt=bt;je;)switch(ut=ht,ht=next()){case 40:if(ut!=108&&charat(mt,_t-1)==58){indexof(mt+=replace(delimit(ht),"&","&\f"),"&\f")!=-1&&(Je=-1);break}case 34:case 39:case 91:mt+=delimit(ht);break;case 9:case 10:case 13:case 32:mt+=whitespace(ut);break;case 92:mt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),e,i,m),m);break;default:mt+="/"}break;case 123*at:At[S++]=strlen(mt)*Je;case 125*at:case 59:case 0:switch(ht){case 0:case 125:je=0;case 59+b:Je==-1&&(mt=replace(mt,/\f/g,"")),dt>0&&strlen(mt)-_t&&append(dt>32?declaration(mt+";",n,i,_t-1,m):declaration(replace(mt," ","")+";",n,i,_t-2,m),m);break;case 59:mt+=";";default:if(append(w=ruleset(mt,e,i,S,b,s,At,bt,ft=[],p=[],_t,g),g),ht===123)if(b===0)parse(mt,e,w,w,ft,g,_t,At,p);else switch(vt===99&&charat(mt,3)===110?100:vt){case 100:case 108:case 109:case 115:parse(t,w,w,n&&append(ruleset(t,w,w,0,0,s,At,bt,s,ft=[],_t,p),p),s,p,_t,At,n?ft:p);break;default:parse(mt,w,w,w,[""],p,0,At,p)}}S=b=dt=0,at=Je=1,bt=mt="",_t=ae;break;case 58:_t=1+strlen(mt),dt=ut;default:if(at<1){if(ht==123)--at;else if(ht==125&&at++==0&&prev()==125)continue}switch(mt+=from(ht),ht*at){case 38:Je=b>0?1:(mt+="\f",-1);break;case 44:At[S++]=(strlen(mt)-1)*Je,Je=1;break;case 64:peek()===45&&(mt+=delimit(next())),vt=peek(),b=_t=strlen(bt=mt+=identifier(caret())),ht++;break;case 45:ut===45&&strlen(mt)==2&&(at=0)}}return g}function ruleset(t,e,i,n,s,g,ae,At,m,S,b,_t){for(var vt=s-1,dt=s===0?g:[""],ut=sizeof(dt),at=0,je=0,Je=0;at<n;++at)for(var ht=0,bt=substr(t,vt+1,vt=abs(je=ae[at])),ft=t;ht<ut;++ht)(ft=trim(je>0?dt[ht]+" "+bt:replace(bt,/&\f/g,dt[ht])))&&(m[Je++]=ft);return node(t,e,i,s===0?RULESET:At,m,S,b,_t)}function comment(t,e,i,n){return node(t,e,i,COMMENT,from(char()),substr(t,2,-2),0,n)}function declaration(t,e,i,n,s){return node(t,e,i,DECLARATION,substr(t,0,n),substr(t,n+1,-1),n,s)}function prefix$1(t,e,i){switch(hash(t,e)){case 5103:return WEBKIT+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+t+t;case 4789:return MOZ+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+t+MOZ+t+MS+t+t;case 5936:switch(charat(t,e+11)){case 114:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return WEBKIT+t+MS+t+t;case 6165:return WEBKIT+t+MS+"flex-"+t+t;case 5187:return WEBKIT+t+replace(t,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+t;case 5443:return WEBKIT+t+MS+"flex-item-"+replace(t,/flex-|-self/g,"")+(match(t,/flex-|baseline/)?"":MS+"grid-row-"+replace(t,/flex-|-self/g,""))+t;case 4675:return WEBKIT+t+MS+"flex-line-pack"+replace(t,/align-content|flex-|-self/g,"")+t;case 5548:return WEBKIT+t+MS+replace(t,"shrink","negative")+t;case 5292:return WEBKIT+t+MS+replace(t,"basis","preferred-size")+t;case 6060:return WEBKIT+"box-"+replace(t,"-grow","")+WEBKIT+t+MS+replace(t,"grow","positive")+t;case 4554:return WEBKIT+replace(t,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+t;case 6187:return replace(replace(replace(t,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),t,"")+t;case 5495:case 3959:return replace(t,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(t,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+t+t;case 4200:if(!match(t,/flex-|baseline/))return MS+"grid-column-align"+substr(t,e)+t;break;case 2592:case 3360:return MS+replace(t,"template-","")+t;case 4384:case 3616:return i&&i.some(function(n,s){return e=s,match(n.props,/grid-\w+-end/)})?~indexof(t+(i=i[e].value),"span")?t:MS+replace(t,"-start","")+t+MS+"grid-row-span:"+(~indexof(i,"span")?match(i,/\d+/):+match(i,/\d+/)-+match(t,/\d+/))+";":MS+replace(t,"-start","")+t;case 4896:case 4128:return i&&i.some(function(n){return match(n.props,/grid-\w+-start/)})?t:MS+replace(replace(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return replace(t,/(.+)-inline(.+)/,WEBKIT+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(t)-1-e>6)switch(charat(t,e+1)){case 109:if(charat(t,e+4)!==45)break;case 102:return replace(t,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~indexof(t,"stretch")?prefix$1(replace(t,"stretch","fill-available"),e,i)+t:t}break;case 5152:case 5920:return replace(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,s,g,ae,At,m,S){return MS+s+":"+g+S+(ae?MS+s+"-span:"+(At?m:+m-+g)+S:"")+t});case 4949:if(charat(t,e+6)===121)return replace(t,":",":"+WEBKIT)+t;break;case 6444:switch(charat(t,charat(t,14)===45?18:11)){case 120:return replace(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+WEBKIT+(charat(t,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+t;case 100:return replace(t,":",":"+MS)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return replace(t,"scroll-","scroll-snap-")+t}return t}function serialize(t,e){for(var i="",n=0;n<t.length;n++)i+=e(t[n],n,t,e)||"";return i}function stringify(t,e,i,n){switch(t.type){case LAYER:if(t.children.length)break;case IMPORT:case DECLARATION:return t.return=t.return||t.value;case COMMENT:return"";case KEYFRAMES:return t.return=t.value+"{"+serialize(t.children,n)+"}";case RULESET:if(!strlen(t.value=t.props.join(",")))return""}return strlen(i=serialize(t.children,n))?t.return=t.value+"{"+i+"}":""}function middleware(t){var e=sizeof(t);return function(i,n,s,g){for(var ae="",At=0;At<e;At++)ae+=t[At](i,n,s,g)||"";return ae}}function rulesheet(t){return function(e){e.root||(e=e.return)&&t(e)}}function prefixer(t,e,i,n){if(t.length>-1&&!t.return)switch(t.type){case DECLARATION:t.return=prefix$1(t.value,t.length,i);return;case KEYFRAMES:return serialize([copy(t,{value:replace(t.value,"@","@"+WEBKIT)})],n);case RULESET:if(t.length)return combine(i=t.props,function(s){switch(match(s,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":lift(copy(t,{props:[replace(s,/:(read-\w+)/,":"+MOZ+"$1")]})),lift(copy(t,{props:[s]})),assign(t,{props:filter(i,n)});break;case"::placeholder":lift(copy(t,{props:[replace(s,/:(plac\w+)/,":"+WEBKIT+"input-$1")]})),lift(copy(t,{props:[replace(s,/:(plac\w+)/,":"+MOZ+"$1")]})),lift(copy(t,{props:[replace(s,/:(plac\w+)/,MS+"input-$1")]})),lift(copy(t,{props:[s]})),assign(t,{props:filter(i,n)});break}return""})}}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},f=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",y=typeof window<"u"&&"HTMLElement"in window,v=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),E=Object.freeze([]),N=Object.freeze({});function P(t,e,i){return i===void 0&&(i=N),t.theme!==i.theme&&t.theme||e||i.theme}var _=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),C=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,I=/(^-|-$)/g;function A(t){return t.replace(C,"-").replace(I,"")}var O=/(a)(d)/gi,D=function(t){return String.fromCharCode(t+(t>25?39:97))};function R(t){var e,i="";for(e=Math.abs(t);e>52;e=e/52|0)i=D(e%52)+i;return(D(e%52)+i).replace(O,"$1-$2")}var T,k=function(t,e){for(var i=e.length;i;)t=33*t^e.charCodeAt(--i);return t},j=function(t){return k(5381,t)};function x(t){return R(j(t)>>>0)}function V(t){return t.displayName||t.name||"Component"}function F(t){return typeof t=="string"&&!0}var M=typeof Symbol=="function"&&Symbol.for,$=M?Symbol.for("react.memo"):60115,z=M?Symbol.for("react.forward_ref"):60112,B={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},L={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},G={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Y=((T={})[z]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},T[$]=G,T);function W(t){return("type"in(e=t)&&e.type.$$typeof)===$?G:"$$typeof"in t?Y[t.$$typeof]:B;var e}var q=Object.defineProperty,H=Object.getOwnPropertyNames,U=Object.getOwnPropertySymbols,J=Object.getOwnPropertyDescriptor,X=Object.getPrototypeOf,Z=Object.prototype;function K(t,e,i){if(typeof e!="string"){if(Z){var n=X(e);n&&n!==Z&&K(t,n,i)}var s=H(e);U&&(s=s.concat(U(e)));for(var g=W(t),ae=W(e),At=0;At<s.length;++At){var m=s[At];if(!(m in L||i&&i[m]||ae&&m in ae||g&&m in g)){var S=J(e,m);try{q(t,m,S)}catch{}}}}return t}function Q(t){return typeof t=="function"}function ee(t){return typeof t=="object"&&"styledComponentId"in t}function te(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function ne(t,e){if(t.length===0)return"";for(var i=t[0],n=1;n<t.length;n++)i+=e?e+t[n]:t[n];return i}function oe(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function re(t,e,i){if(i===void 0&&(i=!1),!i&&!oe(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=re(t[n],e[n]);else if(oe(e))for(var n in e)t[n]=re(t[n],e[n]);return t}function se(t,e){Object.defineProperty(t,"toString",{value:e})}function ce(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var le=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var i=0,n=0;n<e;n++)i+=this.groupSizes[n];return i},t.prototype.insertRules=function(e,i){if(e>=this.groupSizes.length){for(var n=this.groupSizes,s=n.length,g=s;e>=g;)if((g<<=1)<0)throw ce(16,"".concat(e));this.groupSizes=new Uint32Array(g),this.groupSizes.set(n),this.length=g;for(var ae=s;ae<g;ae++)this.groupSizes[ae]=0}for(var At=this.indexOfGroup(e+1),m=(ae=0,i.length);ae<m;ae++)this.tag.insertRule(At,i[ae])&&(this.groupSizes[e]++,At++)},t.prototype.clearGroup=function(e){if(e<this.length){var i=this.groupSizes[e],n=this.indexOfGroup(e),s=n+i;this.groupSizes[e]=0;for(var g=n;g<s;g++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var i="";if(e>=this.length||this.groupSizes[e]===0)return i;for(var n=this.groupSizes[e],s=this.indexOfGroup(e),g=s+n,ae=s;ae<g;ae++)i+="".concat(this.tag.getRule(ae)).concat(`/*!sc*/
`);return i},t}(),ue=new Map,pe=new Map,de$1=1,he=function(t){if(ue.has(t))return ue.get(t);for(;pe.has(de$1);)de$1++;var e=de$1++;return ue.set(t,e),pe.set(e,t),e},fe=function(t,e){ue.set(t,e),pe.set(e,t)},me="style[".concat(f,"][").concat("data-styled-version",'="').concat("6.1.0",'"]'),ye=new RegExp("^".concat(f,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ve=function(t,e,i){for(var n,s=i.split(","),g=0,ae=s.length;g<ae;g++)(n=s[g])&&t.registerName(e,n)},ge=function(t,e){for(var i,n=((i=e.textContent)!==null&&i!==void 0?i:"").split(`/*!sc*/
`),s=[],g=0,ae=n.length;g<ae;g++){var At=n[g].trim();if(At){var m=At.match(ye);if(m){var S=0|parseInt(m[1],10),b=m[2];S!==0&&(fe(b,S),ve(t,b,m[3]),t.getTag().insertRules(S,s)),s.length=0}else s.push(At)}}};function Se(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var we=function(t){var e=document.head,i=t||e,n=document.createElement("style"),s=function(At){var m=Array.from(At.querySelectorAll("style[".concat(f,"]")));return m[m.length-1]}(i),g=s!==void 0?s.nextSibling:null;n.setAttribute(f,"active"),n.setAttribute("data-styled-version","6.1.0");var ae=Se();return ae&&n.setAttribute("nonce",ae),i.insertBefore(n,g),n},be=function(){function t(e){this.element=we(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var n=document.styleSheets,s=0,g=n.length;s<g;s++){var ae=n[s];if(ae.ownerNode===i)return ae}throw ce(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,i){try{return this.sheet.insertRule(i,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var i=this.sheet.cssRules[e];return i&&i.cssText?i.cssText:""},t}(),Ee=function(){function t(e){this.element=we(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,i){if(e<=this.length&&e>=0){var n=document.createTextNode(i);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),Ne=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,i){return e<=this.length&&(this.rules.splice(e,0,i),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Pe=y,_e={isServer:!y,useCSSOMInjection:!v},Ce=function(){function t(e,i,n){e===void 0&&(e=N),i===void 0&&(i={});var s=this;this.options=__assign$f(__assign$f({},_e),e),this.gs=i,this.names=new Map(n),this.server=!!e.isServer,!this.server&&y&&Pe&&(Pe=!1,function(g){for(var ae=document.querySelectorAll(me),At=0,m=ae.length;At<m;At++){var S=ae[At];S&&S.getAttribute(f)!=="active"&&(ge(g,S),S.parentNode&&S.parentNode.removeChild(S))}}(this)),se(this,function(){return function(g){for(var ae=g.getTag(),At=ae.length,m="",S=function(_t){var vt=function(Je){return pe.get(Je)}(_t);if(vt===void 0)return"continue";var dt=g.names.get(vt),ut=ae.getGroup(_t);if(dt===void 0||ut.length===0)return"continue";var at="".concat(f,".g").concat(_t,'[id="').concat(vt,'"]'),je="";dt!==void 0&&dt.forEach(function(Je){Je.length>0&&(je+="".concat(Je,","))}),m+="".concat(ut).concat(at,'{content:"').concat(je,'"}').concat(`/*!sc*/
`)},b=0;b<At;b++)S(b);return m}(s)})}return t.registerId=function(e){return he(e)},t.prototype.reconstructWithOptions=function(e,i){return i===void 0&&(i=!0),new t(__assign$f(__assign$f({},this.options),e),this.gs,i&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(i){var n=i.useCSSOMInjection,s=i.target;return i.isServer?new Ne(s):n?new be(s):new Ee(s)}(this.options),new le(e)));var e},t.prototype.hasNameForId=function(e,i){return this.names.has(e)&&this.names.get(e).has(i)},t.prototype.registerName=function(e,i){if(he(e),this.names.has(e))this.names.get(e).add(i);else{var n=new Set;n.add(i),this.names.set(e,n)}},t.prototype.insertRules=function(e,i,n){this.registerName(e,i),this.getTag().insertRules(he(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(he(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Ie=/&/g,Ae=/^\s*\/\/.*$/gm;function Oe(t,e){return t.map(function(i){return i.type==="rule"&&(i.value="".concat(e," ").concat(i.value),i.value=i.value.replaceAll(",",",".concat(e," ")),i.props=i.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(i.children)&&i.type!=="@keyframes"&&(i.children=Oe(i.children,e)),i})}function De(t){var e,i,n,s=t===void 0?N:t,g=s.options,ae=g===void 0?N:g,At=s.plugins,m=At===void 0?E:At,S=function(vt,dt,ut){return ut===i||ut.startsWith(i)&&ut.endsWith(i)&&ut.replaceAll(i,"").length>0?".".concat(e):vt},b=m.slice();b.push(function(vt){vt.type===RULESET&&vt.value.includes("&")&&(vt.props[0]=vt.props[0].replace(Ie,i).replace(n,S))}),ae.prefix&&b.push(prefixer),b.push(stringify);var _t=function(vt,dt,ut,at){dt===void 0&&(dt=""),ut===void 0&&(ut=""),at===void 0&&(at="&"),e=at,i=dt,n=new RegExp("\\".concat(i,"\\b"),"g");var je=vt.replace(Ae,""),Je=compile(ut||dt?"".concat(ut," ").concat(dt," { ").concat(je," }"):je);ae.namespace&&(Je=Oe(Je,ae.namespace));var ht=[];return serialize(Je,middleware(b.concat(rulesheet(function(bt){return ht.push(bt)})))),ht};return _t.hash=m.length?m.reduce(function(vt,dt){return dt.name||ce(15),k(vt,dt.name)},5381).toString():"",_t}var Re=new Ce,Te=De(),ke=React.createContext({shouldForwardProp:void 0,styleSheet:Re,stylis:Te});ke.Consumer;React.createContext(void 0);function Ve(){return reactExports.useContext(ke)}var Me=function(){function t(e,i){var n=this;this.inject=function(s,g){g===void 0&&(g=Te);var ae=n.name+g.hash;s.hasNameForId(n.id,ae)||s.insertRules(n.id,ae,g(n.rules,ae,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=i,se(this,function(){throw ce(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Te),this.name+e.hash},t}(),$e=function(t){return t>="A"&&t<="Z"};function ze(t){for(var e="",i=0;i<t.length;i++){var n=t[i];if(i===1&&n==="-"&&t[0]==="-")return t;$e(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var Be=function(t){return t==null||t===!1||t===""},Le=function(t){var e,i,n=[];for(var s in t){var g=t[s];t.hasOwnProperty(s)&&!Be(g)&&(Array.isArray(g)&&g.isCss||Q(g)?n.push("".concat(ze(s),":"),g,";"):oe(g)?n.push.apply(n,__spreadArray$2(__spreadArray$2(["".concat(s," {")],Le(g),!1),["}"],!1)):n.push("".concat(ze(s),": ").concat((e=s,(i=g)==null||typeof i=="boolean"||i===""?"":typeof i!="number"||i===0||e in unitlessKeys||e.startsWith("--")?String(i).trim():"".concat(i,"px")),";")))}return n};function Ge(t,e,i,n){if(Be(t))return[];if(ee(t))return[".".concat(t.styledComponentId)];if(Q(t)){if(!Q(g=t)||g.prototype&&g.prototype.isReactComponent||!e)return[t];var s=t(e);return Ge(s,e,i,n)}var g;return t instanceof Me?i?(t.inject(i,n),[t.getName(n)]):[t]:oe(t)?Le(t):Array.isArray(t)?Array.prototype.concat.apply(E,t.map(function(ae){return Ge(ae,e,i,n)})):[t.toString()]}function Ye(t){for(var e=0;e<t.length;e+=1){var i=t[e];if(Q(i)&&!ee(i))return!1}return!0}var We=j("6.1.0"),qe=function(){function t(e,i,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&Ye(e),this.componentId=i,this.baseHash=k(We,i),this.baseStyle=n,Ce.registerId(i)}return t.prototype.generateAndInjectStyles=function(e,i,n){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,i,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&i.hasNameForId(this.componentId,this.staticRulesId))s=te(s,this.staticRulesId);else{var g=ne(Ge(this.rules,e,i,n)),ae=R(k(this.baseHash,g)>>>0);if(!i.hasNameForId(this.componentId,ae)){var At=n(g,".".concat(ae),void 0,this.componentId);i.insertRules(this.componentId,ae,At)}s=te(s,ae),this.staticRulesId=ae}else{for(var m=k(this.baseHash,n.hash),S="",b=0;b<this.rules.length;b++){var _t=this.rules[b];if(typeof _t=="string")S+=_t;else if(_t){var vt=ne(Ge(_t,e,i,n));m=k(m,vt+b),S+=vt}}if(S){var dt=R(m>>>0);i.hasNameForId(this.componentId,dt)||i.insertRules(this.componentId,dt,n(S,".".concat(dt),void 0,this.componentId)),s=te(s,dt)}}return s},t}(),He=React.createContext(void 0);He.Consumer;function Xe(t){var e=React.useContext(He),i=reactExports.useMemo(function(){return function(n,s){if(!n)throw ce(14);if(Q(n)){var g=n(s);return g}if(Array.isArray(n)||typeof n!="object")throw ce(8);return s?__assign$f(__assign$f({},s),n):n}(t.theme,e)},[t.theme,e]);return t.children?React.createElement(He.Provider,{value:i},t.children):null}var Ze={},Ke=new Set;function Qe(t,e,i){var n=ee(t),s=t,g=!F(t),ae=e.attrs,At=ae===void 0?E:ae,m=e.componentId,S=m===void 0?function(bt,ft){var p=typeof bt!="string"?"sc":A(bt);Ze[p]=(Ze[p]||0)+1;var w="".concat(p,"-").concat(x("6.1.0"+p+Ze[p]));return ft?"".concat(ft,"-").concat(w):w}(e.displayName,e.parentComponentId):m,b=e.displayName;b===void 0&&function(bt){return F(bt)?"styled.".concat(bt):"Styled(".concat(V(bt),")")}(t);var _t=e.displayName&&e.componentId?"".concat(A(e.displayName),"-").concat(e.componentId):e.componentId||S,vt=n&&s.attrs?s.attrs.concat(At).filter(Boolean):At,dt=e.shouldForwardProp;if(n&&s.shouldForwardProp){var ut=s.shouldForwardProp;if(e.shouldForwardProp){var at=e.shouldForwardProp;dt=function(bt,ft){return ut(bt,ft)&&at(bt,ft)}}else dt=ut}var je=new qe(i,_t,n?s.componentStyle:void 0);function Je(bt,ft){return function(p,w,mt){var d=p.attrs,a=p.componentStyle,Ue=p.defaultProps,xe=p.foldedComponentIds,St=p.styledComponentId,Pt=p.target,gt=React.useContext(He),Ot=Ve(),It=p.shouldForwardProp||Ot.shouldForwardProp,Ft=function(yt,l,h){for(var c,ie=__assign$f(__assign$f({},l),{className:void 0,theme:h}),Fe=0;Fe<yt.length;Fe+=1){var lt=Q(c=yt[Fe])?c(ie):c;for(var xt in lt)ie[xt]=xt==="className"?te(ie[xt],lt[xt]):xt==="style"?__assign$f(__assign$f({},ie[xt]),lt[xt]):lt[xt]}return l.className&&(ie.className=te(ie.className,l.className)),ie}(d,w,P(w,gt,Ue)||N),Rt=Ft.as||Pt,Lt={};for(var tn in Ft)Ft[tn]===void 0||tn[0]==="$"||tn==="as"||tn==="theme"||(tn==="forwardedAs"?Lt.as=Ft.forwardedAs:It&&!It(tn,Rt)||(Lt[tn]=Ft[tn]));var rn=function(yt,l){var h=Ve(),c=yt.generateAndInjectStyles(l,h.styleSheet,h.stylis);return c}(a,Ft),Kt=te(xe,St);return rn&&(Kt+=" "+rn),Ft.className&&(Kt+=" "+Ft.className),Lt[F(Rt)&&!_.has(Rt)?"class":"className"]=Kt,Lt.ref=mt,reactExports.createElement(Rt,Lt)}(ht,bt,ft)}var ht=React.forwardRef(Je);return ht.attrs=vt,ht.componentStyle=je,ht.shouldForwardProp=dt,ht.foldedComponentIds=n?te(s.foldedComponentIds,s.styledComponentId):"",ht.styledComponentId=_t,ht.target=n?s.target:t,Object.defineProperty(ht,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(bt){this._foldedDefaultProps=n?function(ft){for(var p=[],w=1;w<arguments.length;w++)p[w-1]=arguments[w];for(var mt=0,d=p;mt<d.length;mt++)re(ft,d[mt],!0);return ft}({},s.defaultProps,bt):bt}}),se(ht,function(){return".".concat(ht.styledComponentId)}),g&&K(ht,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),ht}function et(t,e){for(var i=[t[0]],n=0,s=e.length;n<s;n+=1)i.push(e[n],t[n+1]);return i}var tt=function(t){return Object.assign(t,{isCss:!0})};function nt(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(Q(t)||oe(t)){var n=t;return tt(Ge(et(E,__spreadArray$2([n],e,!0))))}var s=t;return e.length===0&&s.length===1&&typeof s[0]=="string"?Ge(s):tt(Ge(et(s,e)))}function ot(t,e,i){if(i===void 0&&(i=N),!e)throw ce(1,e);var n=function(s){for(var g=[],ae=1;ae<arguments.length;ae++)g[ae-1]=arguments[ae];return t(e,i,nt.apply(void 0,__spreadArray$2([s],g,!1)))};return n.attrs=function(s){return ot(t,e,__assign$f(__assign$f({},i),{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},n.withConfig=function(s){return ot(t,e,__assign$f(__assign$f({},i),s))},n}var rt=function(t){return ot(Qe,t)},st=rt;_.forEach(function(t){st[t]=rt(t)});function ct(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=ne(nt.apply(void 0,__spreadArray$2([t],e,!1))),s=x(n);return new Me(s,n)}const documentNavInfo$a="Document {{ currentFileNo }} of {{ allFilesCount }}",noRendererMessage$a="No renderer for file type: {{{ fileType }}}",downloadButtonLabel$a="Download file",brokenFile$a="Your file is broken. Please check it on your machine.",msgPluginRecipients$a="Recipients",msgPluginSender$a="Sender",pdfPluginLoading$a="Loading...",pdfPluginPageNumber$a="Page {{ currentPage }}/{{ allPagesCount }}",en={documentNavInfo:documentNavInfo$a,noRendererMessage:noRendererMessage$a,downloadButtonLabel:downloadButtonLabel$a,brokenFile:brokenFile$a,msgPluginRecipients:msgPluginRecipients$a,msgPluginSender:msgPluginSender$a,pdfPluginLoading:pdfPluginLoading$a,pdfPluginPageNumber:pdfPluginPageNumber$a},documentNavInfo$9="Dokument {{ currentFileNo }} z {{ allFilesCount }}",noRendererMessage$9="Brak funckji renderującej dla: {{{ fileType }}}",downloadButtonLabel$9="Pobierz plik",brokenFile$9="Twój plik jest uszkodzony. Sprawdź go na swoim komputerze.",msgPluginRecipients$9="Odbiorcy",msgPluginSender$9="Nadawca",pdfPluginLoading$9="Wczytywanie...",pdfPluginPageNumber$9="Strona {{ currentPage }}/{{ allPagesCount }}",pl={documentNavInfo:documentNavInfo$9,noRendererMessage:noRendererMessage$9,downloadButtonLabel:downloadButtonLabel$9,brokenFile:brokenFile$9,msgPluginRecipients:msgPluginRecipients$9,msgPluginSender:msgPluginSender$9,pdfPluginLoading:pdfPluginLoading$9,pdfPluginPageNumber:pdfPluginPageNumber$9},documentNavInfo$8="Documento {{ currentFileNo }} de {{ allFilesCount }}",noRendererMessage$8="No hay procesador para el tipo de archivo: {{{ fileType }}}",downloadButtonLabel$8="Descargar archivo",brokenFile$8="Tu archivo está roto. Compruébalo en tu máquina.",msgPluginRecipients$8="Destinatarios",msgPluginSender$8="Remitente",pdfPluginLoading$8="Cargando...",pdfPluginPageNumber$8="Página {{ currentPage }}/{{ allPagesCount }}",es={documentNavInfo:documentNavInfo$8,noRendererMessage:noRendererMessage$8,downloadButtonLabel:downloadButtonLabel$8,brokenFile:brokenFile$8,msgPluginRecipients:msgPluginRecipients$8,msgPluginSender:msgPluginSender$8,pdfPluginLoading:pdfPluginLoading$8,pdfPluginPageNumber:pdfPluginPageNumber$8},documentNavInfo$7="Dokument {{ currentFileNo }} von {{ allFilesCount }}",noRendererMessage$7="Kein Renderer für Dateityp: {{{ fileType }}}",downloadButtonLabel$7="Datei herunterladen",brokenFile$7="Ihre Datei ist defekt. Bitte überprüfen Sie sie auf Ihrem Rechner.",msgPluginRecipients$7="Empfänger",msgPluginSender$7="Absender",pdfPluginLoading$7="Wird geladen...",pdfPluginPageNumber$7="Seite {{ currentPage }}/{{ allPagesCount }}",de={documentNavInfo:documentNavInfo$7,noRendererMessage:noRendererMessage$7,downloadButtonLabel:downloadButtonLabel$7,brokenFile:brokenFile$7,msgPluginRecipients:msgPluginRecipients$7,msgPluginSender:msgPluginSender$7,pdfPluginLoading:pdfPluginLoading$7,pdfPluginPageNumber:pdfPluginPageNumber$7},documentNavInfo$6="Documento {{ currentFileNo }} di {{ allFilesCount }}",noRendererMessage$6="Nessun renderer per il tipo di file: {{{ fileType }}}",downloadButtonLabel$6="Scarica file",brokenFile$6="Il tuo file è danneggiato. Controllalo sul tuo computer.",msgPluginRecipients$6="Destinatari",msgPluginSender$6="Mittente",pdfPluginLoading$6="Caricamento in corso...",pdfPluginPageNumber$6="Pagina {{ currentPage }}/{{ allPagesCount }}",it={documentNavInfo:documentNavInfo$6,noRendererMessage:noRendererMessage$6,downloadButtonLabel:downloadButtonLabel$6,brokenFile:brokenFile$6,msgPluginRecipients:msgPluginRecipients$6,msgPluginSender:msgPluginSender$6,pdfPluginLoading:pdfPluginLoading$6,pdfPluginPageNumber:pdfPluginPageNumber$6},documentNavInfo$5="Documento {{ currentFileNo }} de {{ allFilesCount }}",noRendererMessage$5="Nenhum renderizador para o tipo de arquivo: {{{ fileType }}}",downloadButtonLabel$5="Baixar arquivo",brokenFile$5="Seu arquivo está quebrado. Por favor, verifique-o em sua máquina.",msgPluginRecipients$5="Destinatários",msgPluginSender$5="Remetente",pdfPluginLoading$5="Carregando...",pdfPluginPageNumber$5="Página {{ currentPage }}/{{ allPagesCount }}",pt={documentNavInfo:documentNavInfo$5,noRendererMessage:noRendererMessage$5,downloadButtonLabel:downloadButtonLabel$5,brokenFile:brokenFile$5,msgPluginRecipients:msgPluginRecipients$5,msgPluginSender:msgPluginSender$5,pdfPluginLoading:pdfPluginLoading$5,pdfPluginPageNumber:pdfPluginPageNumber$5},documentNavInfo$4="Document {{ currentFileNo }} de {{ allFilesCount }}",noRendererMessage$4="Aucun moteur de rendu pour le type de fichier : {{{ fileType }}}",downloadButtonLabel$4="Télécharger le fichier",brokenFile$4="Votre fichier est cassé. Veuillez le vérifier sur votre machine.",msgPluginRecipients$4="Destinataires",msgPluginSender$4="Expéditeur",pdfPluginLoading$4="Chargement...",pdfPluginPageNumber$4="Page {{ currentPage }}/{{ allPagesCount }}",fr={documentNavInfo:documentNavInfo$4,noRendererMessage:noRendererMessage$4,downloadButtonLabel:downloadButtonLabel$4,brokenFile:brokenFile$4,msgPluginRecipients:msgPluginRecipients$4,msgPluginSender:msgPluginSender$4,pdfPluginLoading:pdfPluginLoading$4,pdfPluginPageNumber:pdfPluginPageNumber$4},documentNavInfo$3="مستند {{ currentFileNo }} من {{ allFilesCount }}",noRendererMessage$3="{{{ fileType }}} : لا يمكننا عرض هذا النوع من الملفات",downloadButtonLabel$3="تحميل الملف",brokenFile$3="الملف تالف، يرجى التحقق منه على جهازك الخاص.",msgPluginRecipients$3="المستلمين",msgPluginSender$3="المرسل",pdfPluginLoading$3="تحميل ...",pdfPluginPageNumber$3=" {{ allPagesCount }} \\ {{ currentPage }} صفحة ",ar={documentNavInfo:documentNavInfo$3,noRendererMessage:noRendererMessage$3,downloadButtonLabel:downloadButtonLabel$3,brokenFile:brokenFile$3,msgPluginRecipients:msgPluginRecipients$3,msgPluginSender:msgPluginSender$3,pdfPluginLoading:pdfPluginLoading$3,pdfPluginPageNumber:pdfPluginPageNumber$3},documentNavInfo$2="Dokument {{ currentFileNo }} od {{ allFilesCount }}",noRendererMessage$2="Ne postoji pregledač za tip fajla: {{ fileType }}",downloadButtonLabel$2="Preuzimanje fajla",brokenFile$2="Vaš fajl nije dobar. Molimo Vas da probate da ga otvorite na vašem računaru.",msgPluginRecipients$2="Primaoci",msgPluginSender$2="Pošiljalac",pdfPluginLoading$2="Učitavanje...",pdfPluginPageNumber$2="Strana {{ currentPage }}/{{ allPagesCount }}",sr={documentNavInfo:documentNavInfo$2,noRendererMessage:noRendererMessage$2,downloadButtonLabel:downloadButtonLabel$2,brokenFile:brokenFile$2,msgPluginRecipients:msgPluginRecipients$2,msgPluginSender:msgPluginSender$2,pdfPluginLoading:pdfPluginLoading$2,pdfPluginPageNumber:pdfPluginPageNumber$2},documentNavInfo$1="Документ {{ currentFileNo }} od {{ allFilesCount }}",noRendererMessage$1="Не постоји прегледач за тип фајла: {{ fileType }}",downloadButtonLabel$1="Преузимање фајла",brokenFile$1="Ваш фајл није добар. Молимо Вас да пробате да га отворите на вашем рачунару.",msgPluginRecipients$1="Примаоци",msgPluginSender$1="Пошиљалац",pdfPluginLoading$1="Учитавање...",pdfPluginPageNumber$1="Страна {{ currentPage }}/{{ allPagesCount }}",sr_cyr={documentNavInfo:documentNavInfo$1,noRendererMessage:noRendererMessage$1,downloadButtonLabel:downloadButtonLabel$1,brokenFile:brokenFile$1,msgPluginRecipients:msgPluginRecipients$1,msgPluginSender:msgPluginSender$1,pdfPluginLoading:pdfPluginLoading$1,pdfPluginPageNumber:pdfPluginPageNumber$1},documentNavInfo="ファイル {{ currentFileNo }} / {{ allFilesCount }}",noRendererMessage="ファイルタイプに対応したレンダラーはありません: {{ fileType }}",downloadButtonLabel="ダウンロード",brokenFile="ファイルが壊れています。あなたのマシンでファイルを確認してください。",msgPluginRecipients="受信者",msgPluginSender="送信者",pdfPluginLoading="ローティング中...",pdfPluginPageNumber="ページ {{ currentPage }}/{{ allPagesCount }}",ja={documentNavInfo,noRendererMessage,downloadButtonLabel,brokenFile,msgPluginRecipients,msgPluginSender,pdfPluginLoading,pdfPluginPageNumber};var locales={en,pl,es,de,it,pt,fr,ar,sr,sr_cyr,ja},defaultLanguage="en",SET_ALL_DOCUMENTS="SET_ALL_DOCUMENTS",SET_DOCUMENT_LOADING="SET_DOCUMENT_LOADING",NEXT_DOCUMENT="NEXT_DOCUMENT",PREVIOUS_DOCUMENT="PREVIOUS_DOCUMENT",UPDATE_CURRENT_DOCUMENT="UPDATE_CURRENT_DOCUMENT",SET_RENDERER_RECT="SET_RENDERER_RECT",SET_MAIN_CONFIG="SET_MAIN_CONFIG",setAllDocuments=function(t,e){return{type:SET_ALL_DOCUMENTS,documents:t,initialActiveDocument:e}},setDocumentLoading=function(t){return{type:SET_DOCUMENT_LOADING,value:t}},nextDocument=function(){return{type:NEXT_DOCUMENT}},previousDocument=function(){return{type:PREVIOUS_DOCUMENT}},updateCurrentDocument=function(t){return{type:UPDATE_CURRENT_DOCUMENT,document:t}},setRendererRect=function(t){return{type:SET_RENDERER_RECT,rect:t}},setMainConfig=function(t){return{type:SET_MAIN_CONFIG,config:t}},__assign$e=globalThis&&globalThis.__assign||function(){return __assign$e=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$e.apply(this,arguments)},initialState={currentFileNo:0,documents:[],documentLoading:!0,currentDocument:void 0,rendererRect:void 0,config:{},pluginRenderers:[],language:defaultLanguage},mainStateReducer=function(t,e){switch(t===void 0&&(t=initialState),e.type){case SET_ALL_DOCUMENTS:{var i=e,n=i.documents,s=i.initialActiveDocument;return __assign$e(__assign$e({},t),{documents:n,currentDocument:s||n[0]||null,currentFileNo:s&&n.includes(s)?n.indexOf(s):initialState.currentFileNo})}case SET_DOCUMENT_LOADING:{var g=e.value;return __assign$e(__assign$e({},t),{documentLoading:g})}case NEXT_DOCUMENT:{if(t.currentFileNo>=t.documents.length-1)return t;var ae=t.currentFileNo+1;return t.onDocumentChange&&t.onDocumentChange(t.documents[ae]),__assign$e(__assign$e({},t),{currentFileNo:ae,currentDocument:t.documents[ae],documentLoading:!0})}case PREVIOUS_DOCUMENT:{if(t.currentFileNo<=0)return t;var At=t.currentFileNo-1;return t.onDocumentChange&&t.onDocumentChange(t.documents[At]),__assign$e(__assign$e({},t),{currentFileNo:t.currentFileNo-1,currentDocument:t.documents[At],documentLoading:!0})}case UPDATE_CURRENT_DOCUMENT:{var m=e.document;return __assign$e(__assign$e({},t),{currentDocument:m,currentFileNo:t.documents.findIndex(function(_t){return _t.uri===m.uri})})}case SET_RENDERER_RECT:{var S=e.rect;return __assign$e(__assign$e({},t),{rendererRect:S})}case SET_MAIN_CONFIG:{var b=e.config;return __assign$e(__assign$e({},t),{config:b})}default:return t}},__assign$d=globalThis&&globalThis.__assign||function(){return __assign$d=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$d.apply(this,arguments)},DocViewerContext=reactExports.createContext({state:initialState,dispatch:function(){return null}}),DocViewerProvider=reactExports.forwardRef(function(t,e){var i,n=t.children,s=t.documents,g=t.config,ae=t.pluginRenderers,At=t.prefetchMethod,m=t.requestHeaders,S=t.initialActiveDocument,b=t.language,_t=t.activeDocument,vt=t.onDocumentChange,dt=reactExports.useReducer(mainStateReducer,__assign$d(__assign$d({},initialState),{documents:s||[],currentDocument:s&&s.length?S||s[0]:void 0,config:g,pluginRenderers:ae,prefetchMethod:At,requestHeaders:m,currentFileNo:S&&(i=s.findIndex(function(je){return je===S}))!==null&&i!==void 0?i:0,language:b&&locales[b]?b:defaultLanguage,activeDocument:_t,onDocumentChange:vt})),ut=dt[0],at=dt[1];return reactExports.useEffect(function(){at(setAllDocuments(s,S)),g&&at(setMainConfig(g))},[s,g,S]),reactExports.useEffect(function(){_t&&at(updateCurrentDocument(_t))},[_t]),reactExports.useImperativeHandle(e,function(){return{prev:function(){at(previousDocument())},next:function(){at(nextDocument())}}},[at]),React.createElement(DocViewerContext.Provider,{value:{state:ut,dispatch:at}},n)}),__makeTemplateObject$i=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},ButtonPrimaryStyle=nt(templateObject_1$i||(templateObject_1$i=__makeTemplateObject$i([`
  background-color: `,`;
  color: `,`;
`],[`
  background-color: `,`;
  color: `,`;
`])),function(t){return t.theme.primary},function(t){return t.theme.textPrimary}),ButtonSecondaryStyle=nt(templateObject_2$a||(templateObject_2$a=__makeTemplateObject$i([`
  background-color: `,`;
  color: `,`;
`],[`
  background-color: `,`;
  color: `,`;
`])),function(t){return t.theme.secondary},function(t){return t.theme.textSecondary}),Button=st.button(templateObject_3$4||(templateObject_3$4=__makeTemplateObject$i([`
  `,`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: `,`;
  pointer-events: `,`;
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`],[`
  `,`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: `,`;
  pointer-events: `,`;
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`])),ButtonPrimaryStyle,function(t){return t.disabled?.4:1},function(t){return t.disabled?"none":"all"}),LinkButton=st.a(templateObject_4$2||(templateObject_4$2=__makeTemplateObject$i([`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: `,`;
  color: `,`;
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`],[`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: `,`;
  color: `,`;
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`])),function(t){return t.theme.primary},function(t){return t.theme.textPrimary});st(Button)(templateObject_5$1||(templateObject_5$1=__makeTemplateObject$i([""],[""])));var ButtonSecondary=st(Button)(templateObject_6||(templateObject_6=__makeTemplateObject$i([`
  `,`
`],[`
  `,`
`])),ButtonSecondaryStyle),templateObject_1$i,templateObject_2$a,templateObject_3$4,templateObject_4$2,templateObject_5$1,templateObject_6,__assign$c=globalThis&&globalThis.__assign||function(){return __assign$c=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$c.apply(this,arguments)},PrevDocIcon=function(t){return React.createElement(DocNavIcon,__assign$c({},t))},NextDocIcon=function(t){return React.createElement(DocNavIcon,__assign$c({},t,{reverse:!0}))},DocNavIcon=function(t){var e=t.color,i=t.size,n=t.reverse;return React.createElement("svg",{width:i||"100%",height:i||"100%",style:{transform:"".concat(n?"rotate(180deg)":"")},id:"arrow_left",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve"},React.createElement("path",{clipRule:"evenodd",d:"M31.106,15H3.278l8.325-8.293  c0.391-0.391,0.391-1.024,0-1.414c-0.391-0.391-1.024-0.391-1.414,0l-9.9,9.899c-0.385,0.385-0.385,1.029,0,1.414l9.9,9.9  c0.391,0.391,1.024,0.391,1.414,0c0.391-0.391,0.391-1.024,0-1.414L3.278,17h27.828c0.552,0,1-0.448,1-1  C32.106,15.448,31.658,15,31.106,15z",fill:e||"#aaa",fillRule:"evenodd",id:"Arrow_Back"}))},LoadingIcon$1=function(t){var e=t.color,i=t.size;return React.createElement("svg",{width:i||"100%",height:i||"100%",version:"1.1",id:"Icons",viewBox:"0 0 32 32",xmlSpace:"preserve",style:{alignSelf:"center",justifySelf:"center"}},React.createElement("g",null,React.createElement("path",{fill:e||"#aaa",d:"M16,2c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1V3C17,2.4,16.6,2,16,2z"}),React.createElement("path",{fill:e||"#aaa",d:`M7.5,6.1c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.5,6.1
		z`}),React.createElement("path",{fill:e||"#aaa",d:"M9,16c0-0.6-0.4-1-1-1H3c-0.6,0-1,0.4-1,1s0.4,1,1,1h5C8.6,17,9,16.6,9,16z"}),React.createElement("path",{fill:e||"#aaa",d:`M9.6,20.9l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4
		S10,20.6,9.6,20.9z`}),React.createElement("path",{fill:e||"#aaa",d:"M16,23c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1v-5C17,23.4,16.6,23,16,23z"}),React.createElement("path",{fill:e||"#aaa",d:`M22.4,20.9c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4
		L22.4,20.9z`}),React.createElement("path",{fill:e||"#aaa",d:"M29,15h-5c-0.6,0-1,0.4-1,1s0.4,1,1,1h5c0.6,0,1-0.4,1-1S29.6,15,29,15z"}),React.createElement("path",{fill:e||"#aaa",d:`M21.7,11.3c0.3,0,0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4
		C21.1,11.2,21.4,11.3,21.7,11.3z`})))};/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var objectToString=Object.prototype.toString,isArray=Array.isArray||function(e){return objectToString.call(e)==="[object Array]"};function isFunction(t){return typeof t=="function"}function typeStr(t){return isArray(t)?"array":typeof t}function escapeRegExp(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(t,e){return t!=null&&typeof t=="object"&&e in t}function primitiveHasOwnProperty(t,e){return t!=null&&typeof t!="object"&&t.hasOwnProperty&&t.hasOwnProperty(e)}var regExpTest=RegExp.prototype.test;function testRegExp(t,e){return regExpTest.call(t,e)}var nonSpaceRe=/\S/;function isWhitespace(t){return!testRegExp(nonSpaceRe,t)}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function escapeHtml(t){return String(t).replace(/[&<>"'`=\/]/g,function(i){return entityMap[i]})}var whiteRe=/\s*/,spaceRe=/\s+/,equalsRe=/\s*=/,curlyRe=/\s*\}/,tagRe=/#|\^|\/|>|\{|&|=|!/;function parseTemplate(t,e){if(!t)return[];var i=!1,n=[],s=[],g=[],ae=!1,At=!1,m="",S=0;function b(){if(ae&&!At)for(;g.length;)delete s[g.pop()];else g=[];ae=!1,At=!1}var _t,vt,dt;function ut(d){if(typeof d=="string"&&(d=d.split(spaceRe,2)),!isArray(d)||d.length!==2)throw new Error("Invalid tags: "+d);_t=new RegExp(escapeRegExp(d[0])+"\\s*"),vt=new RegExp("\\s*"+escapeRegExp(d[1])),dt=new RegExp("\\s*"+escapeRegExp("}"+d[1]))}ut(e||mustache.tags);for(var at=new Scanner(t),je,Je,ht,bt,ft,p;!at.eos();){if(je=at.pos,ht=at.scanUntil(_t),ht)for(var w=0,mt=ht.length;w<mt;++w)bt=ht.charAt(w),isWhitespace(bt)?(g.push(s.length),m+=bt):(At=!0,i=!0,m+=" "),s.push(["text",bt,je,je+1]),je+=1,bt===`
`&&(b(),m="",S=0,i=!1);if(!at.scan(_t))break;if(ae=!0,Je=at.scan(tagRe)||"name",at.scan(whiteRe),Je==="="?(ht=at.scanUntil(equalsRe),at.scan(equalsRe),at.scanUntil(vt)):Je==="{"?(ht=at.scanUntil(dt),at.scan(curlyRe),at.scanUntil(vt),Je="&"):ht=at.scanUntil(vt),!at.scan(vt))throw new Error("Unclosed tag at "+at.pos);if(Je==">"?ft=[Je,ht,je,at.pos,m,S,i]:ft=[Je,ht,je,at.pos],S++,s.push(ft),Je==="#"||Je==="^")n.push(ft);else if(Je==="/"){if(p=n.pop(),!p)throw new Error('Unopened section "'+ht+'" at '+je);if(p[1]!==ht)throw new Error('Unclosed section "'+p[1]+'" at '+je)}else Je==="name"||Je==="{"||Je==="&"?At=!0:Je==="="&&ut(ht)}if(b(),p=n.pop(),p)throw new Error('Unclosed section "'+p[1]+'" at '+at.pos);return nestTokens(squashTokens(s))}function squashTokens(t){for(var e=[],i,n,s=0,g=t.length;s<g;++s)i=t[s],i&&(i[0]==="text"&&n&&n[0]==="text"?(n[1]+=i[1],n[3]=i[3]):(e.push(i),n=i));return e}function nestTokens(t){for(var e=[],i=e,n=[],s,g,ae=0,At=t.length;ae<At;++ae)switch(s=t[ae],s[0]){case"#":case"^":i.push(s),n.push(s),i=s[4]=[];break;case"/":g=n.pop(),g[5]=s[2],i=n.length>0?n[n.length-1][4]:e;break;default:i.push(s)}return e}function Scanner(t){this.string=t,this.tail=t,this.pos=0}Scanner.prototype.eos=function(){return this.tail===""};Scanner.prototype.scan=function(e){var i=this.tail.match(e);if(!i||i.index!==0)return"";var n=i[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n};Scanner.prototype.scanUntil=function(e){var i=this.tail.search(e),n;switch(i){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=n.length,n};function Context(t,e){this.view=t,this.cache={".":this.view},this.parent=e}Context.prototype.push=function(e){return new Context(e,this)};Context.prototype.lookup=function(e){var i=this.cache,n;if(i.hasOwnProperty(e))n=i[e];else{for(var s=this,g,ae,At,m=!1;s;){if(e.indexOf(".")>0)for(g=s.view,ae=e.split("."),At=0;g!=null&&At<ae.length;)At===ae.length-1&&(m=hasProperty(g,ae[At])||primitiveHasOwnProperty(g,ae[At])),g=g[ae[At++]];else g=s.view[e],m=hasProperty(s.view,e);if(m){n=g;break}s=s.parent}i[e]=n}return isFunction(n)&&(n=n.call(this.view)),n};function Writer(){this.templateCache={_cache:{},set:function(e,i){this._cache[e]=i},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}Writer.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};Writer.prototype.parse=function(e,i){var n=this.templateCache,s=e+":"+(i||mustache.tags).join(":"),g=typeof n<"u",ae=g?n.get(s):void 0;return ae==null&&(ae=parseTemplate(e,i),g&&n.set(s,ae)),ae};Writer.prototype.render=function(e,i,n,s){var g=this.getConfigTags(s),ae=this.parse(e,g),At=i instanceof Context?i:new Context(i,void 0);return this.renderTokens(ae,At,n,e,s)};Writer.prototype.renderTokens=function(e,i,n,s,g){for(var ae="",At,m,S,b=0,_t=e.length;b<_t;++b)S=void 0,At=e[b],m=At[0],m==="#"?S=this.renderSection(At,i,n,s,g):m==="^"?S=this.renderInverted(At,i,n,s,g):m===">"?S=this.renderPartial(At,i,n,g):m==="&"?S=this.unescapedValue(At,i):m==="name"?S=this.escapedValue(At,i,g):m==="text"&&(S=this.rawValue(At)),S!==void 0&&(ae+=S);return ae};Writer.prototype.renderSection=function(e,i,n,s,g){var ae=this,At="",m=i.lookup(e[1]);function S(vt){return ae.render(vt,i,n,g)}if(m){if(isArray(m))for(var b=0,_t=m.length;b<_t;++b)At+=this.renderTokens(e[4],i.push(m[b]),n,s,g);else if(typeof m=="object"||typeof m=="string"||typeof m=="number")At+=this.renderTokens(e[4],i.push(m),n,s,g);else if(isFunction(m)){if(typeof s!="string")throw new Error("Cannot use higher-order sections without the original template");m=m.call(i.view,s.slice(e[3],e[5]),S),m!=null&&(At+=m)}else At+=this.renderTokens(e[4],i,n,s,g);return At}};Writer.prototype.renderInverted=function(e,i,n,s,g){var ae=i.lookup(e[1]);if(!ae||isArray(ae)&&ae.length===0)return this.renderTokens(e[4],i,n,s,g)};Writer.prototype.indentPartial=function(e,i,n){for(var s=i.replace(/[^ \t]/g,""),g=e.split(`
`),ae=0;ae<g.length;ae++)g[ae].length&&(ae>0||!n)&&(g[ae]=s+g[ae]);return g.join(`
`)};Writer.prototype.renderPartial=function(e,i,n,s){if(n){var g=this.getConfigTags(s),ae=isFunction(n)?n(e[1]):n[e[1]];if(ae!=null){var At=e[6],m=e[5],S=e[4],b=ae;m==0&&S&&(b=this.indentPartial(ae,S,At));var _t=this.parse(b,g);return this.renderTokens(_t,i,n,b,s)}}};Writer.prototype.unescapedValue=function(e,i){var n=i.lookup(e[1]);if(n!=null)return n};Writer.prototype.escapedValue=function(e,i,n){var s=this.getConfigEscape(n)||mustache.escape,g=i.lookup(e[1]);if(g!=null)return typeof g=="number"&&s===mustache.escape?String(g):s(g)};Writer.prototype.rawValue=function(e){return e[1]};Writer.prototype.getConfigTags=function(e){return isArray(e)?e:e&&typeof e=="object"?e.tags:void 0};Writer.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!isArray(e))return e.escape};var mustache={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){defaultWriter.templateCache=t},get templateCache(){return defaultWriter.templateCache}},defaultWriter=new Writer;mustache.clearCache=function(){return defaultWriter.clearCache()};mustache.parse=function(e,i){return defaultWriter.parse(e,i)};mustache.render=function(e,i,n,s){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+typeStr(e)+'" was given as the first argument for mustache#render(template, view, partials)');return defaultWriter.render(e,i,n,s)};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;var useTranslation=function(){var t=reactExports.useContext(DocViewerContext).state.language,e=locales[defaultLanguage],i=reactExports.useCallback(function(n,s){var g=locales[t];return g[n]?mustache.render(g[n],s):e[n]?mustache.render(e[n],s):n},[t,e]);return{t:i}},__makeTemplateObject$h=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},DocumentNav=function(){var t=reactExports.useContext(DocViewerContext),e=t.state,i=e.currentDocument,n=e.currentFileNo,s=e.documents,g=t.dispatch,ae=useTranslation().t;if(s.length<=1||!i)return null;var At=i.uri||"",m=At.split("/");return m.length&&(At=m[m.length-1]),React.createElement(Container$d,{id:"doc-nav"},React.createElement("p",{id:"doc-nav-info"},ae("documentNavInfo",{currentFileNo:n+1,allFilesCount:s.length})),React.createElement(ButtonPrev,{id:"doc-nav-prev",onClick:function(){return g(previousDocument())},disabled:n===0},React.createElement(PrevDocIcon,{color:"#fff",size:"60%"})),React.createElement(ButtonNext,{id:"doc-nav-next",onClick:function(){return g(nextDocument())},disabled:n>=s.length-1},React.createElement(NextDocIcon,{color:"#fff",size:"60%"})))},Container$d=st.div(templateObject_1$h||(templateObject_1$h=__makeTemplateObject$h([`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: `,`;
`],[`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: `,`;
`])),function(t){return t.theme.textPrimary}),ButtonPrev=st(ButtonSecondary)(templateObject_2$9||(templateObject_2$9=__makeTemplateObject$h([`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),ButtonNext=st(ButtonPrev)(templateObject_3$3||(templateObject_3$3=__makeTemplateObject$h([`
  margin: 0 5px;
`],[`
  margin: 0 5px;
`]))),templateObject_1$h,templateObject_2$9,templateObject_3$3,getFileName=function(t,e){if(!t)return"";var i="";if(t.fileName)i=t.fileName;else{i=t.uri||"",i=decodeURI(i),e||(i=i.split("?")[0]);var n=i.split("/");n.length&&(i=n[n.length-1])}return i},__makeTemplateObject$g=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},FileName=function(){var t,e,i=reactExports.useContext(DocViewerContext).state,n=i.config,s=i.currentDocument;if(!s||!((t=n==null?void 0:n.header)===null||t===void 0)&&t.disableFileName)return null;var g=getFileName(s,((e=n==null?void 0:n.header)===null||e===void 0?void 0:e.retainURLParams)||!1);return React.createElement(Container$c,{id:"file-name","data-testid":"file-name"},g)},Container$c=st.div(templateObject_1$g||(templateObject_1$g=__makeTemplateObject$g([`
  flex: 1;
  text-align: left;
  color: `,`;
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`],[`
  flex: 1;
  text-align: left;
  color: `,`;
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`])),function(t){return t.theme.textPrimary}),templateObject_1$g,__makeTemplateObject$f=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},HeaderBar=function(){var t,e,i,n=reactExports.useContext(DocViewerContext),s=n.state,g=n.dispatch,ae=s.config;if(!((t=ae==null?void 0:ae.header)===null||t===void 0)&&t.disableHeader)return null;var At=(i=(e=ae==null?void 0:ae.header)===null||e===void 0?void 0:e.overrideComponent)===null||i===void 0?void 0:i.call(e,s,function(){return g(previousDocument())},function(){return g(nextDocument())});return At||React.createElement(Container$b,{id:"header-bar","data-testid":"header-bar"},React.createElement(FileName,null),React.createElement(DocumentNav,null))},Container$b=st.div(templateObject_1$f||(templateObject_1$f=__makeTemplateObject$f([`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: `,`;
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`],[`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: `,`;
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`])),function(t){return t.theme.primary}),templateObject_1$f,__assign$b=globalThis&&globalThis.__assign||function(){return __assign$b=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$b.apply(this,arguments)},__awaiter$1=globalThis&&globalThis.__awaiter||function(t,e,i,n){function s(g){return g instanceof i?g:new i(function(ae){ae(g)})}return new(i||(i=Promise))(function(g,ae){function At(b){try{S(n.next(b))}catch(_t){ae(_t)}}function m(b){try{S(n.throw(b))}catch(_t){ae(_t)}}function S(b){b.done?g(b.value):s(b.value).then(At,m)}S((n=n.apply(t,e||[])).next())})},__generator=globalThis&&globalThis.__generator||function(t,e){var i={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},n,s,g,ae;return ae={next:At(0),throw:At(1),return:At(2)},typeof Symbol=="function"&&(ae[Symbol.iterator]=function(){return this}),ae;function At(S){return function(b){return m([S,b])}}function m(S){if(n)throw new TypeError("Generator is already executing.");for(;ae&&(ae=0,S[0]&&(i=0)),i;)try{if(n=1,s&&(g=S[0]&2?s.return:S[0]?s.throw||((g=s.return)&&g.call(s),0):s.next)&&!(g=g.call(s,S[1])).done)return g;switch(s=0,g&&(S=[S[0]&2,g.value]),S[0]){case 0:case 1:g=S;break;case 4:return i.label++,{value:S[1],done:!1};case 5:i.label++,s=S[1],S=[0];continue;case 7:S=i.ops.pop(),i.trys.pop();continue;default:if(g=i.trys,!(g=g.length>0&&g[g.length-1])&&(S[0]===6||S[0]===2)){i=0;continue}if(S[0]===3&&(!g||S[1]>g[0]&&S[1]<g[3])){i.label=S[1];break}if(S[0]===6&&i.label<g[1]){i.label=g[1],g=S;break}if(g&&i.label<g[2]){i.label=g[2],i.ops.push(S);break}g[2]&&i.ops.pop(),i.trys.pop();continue}S=e.call(t,i)}catch(b){S=[6,b],s=0}finally{n=g=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},_fileLoader=function(t){var e=t.documentURI,i=t.signal,n=t.fileLoaderComplete,s=t.readerTypeFunction,g=t.headers;return fetch(e,{signal:i,headers:g}).then(function(ae){return __awaiter$1(void 0,void 0,void 0,function(){var At,m;return __generator(this,function(S){switch(S.label){case 0:return[4,ae.blob()];case 1:switch(At=S.sent(),m=new FileReader,m.addEventListener("loadend",function(){return n(m)}),s){case"arrayBuffer":m.readAsArrayBuffer(At);break;case"binaryString":m.readAsBinaryString(At);break;case"dataURL":m.readAsDataURL(At);break;case"text":m.readAsText(At);break}return[2]}})})}).catch(function(ae){return ae})},arrayBufferFileLoader=function(t){return _fileLoader(__assign$b(__assign$b({},t),{readerTypeFunction:"arrayBuffer"}))},dataURLFileLoader=function(t){return _fileLoader(__assign$b(__assign$b({},t),{readerTypeFunction:"dataURL"}))},textFileLoader=function(t){return _fileLoader(__assign$b(__assign$b({},t),{readerTypeFunction:"text"}))},defaultFileLoader=dataURLFileLoader,useRendererSelector=function(){var t=reactExports.useContext(DocViewerContext).state,e=t.currentDocument,i=t.pluginRenderers,n=reactExports.useState(),s=n[0],g=n[1];return reactExports.useEffect(function(){if(e){if(!e.fileType){g(void 0);return}var ae=[];i==null||i.forEach(function(m){e.fileType!==void 0&&m.fileTypes.indexOf(e.fileType)>=0&&ae.push(m)});var At=ae.sort(function(m,S){return S.weight-m.weight})[0];g(At&&At!==void 0?function(){return At}:null)}},[e,i]),{CurrentRenderer:s}},__assign$a=globalThis&&globalThis.__assign||function(){return __assign$a=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$a.apply(this,arguments)},useDocumentLoader=function(){var t=reactExports.useContext(DocViewerContext),e=t.state,i=t.dispatch,n=e.currentFileNo,s=e.currentDocument,g=e.prefetchMethod,ae=useRendererSelector().CurrentRenderer,At=(s==null?void 0:s.uri)||"";return reactExports.useEffect(function(){if(s&&s.fileType===void 0){var m=new AbortController,S=m.signal;return fetch(At,{method:g||At.startsWith("blob:")?"GET":"HEAD",signal:S,headers:e==null?void 0:e.requestHeaders}).then(function(b){var _t=b.headers.get("content-type"),vt=(_t==null?void 0:_t.split(";"))||[],dt=vt.length?vt[0]:void 0;i(updateCurrentDocument(__assign$a(__assign$a({},s),{fileType:dt||void 0})))}).catch(function(b){if((b==null?void 0:b.name)!=="AbortError")throw b}),function(){m.abort()}}},[n,At,s]),reactExports.useEffect(function(){var m;if(!(!s||ae===void 0)){var S=new AbortController,b=S.signal,_t=function(dt){if(!s||!dt){i(setDocumentLoading(!1));return}var ut=__assign$a({},s);dt.result!==null&&(ut.fileData=dt.result),i(updateCurrentDocument(ut)),i(setDocumentLoading(!1))},vt={documentURI:At,signal:b,fileLoaderComplete:_t,headers:e==null?void 0:e.requestHeaders};return ae===null?i(setDocumentLoading(!1)):ae.fileLoader!==void 0?(m=ae.fileLoader)===null||m===void 0||m.call(ae,vt):defaultFileLoader(vt),function(){S.abort()}}},[ae,n]),{state:e,dispatch:i,CurrentRenderer:ae}},useWindowSize=function(){var t=reactExports.useState({width:void 0,height:void 0}),e=t[0],i=t[1];return reactExports.useEffect(function(){function n(){i({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",n),n(),function(){return window.removeEventListener("resize",n)}},[]),e},LoadingTimeout=function(t){var e,i,n=t.children,s=reactExports.useContext(DocViewerContext).state,g=s.config,ae=reactExports.useState(((e=g==null?void 0:g.loadingRenderer)===null||e===void 0?void 0:e.showLoadingTimeout)===!1),At=ae[0],m=ae[1];return reactExports.useEffect(function(){var S;setTimeout(function(){m(!0)},typeof((S=g==null?void 0:g.loadingRenderer)===null||S===void 0?void 0:S.showLoadingTimeout)=="number"?g.loadingRenderer.showLoadingTimeout:500)},[(i=g==null?void 0:g.loadingRenderer)===null||i===void 0?void 0:i.showLoadingTimeout]),At?React.createElement(React.Fragment,null,n):null},__makeTemplateObject$e=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},ProxyRenderer=function(){var t,e=useDocumentLoader(),i=e.state,n=e.dispatch,s=e.CurrentRenderer,g=i.documents,ae=i.documentLoading,At=i.currentDocument,m=i.config,S=useWindowSize(),b=useTranslation().t,_t=reactExports.useCallback(function(ut){ut&&n(setRendererRect(ut==null?void 0:ut.getBoundingClientRect()))},[S]),vt=getFileName(At,((t=m==null?void 0:m.header)===null||t===void 0?void 0:t.retainURLParams)||!1),dt=function(){var ut,at,je;if(g.length)if(ae){if(m&&(!((ut=m==null?void 0:m.loadingRenderer)===null||ut===void 0)&&ut.overrideComponent)){var Je=m.loadingRenderer.overrideComponent;return React.createElement(LoadingTimeout,null,React.createElement(Je,{document:At,fileName:vt}))}return React.createElement(LoadingTimeout,null,React.createElement(LoadingContainer,{id:"loading-renderer","data-testid":"loading-renderer"},React.createElement(LoadingIconContainer,null,React.createElement(LoadingIcon$1,{color:"#444",size:40}))))}else{if(s)return React.createElement(s,{mainState:i});if(s===void 0)return null;if(m&&(!((at=m==null?void 0:m.noRenderer)===null||at===void 0)&&at.overrideComponent)){var Je=m.noRenderer.overrideComponent;return React.createElement(Je,{document:At,fileName:vt})}return React.createElement("div",{id:"no-renderer","data-testid":"no-renderer"},b("noRendererMessage",{fileType:(je=At==null?void 0:At.fileType)!==null&&je!==void 0?je:""}),React.createElement(DownloadButton$1,{id:"no-renderer-download",href:At==null?void 0:At.uri,download:At==null?void 0:At.uri},b("downloadButtonLabel")))}else return React.createElement("div",{id:"no-documents"})};return React.createElement(Container$a,{id:"proxy-renderer","data-testid":"proxy-renderer",ref:_t},React.createElement(dt,null))},Container$a=st.div(templateObject_1$e||(templateObject_1$e=__makeTemplateObject$e([`
  display: flex;
  flex: 1;
  overflow-y: auto;
`],[`
  display: flex;
  flex: 1;
  overflow-y: auto;
`]))),LoadingContainer=st.div(templateObject_2$8||(templateObject_2$8=__makeTemplateObject$e([`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`],[`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`]))),spinAnim=ct(templateObject_3$2||(templateObject_3$2=__makeTemplateObject$e([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`],[`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),LoadingIconContainer=st.div(templateObject_4$1||(templateObject_4$1=__makeTemplateObject$e([`
  animation-name: `,`;
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`],[`
  animation-name: `,`;
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`])),spinAnim),DownloadButton$1=st(LinkButton)(templateObject_5||(templateObject_5=__makeTemplateObject$e([`
  width: 130px;
  height: 30px;
  background-color: `,`;
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`],[`
  width: 130px;
  height: 30px;
  background-color: `,`;
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`])),function(t){return t.theme.primary}),templateObject_1$e,templateObject_2$8,templateObject_3$2,templateObject_4$1,templateObject_5,defaultTheme={primary:"#fff",secondary:"#000",tertiary:"#ffffff99",textPrimary:"#000",textSecondary:"#fff",textTertiary:"#00000044",disableThemeScrollbar:!1},__makeTemplateObject$d=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__assign$9=globalThis&&globalThis.__assign||function(){return __assign$9=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$9.apply(this,arguments)},ImageProxyRenderer=function(t){var e=t.mainState.currentDocument,i=t.children;return e?React.createElement(Container$9,__assign$9({id:"image-renderer"},t),i||React.createElement(Img,{id:"image-img",src:e.fileData})):null};ImageProxyRenderer.fileTypes=[];ImageProxyRenderer.weight=0;var Container$9=st.div(templateObject_1$d||(templateObject_1$d=__makeTemplateObject$d([`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`],[`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`]))),Img=st.img(templateObject_2$7||(templateObject_2$7=__makeTemplateObject$d([`
  max-width: 95%;
  max-height: 95%;
`],[`
  max-width: 95%;
  max-height: 95%;
`]))),templateObject_1$d,templateObject_2$7,__assign$8=globalThis&&globalThis.__assign||function(){return __assign$8=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$8.apply(this,arguments)},BMPRenderer=function(t){return React.createElement(ImageProxyRenderer,__assign$8({},t))};BMPRenderer.fileTypes=["bmp","image/bmp"];BMPRenderer.weight=0;var __makeTemplateObject$c=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},HTMLRenderer=function(t){var e=t.mainState.currentDocument;return reactExports.useEffect(function(){var i=e==null?void 0:e.fileData,n=(i==null?void 0:i.replace("data:text/html;base64,",""))||"",s=window.atob(n),g=document.getElementById("html-body"),ae=(g==null?void 0:g.contentWindow)&&g.contentWindow;if(ae){var At=ae.document;At.open(),At.write("".concat(s)),At.close()}},[e]),React.createElement(Container$8,{id:"html-renderer"},React.createElement(BodyIFrame,{id:"html-body",sandbox:"allow-same-origin"}))};HTMLRenderer.fileTypes=["htm","html","text/htm","text/html"];HTMLRenderer.weight=0;HTMLRenderer.fileLoader=dataURLFileLoader;var Container$8=st.div(templateObject_1$c||(templateObject_1$c=__makeTemplateObject$c([`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`],[`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`]))),BodyIFrame=st.iframe(templateObject_2$6||(templateObject_2$6=__makeTemplateObject$c([`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`],[`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`])),function(t){return t.theme.secondary}),templateObject_1$c,templateObject_2$6,__assign$7=globalThis&&globalThis.__assign||function(){return __assign$7=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$7.apply(this,arguments)},JPGRenderer$1=function(t){return React.createElement(ImageProxyRenderer,__assign$7({},t))};JPGRenderer$1.fileTypes=["jpg","jpeg","image/jpg","image/jpeg"];JPGRenderer$1.weight=0;var __makeTemplateObject$b=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__spreadArray$1=globalThis&&globalThis.__spreadArray||function(t,e,i){if(i||arguments.length===2)for(var n=0,s=e.length,g;n<s;n++)(g||!(n in e))&&(g||(g=Array.prototype.slice.call(e,0,n)),g[n]=e[n]);return t.concat(g||Array.prototype.slice.call(e))},MSDocRenderer=function(t){var e=t.mainState.currentDocument;return e?React.createElement(Container$7,{id:"msdoc-renderer"},React.createElement(IFrame,{id:"msdoc-iframe",title:"msdoc-iframe",src:"https://view.officeapps.live.com/op/embed.aspx?src=".concat(encodeURIComponent(e.uri)),frameBorder:"0"})):null},MSDocFTMaps={odt:["odt","application/vnd.oasis.opendocument.text"],doc:["doc","application/msword"],docx:["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/octet-stream"],xls:["xls","application/vnd.ms-excel"],xlsx:["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],ppt:["ppt","application/vnd.ms-powerpoint"],pptx:["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"]};MSDocRenderer.fileTypes=__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1([],MSDocFTMaps.odt,!0),MSDocFTMaps.doc,!0),MSDocFTMaps.docx,!0),MSDocFTMaps.xls,!0),MSDocFTMaps.xlsx,!0),MSDocFTMaps.ppt,!0),MSDocFTMaps.pptx,!0);MSDocRenderer.weight=0;MSDocRenderer.fileLoader=function(t){var e=t.fileLoaderComplete;return e()};var Container$7=st.div(templateObject_1$b||(templateObject_1$b=__makeTemplateObject$b([`
  width: 100%;
`],[`
  width: 100%;
`]))),IFrame=st.iframe(templateObject_2$5||(templateObject_2$5=__makeTemplateObject$b([`
  width: 100%;
  height: 100%;
  border: 0;
`],[`
  width: 100%;
  height: 100%;
  border: 0;
`]))),templateObject_1$b,templateObject_2$5;function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(e,i){module.exports=e.pdfjsLib=i()})(globalThis,()=>(()=>{var __webpack_modules__=[,(t,e)=>{var Cn;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=Lt,e.bytesToString=wt,e.createValidAbsoluteUrl=rn,e.getModificationDate=un,e.getUuid=xn,e.getVerbosityLevel=Ot,e.info=It,e.isArrayBuffer=Xt,e.isArrayEqual=dn,e.isNodeJS=void 0,e.normalizeUnicode=Fn,e.objectFromMap=Vt,e.objectSize=$t,e.setVerbosityLevel=gt,e.shadow=Kt,e.string32=Mt,e.stringToBytes=Ut,e.stringToPDFString=Qt,e.stringToUTF8String=Nt,e.unreachable=Rt,e.utf8StringToString=Wt,e.warn=Ft;const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=i;const n=[1,0,0,1,0,0];e.IDENTITY_MATRIX=n;const s=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=s;const g=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=g;const ae=1.35;e.LINE_FACTOR=ae;const At=.35;e.LINE_DESCENT_FACTOR=At;const m=At/ae;e.BASELINE_FACTOR=m;const S={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=S;const b={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=b;const _t="pdfjs_internal_editor_";e.AnnotationEditorPrefix=_t;const vt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=vt;const dt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=dt;const ut={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=ut;const at={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=at;const je={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=je;const Je={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=Je;const ht={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=ht;const bt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=bt;const ft={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=ft;const p={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=p;const w={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=w;const mt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=mt;const d={O:"PageOpen",C:"PageClose"};e.PageActionEventType=d;const a={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=a;const Ue={NONE:0,BINARY:1};e.CMapCompressionType=Ue;const xe={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=xe;const St={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=St;let Pt=a.WARNINGS;function gt(nn){Number.isInteger(nn)&&(Pt=nn)}function Ot(){return Pt}function It(nn){Pt>=a.INFOS&&console.log(`Info: ${nn}`)}function Ft(nn){Pt>=a.WARNINGS&&console.log(`Warning: ${nn}`)}function Rt(nn){throw new Error(nn)}function Lt(nn,Ht){nn||Rt(Ht)}function tn(nn){switch(nn==null?void 0:nn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function rn(nn,Ht=null,Bt=null){if(!nn)return null;try{if(Bt&&typeof nn=="string"){if(Bt.addDefaultProtocol&&nn.startsWith("www.")){const cn=nn.match(/\./g);(cn==null?void 0:cn.length)>=2&&(nn=`http://${nn}`)}if(Bt.tryConvertEncoding)try{nn=Nt(nn)}catch{}}const on=Ht?new URL(nn,Ht):new URL(nn);if(tn(on))return on}catch{}return null}function Kt(nn,Ht,Bt,on=!1){return Object.defineProperty(nn,Ht,{value:Bt,enumerable:!on,configurable:!0,writable:!1}),Bt}const yt=function(){function Ht(Bt,on){this.constructor===Ht&&Rt("Cannot initialize BaseException."),this.message=Bt,this.name=on}return Ht.prototype=new Error,Ht.constructor=Ht,Ht}();e.BaseException=yt;class l extends yt{constructor(Ht,Bt){super(Ht,"PasswordException"),this.code=Bt}}e.PasswordException=l;class h extends yt{constructor(Ht,Bt){super(Ht,"UnknownErrorException"),this.details=Bt}}e.UnknownErrorException=h;class c extends yt{constructor(Ht){super(Ht,"InvalidPDFException")}}e.InvalidPDFException=c;class ie extends yt{constructor(Ht){super(Ht,"MissingPDFException")}}e.MissingPDFException=ie;class Fe extends yt{constructor(Ht,Bt){super(Ht,"UnexpectedResponseException"),this.status=Bt}}e.UnexpectedResponseException=Fe;class lt extends yt{constructor(Ht){super(Ht,"FormatError")}}e.FormatError=lt;class xt extends yt{constructor(Ht){super(Ht,"AbortException")}}e.AbortException=xt;function wt(nn){(typeof nn!="object"||(nn==null?void 0:nn.length)===void 0)&&Rt("Invalid argument for bytesToString");const Ht=nn.length,Bt=8192;if(Ht<Bt)return String.fromCharCode.apply(null,nn);const on=[];for(let cn=0;cn<Ht;cn+=Bt){const Bn=Math.min(cn+Bt,Ht),$n=nn.subarray(cn,Bn);on.push(String.fromCharCode.apply(null,$n))}return on.join("")}function Ut(nn){typeof nn!="string"&&Rt("Invalid argument for stringToBytes");const Ht=nn.length,Bt=new Uint8Array(Ht);for(let on=0;on<Ht;++on)Bt[on]=nn.charCodeAt(on)&255;return Bt}function Mt(nn){return String.fromCharCode(nn>>24&255,nn>>16&255,nn>>8&255,nn&255)}function $t(nn){return Object.keys(nn).length}function Vt(nn){const Ht=Object.create(null);for(const[Bt,on]of nn)Ht[Bt]=on;return Ht}function Jt(){const nn=new Uint8Array(4);return nn[0]=1,new Uint32Array(nn.buffer,0,1)[0]===1}function Yt(){try{return new Function(""),!0}catch{return!1}}class hn{static get isLittleEndian(){return Kt(this,"isLittleEndian",Jt())}static get isEvalSupported(){return Kt(this,"isEvalSupported",Yt())}static get isOffscreenCanvasSupported(){return Kt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Kt(this,"platform",{isWin:!1,isMac:!1}):Kt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Ht,Bt;return Kt(this,"isCSSRoundSupported",(Bt=(Ht=globalThis.CSS)==null?void 0:Ht.supports)==null?void 0:Bt.call(Ht,"width: round(1.5px, 1px)"))}}e.FeatureTest=hn;const vn=[...Array(256).keys()].map(nn=>nn.toString(16).padStart(2,"0"));class an{static makeHexColor(Ht,Bt,on){return`#${vn[Ht]}${vn[Bt]}${vn[on]}`}static scaleMinMax(Ht,Bt){let on;Ht[0]?(Ht[0]<0&&(on=Bt[0],Bt[0]=Bt[1],Bt[1]=on),Bt[0]*=Ht[0],Bt[1]*=Ht[0],Ht[3]<0&&(on=Bt[2],Bt[2]=Bt[3],Bt[3]=on),Bt[2]*=Ht[3],Bt[3]*=Ht[3]):(on=Bt[0],Bt[0]=Bt[2],Bt[2]=on,on=Bt[1],Bt[1]=Bt[3],Bt[3]=on,Ht[1]<0&&(on=Bt[2],Bt[2]=Bt[3],Bt[3]=on),Bt[2]*=Ht[1],Bt[3]*=Ht[1],Ht[2]<0&&(on=Bt[0],Bt[0]=Bt[1],Bt[1]=on),Bt[0]*=Ht[2],Bt[1]*=Ht[2]),Bt[0]+=Ht[4],Bt[1]+=Ht[4],Bt[2]+=Ht[5],Bt[3]+=Ht[5]}static transform(Ht,Bt){return[Ht[0]*Bt[0]+Ht[2]*Bt[1],Ht[1]*Bt[0]+Ht[3]*Bt[1],Ht[0]*Bt[2]+Ht[2]*Bt[3],Ht[1]*Bt[2]+Ht[3]*Bt[3],Ht[0]*Bt[4]+Ht[2]*Bt[5]+Ht[4],Ht[1]*Bt[4]+Ht[3]*Bt[5]+Ht[5]]}static applyTransform(Ht,Bt){const on=Ht[0]*Bt[0]+Ht[1]*Bt[2]+Bt[4],cn=Ht[0]*Bt[1]+Ht[1]*Bt[3]+Bt[5];return[on,cn]}static applyInverseTransform(Ht,Bt){const on=Bt[0]*Bt[3]-Bt[1]*Bt[2],cn=(Ht[0]*Bt[3]-Ht[1]*Bt[2]+Bt[2]*Bt[5]-Bt[4]*Bt[3])/on,Bn=(-Ht[0]*Bt[1]+Ht[1]*Bt[0]+Bt[4]*Bt[1]-Bt[5]*Bt[0])/on;return[cn,Bn]}static getAxialAlignedBoundingBox(Ht,Bt){const on=this.applyTransform(Ht,Bt),cn=this.applyTransform(Ht.slice(2,4),Bt),Bn=this.applyTransform([Ht[0],Ht[3]],Bt),$n=this.applyTransform([Ht[2],Ht[1]],Bt);return[Math.min(on[0],cn[0],Bn[0],$n[0]),Math.min(on[1],cn[1],Bn[1],$n[1]),Math.max(on[0],cn[0],Bn[0],$n[0]),Math.max(on[1],cn[1],Bn[1],$n[1])]}static inverseTransform(Ht){const Bt=Ht[0]*Ht[3]-Ht[1]*Ht[2];return[Ht[3]/Bt,-Ht[1]/Bt,-Ht[2]/Bt,Ht[0]/Bt,(Ht[2]*Ht[5]-Ht[4]*Ht[3])/Bt,(Ht[4]*Ht[1]-Ht[5]*Ht[0])/Bt]}static singularValueDecompose2dScale(Ht){const Bt=[Ht[0],Ht[2],Ht[1],Ht[3]],on=Ht[0]*Bt[0]+Ht[1]*Bt[2],cn=Ht[0]*Bt[1]+Ht[1]*Bt[3],Bn=Ht[2]*Bt[0]+Ht[3]*Bt[2],$n=Ht[2]*Bt[1]+Ht[3]*Bt[3],Gt=(on+$n)/2,fn=Math.sqrt((on+$n)**2-4*(on*$n-Bn*cn))/2,An=Gt+fn||1,gn=Gt-fn||1;return[Math.sqrt(An),Math.sqrt(gn)]}static normalizeRect(Ht){const Bt=Ht.slice(0);return Ht[0]>Ht[2]&&(Bt[0]=Ht[2],Bt[2]=Ht[0]),Ht[1]>Ht[3]&&(Bt[1]=Ht[3],Bt[3]=Ht[1]),Bt}static intersect(Ht,Bt){const on=Math.max(Math.min(Ht[0],Ht[2]),Math.min(Bt[0],Bt[2])),cn=Math.min(Math.max(Ht[0],Ht[2]),Math.max(Bt[0],Bt[2]));if(on>cn)return null;const Bn=Math.max(Math.min(Ht[1],Ht[3]),Math.min(Bt[1],Bt[3])),$n=Math.min(Math.max(Ht[1],Ht[3]),Math.max(Bt[1],Bt[3]));return Bn>$n?null:[on,Bn,cn,$n]}static bezierBoundingBox(Ht,Bt,on,cn,Bn,$n,Gt,fn){const An=[],gn=[[],[]];let Sn,Tn,Nn,ln,Ln,En,Tt,u;for(let zt=0;zt<2;++zt){if(zt===0?(Tn=6*Ht-12*on+6*Bn,Sn=-3*Ht+9*on-9*Bn+3*Gt,Nn=3*on-3*Ht):(Tn=6*Bt-12*cn+6*$n,Sn=-3*Bt+9*cn-9*$n+3*fn,Nn=3*cn-3*Bt),Math.abs(Sn)<1e-12){if(Math.abs(Tn)<1e-12)continue;ln=-Nn/Tn,0<ln&&ln<1&&An.push(ln);continue}Tt=Tn*Tn-4*Nn*Sn,u=Math.sqrt(Tt),!(Tt<0)&&(Ln=(-Tn+u)/(2*Sn),0<Ln&&Ln<1&&An.push(Ln),En=(-Tn-u)/(2*Sn),0<En&&En<1&&An.push(En))}let Et=An.length,Ct;const Dt=Et;for(;Et--;)ln=An[Et],Ct=1-ln,gn[0][Et]=Ct*Ct*Ct*Ht+3*Ct*Ct*ln*on+3*Ct*ln*ln*Bn+ln*ln*ln*Gt,gn[1][Et]=Ct*Ct*Ct*Bt+3*Ct*Ct*ln*cn+3*Ct*ln*ln*$n+ln*ln*ln*fn;return gn[0][Dt]=Ht,gn[1][Dt]=Bt,gn[0][Dt+1]=Gt,gn[1][Dt+1]=fn,gn[0].length=gn[1].length=Dt+2,[Math.min(...gn[0]),Math.min(...gn[1]),Math.max(...gn[0]),Math.max(...gn[1])]}}e.Util=an;const pn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Qt(nn){if(nn[0]>="ï"){let Bt;if(nn[0]==="þ"&&nn[1]==="ÿ"?Bt="utf-16be":nn[0]==="ÿ"&&nn[1]==="þ"?Bt="utf-16le":nn[0]==="ï"&&nn[1]==="»"&&nn[2]==="¿"&&(Bt="utf-8"),Bt)try{const on=new TextDecoder(Bt,{fatal:!0}),cn=Ut(nn);return on.decode(cn)}catch(on){Ft(`stringToPDFString: "${on}".`)}}const Ht=[];for(let Bt=0,on=nn.length;Bt<on;Bt++){const cn=pn[nn.charCodeAt(Bt)];Ht.push(cn?String.fromCharCode(cn):nn.charAt(Bt))}return Ht.join("")}function Nt(nn){return decodeURIComponent(escape(nn))}function Wt(nn){return unescape(encodeURIComponent(nn))}function Xt(nn){return typeof nn=="object"&&(nn==null?void 0:nn.byteLength)!==void 0}function dn(nn,Ht){if(nn.length!==Ht.length)return!1;for(let Bt=0,on=nn.length;Bt<on;Bt++)if(nn[Bt]!==Ht[Bt])return!1;return!0}function un(nn=new Date){return[nn.getUTCFullYear().toString(),(nn.getUTCMonth()+1).toString().padStart(2,"0"),nn.getUTCDate().toString().padStart(2,"0"),nn.getUTCHours().toString().padStart(2,"0"),nn.getUTCMinutes().toString().padStart(2,"0"),nn.getUTCSeconds().toString().padStart(2,"0")].join("")}class wn{constructor(){kt(this,Cn,!1);this.promise=new Promise((Ht,Bt)=>{this.resolve=on=>{qt(this,Cn,!0),Ht(on)},this.reject=on=>{qt(this,Cn,!0),Bt(on)}})}get settled(){return o(this,Cn)}}Cn=new WeakMap,e.PromiseCapability=wn;let Rn=null,Pn=null;function Fn(nn){return Rn||(Rn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Pn=new Map([["ﬅ","ſt"]])),nn.replaceAll(Rn,(Ht,Bt,on)=>Bt?Bt.normalize("NFKC"):Pn.get(on))}function xn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const nn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(nn);else for(let Ht=0;Ht<32;Ht++)nn[Ht]=Math.floor(Math.random()*255);return wt(nn)}const kn="pdfjs_internal_id_";e.AnnotationPrefix=kn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var t,i,n,s,Kn,ae,dr,m,S,b,_t,vt,dt,ut,at,je,hr,ht,bt,Tr,p,w;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(d){if(typeof d=="string"||d instanceof URL?d={url:d}:(0,_util.isArrayBuffer)(d)&&(d={data:d}),typeof d!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!d.url&&!d.data&&!d.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const a=new PDFDocumentLoadingTask,{docId:Ue}=a,xe=d.url?getUrlProp(d.url):null,St=d.data?getDataProp(d.data):null,Pt=d.httpHeaders||null,gt=d.withCredentials===!0,Ot=d.password??null,It=d.range instanceof PDFDataRangeTransport?d.range:null,Ft=Number.isInteger(d.rangeChunkSize)&&d.rangeChunkSize>0?d.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Rt=d.worker instanceof PDFWorker?d.worker:null;const Lt=d.verbosity,tn=typeof d.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(d.docBaseUrl)?d.docBaseUrl:null,rn=typeof d.cMapUrl=="string"?d.cMapUrl:null,Kt=d.cMapPacked!==!1,yt=d.CMapReaderFactory||DefaultCMapReaderFactory,l=typeof d.standardFontDataUrl=="string"?d.standardFontDataUrl:null,h=d.StandardFontDataFactory||DefaultStandardFontDataFactory,c=d.stopAtErrors!==!0,ie=Number.isInteger(d.maxImageSize)&&d.maxImageSize>-1?d.maxImageSize:-1,Fe=d.isEvalSupported!==!1,lt=typeof d.isOffscreenCanvasSupported=="boolean"?d.isOffscreenCanvasSupported:!_util.isNodeJS,xt=Number.isInteger(d.canvasMaxAreaInBytes)?d.canvasMaxAreaInBytes:-1,wt=typeof d.disableFontFace=="boolean"?d.disableFontFace:_util.isNodeJS,Ut=d.fontExtraProperties===!0,Mt=d.enableXfa===!0,$t=d.ownerDocument||globalThis.document,Vt=d.disableRange===!0,Jt=d.disableStream===!0,Yt=d.disableAutoFetch===!0,hn=d.pdfBug===!0,vn=It?It.length:d.length??NaN,an=typeof d.useSystemFonts=="boolean"?d.useSystemFonts:!_util.isNodeJS&&!wt,pn=typeof d.useWorkerFetch=="boolean"?d.useWorkerFetch:yt===_display_utils.DOMCMapReaderFactory&&h===_display_utils.DOMStandardFontDataFactory&&rn&&l&&(0,_display_utils.isValidFetchUrl)(rn,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(l,document.baseURI),Qt=d.canvasFactory||new DefaultCanvasFactory({ownerDocument:$t}),Nt=d.filterFactory||new DefaultFilterFactory({docId:Ue,ownerDocument:$t}),Wt=null;(0,_util.setVerbosityLevel)(Lt);const Xt={canvasFactory:Qt,filterFactory:Nt};if(pn||(Xt.cMapReaderFactory=new yt({baseUrl:rn,isCompressed:Kt}),Xt.standardFontDataFactory=new h({baseUrl:l})),!Rt){const wn={verbosity:Lt,port:_worker_options.GlobalWorkerOptions.workerPort};Rt=wn.port?PDFWorker.fromPort(wn):new PDFWorker(wn),a._worker=Rt}const dn={docId:Ue,apiVersion:"3.11.174",data:St,password:Ot,disableAutoFetch:Yt,rangeChunkSize:Ft,length:vn,docBaseUrl:tn,enableXfa:Mt,evaluatorOptions:{maxImageSize:ie,disableFontFace:wt,ignoreErrors:c,isEvalSupported:Fe,isOffscreenCanvasSupported:lt,canvasMaxAreaInBytes:xt,fontExtraProperties:Ut,useSystemFonts:an,cMapUrl:pn?rn:null,standardFontDataUrl:pn?l:null}},un={ignoreErrors:c,isEvalSupported:Fe,disableFontFace:wt,fontExtraProperties:Ut,enableXfa:Mt,ownerDocument:$t,disableAutoFetch:Yt,pdfBug:hn,styleElement:Wt};return Rt.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const wn=_fetchDocument(Rt,dn),Rn=new Promise(function(Pn){let Fn;It?Fn=new _transport_stream.PDFDataTransportStream({length:vn,initialData:It.initialData,progressiveDone:It.progressiveDone,contentDispositionFilename:It.contentDispositionFilename,disableRange:Vt,disableStream:Jt},It):St||(Fn=(kn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(kn):(0,_display_utils.isValidFetchUrl)(kn.url)?new _displayFetch_stream.PDFFetchStream(kn):new _displayNetwork.PDFNetworkStream(kn))({url:xe,length:vn,httpHeaders:Pt,withCredentials:gt,rangeChunkSize:Ft,disableRange:Vt,disableStream:Jt})),Pn(Fn)});return Promise.all([wn,Rn]).then(function([Pn,Fn]){if(a.destroyed)throw new Error("Loading aborted");const xn=new _message_handler.MessageHandler(Ue,Pn,Rt.port),kn=new WorkerTransport(xn,a,Fn,un,Xt);a._transport=kn,xn.send("Ready",null)})}).catch(a._capability.reject),a}async function _fetchDocument(d,a){if(d.destroyed)throw new Error("Worker was destroyed");const Ue=await d.messageHandler.sendWithPromise("GetDocRequest",a,a.data?[a.data.buffer]:null);if(d.destroyed)throw new Error("Worker was destroyed");return Ue}function getUrlProp(d){if(d instanceof URL)return d.href;try{return new URL(d,window.location).href}catch{if(_util.isNodeJS&&typeof d=="string")return d}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(d){if(_util.isNodeJS&&typeof Buffer<"u"&&d instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength)return d;if(typeof d=="string")return(0,_util.stringToBytes)(d);if(typeof d=="object"&&!isNaN(d==null?void 0:d.length)||(0,_util.isArrayBuffer)(d))return new Uint8Array(d);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${tr(e,t)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var a,Ue,xe;this.destroyed=!0;try{(a=this._worker)!=null&&a.port&&(this._worker._pendingDestroy=!0),await((Ue=this._transport)==null?void 0:Ue.destroy())}catch(St){throw(xe=this._worker)!=null&&xe.port&&delete this._worker._pendingDestroy,St}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};t=new WeakMap,kt(e,t,0);let PDFDocumentLoadingTask=e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,Ue,xe=!1,St=null){this.length=a,this.initialData=Ue,this.progressiveDone=xe,this.contentDispositionFilename=St,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,Ue){for(const xe of this._rangeListeners)xe(a,Ue)}onDataProgress(a,Ue){this._readyCapability.promise.then(()=>{for(const xe of this._progressListeners)xe(a,Ue)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const Ue of this._progressiveReadListeners)Ue(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,Ue){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,Ue){this._pdfInfo=a,this._transport=Ue,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(xe=>{if(!xe)return xe;const St=[];for(const Pt in xe)St.push(...xe[Pt]);return St}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,Ue,xe,St=!1){kt(this,s);kt(this,ae);kt(this,i,null);kt(this,n,!1);this._pageIndex=a,this._pageInfo=Ue,this._transport=xe,this._stats=St?new _display_utils.StatTimer:null,this._pdfBug=St,this.commonObjs=xe.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:Ue=this.rotate,offsetX:xe=0,offsetY:St=0,dontFlip:Pt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:Ue,offsetX:xe,offsetY:St,dontFlip:Pt})}getAnnotations({intent:a="display"}={}){const Ue=this._transport.getRenderingIntent(a);return this._transport.getAnnotations(this._pageIndex,Ue.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var a;return((a=this._transport._htmlForXfa)==null?void 0:a.children[this._pageIndex])||null}render({canvasContext:a,viewport:Ue,intent:xe="display",annotationMode:St=_util.AnnotationMode.ENABLE,transform:Pt=null,background:gt=null,optionalContentConfigPromise:Ot=null,annotationCanvasMap:It=null,pageColors:Ft=null,printAnnotationStorage:Rt=null}){var h,c;(h=this._stats)==null||h.time("Overall");const Lt=this._transport.getRenderingIntent(xe,St,Rt);qt(this,n,!1),jt(this,ae,dr).call(this),Ot||(Ot=this._transport.getOptionalContentConfig());let tn=this._intentStates.get(Lt.cacheKey);tn||(tn=Object.create(null),this._intentStates.set(Lt.cacheKey,tn)),tn.streamReaderCancelTimeout&&(clearTimeout(tn.streamReaderCancelTimeout),tn.streamReaderCancelTimeout=null);const rn=!!(Lt.renderingIntent&_util.RenderingIntentFlag.PRINT);tn.displayReadyCapability||(tn.displayReadyCapability=new _util.PromiseCapability,tn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(Lt));const Kt=ie=>{var Fe,lt;tn.renderTasks.delete(yt),(this._maybeCleanupAfterRender||rn)&&qt(this,n,!0),jt(this,s,Kn).call(this,!rn),ie?(yt.capability.reject(ie),this._abortOperatorList({intentState:tn,reason:ie instanceof Error?ie:new Error(ie)})):yt.capability.resolve(),(Fe=this._stats)==null||Fe.timeEnd("Rendering"),(lt=this._stats)==null||lt.timeEnd("Overall")},yt=new InternalRenderTask({callback:Kt,params:{canvasContext:a,viewport:Ue,transform:Pt,background:gt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:It,operatorList:tn.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!rn,pdfBug:this._pdfBug,pageColors:Ft});(tn.renderTasks||(tn.renderTasks=new Set)).add(yt);const l=yt.task;return Promise.all([tn.displayReadyCapability.promise,Ot]).then(([ie,Fe])=>{var lt;if(this.destroyed){Kt();return}(lt=this._stats)==null||lt.time("Rendering"),yt.initializeGraphics({transparency:ie,optionalContentConfig:Fe}),yt.operatorListChanged()}).catch(Kt),l}getOperatorList({intent:a="display",annotationMode:Ue=_util.AnnotationMode.ENABLE,printAnnotationStorage:xe=null}={}){var It;function St(){gt.operatorList.lastChunk&&(gt.opListReadCapability.resolve(gt.operatorList),gt.renderTasks.delete(Ot))}const Pt=this._transport.getRenderingIntent(a,Ue,xe,!0);let gt=this._intentStates.get(Pt.cacheKey);gt||(gt=Object.create(null),this._intentStates.set(Pt.cacheKey,gt));let Ot;return gt.opListReadCapability||(Ot=Object.create(null),Ot.operatorListChanged=St,gt.opListReadCapability=new _util.PromiseCapability,(gt.renderTasks||(gt.renderTasks=new Set)).add(Ot),gt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(It=this._stats)==null||It.time("Page Request"),this._pumpOperatorList(Pt)),gt.opListReadCapability.promise}streamTextContent({includeMarkedContent:a=!1,disableNormalization:Ue=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:a===!0,disableNormalization:Ue===!0},{highWaterMark:100,size(St){return St.items.length}})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(xe=>_xfa_text.XfaText.textContent(xe));const Ue=this.streamTextContent(a);return new Promise(function(xe,St){function Pt(){gt.read().then(function({value:It,done:Ft}){if(Ft){xe(Ot);return}Object.assign(Ot.styles,It.styles),Ot.items.push(...It.items),Pt()},St)}const gt=Ue.getReader(),Ot={items:[],styles:Object.create(null)};Pt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const a=[];for(const Ue of this._intentStates.values())if(this._abortOperatorList({intentState:Ue,reason:new Error("Page was destroyed."),force:!0}),!Ue.opListReadCapability)for(const xe of Ue.renderTasks)a.push(xe.completed),xe.cancel();return this.objs.clear(),qt(this,n,!1),jt(this,ae,dr).call(this),Promise.all(a)}cleanup(a=!1){qt(this,n,!0);const Ue=jt(this,s,Kn).call(this,!1);return a&&Ue&&this._stats&&(this._stats=new _display_utils.StatTimer),Ue}_startRenderPage(a,Ue){var St,Pt;const xe=this._intentStates.get(Ue);xe&&((St=this._stats)==null||St.timeEnd("Page Request"),(Pt=xe.displayReadyCapability)==null||Pt.resolve(a))}_renderPageChunk(a,Ue){for(let xe=0,St=a.length;xe<St;xe++)Ue.operatorList.fnArray.push(a.fnArray[xe]),Ue.operatorList.argsArray.push(a.argsArray[xe]);Ue.operatorList.lastChunk=a.lastChunk,Ue.operatorList.separateAnnots=a.separateAnnots;for(const xe of Ue.renderTasks)xe.operatorListChanged();a.lastChunk&&jt(this,s,Kn).call(this,!0)}_pumpOperatorList({renderingIntent:a,cacheKey:Ue,annotationStorageSerializable:xe}){const{map:St,transfers:Pt}=xe,Ot=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:Ue,annotationStorage:St},Pt).getReader(),It=this._intentStates.get(Ue);It.streamReader=Ot;const Ft=()=>{Ot.read().then(({value:Rt,done:Lt})=>{if(Lt){It.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Rt,It),Ft())},Rt=>{if(It.streamReader=null,!this._transport.destroyed){if(It.operatorList){It.operatorList.lastChunk=!0;for(const Lt of It.renderTasks)Lt.operatorListChanged();jt(this,s,Kn).call(this,!0)}if(It.displayReadyCapability)It.displayReadyCapability.reject(Rt);else if(It.opListReadCapability)It.opListReadCapability.reject(Rt);else throw Rt}})};Ft()}_abortOperatorList({intentState:a,reason:Ue,force:xe=!1}){if(a.streamReader){if(a.streamReaderCancelTimeout&&(clearTimeout(a.streamReaderCancelTimeout),a.streamReaderCancelTimeout=null),!xe){if(a.renderTasks.size>0)return;if(Ue instanceof _display_utils.RenderingCancelledException){let St=RENDERING_CANCELLED_TIMEOUT;Ue.extraDelay>0&&Ue.extraDelay<1e3&&(St+=Ue.extraDelay),a.streamReaderCancelTimeout=setTimeout(()=>{a.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:a,reason:Ue,force:!0})},St);return}}if(a.streamReader.cancel(new _util.AbortException(Ue.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[St,Pt]of this._intentStates)if(Pt===a){this._intentStates.delete(St);break}this.cleanup()}}}get stats(){return this._stats}}i=new WeakMap,n=new WeakMap,s=new WeakSet,Kn=function(a=!1){if(jt(this,ae,dr).call(this),!o(this,n)||this.destroyed)return!1;if(a)return qt(this,i,setTimeout(()=>{qt(this,i,null),jt(this,s,Kn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Ue,operatorList:xe}of this._intentStates.values())if(Ue.size>0||!xe.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),qt(this,n,!1),!0},ae=new WeakSet,dr=function(){o(this,i)&&(clearTimeout(o(this,i)),qt(this,i,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){kt(this,m,new Set);kt(this,S,Promise.resolve())}postMessage(a,Ue){const xe={data:structuredClone(a,Ue?{transfer:Ue}:null)};o(this,S).then(()=>{for(const St of o(this,m))St.call(this,xe)})}addEventListener(a,Ue){o(this,m).add(Ue)}removeEventListener(a,Ue){o(this,m).delete(Ue)}terminate(){o(this,m).clear()}}m=new WeakMap,S=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const d=(b=document==null?void 0:document.currentScript)==null?void 0:b.src;d&&(PDFWorkerUtil.fallbackWorkerSrc=d.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(d,a){let Ue;try{if(Ue=new URL(d),!Ue.origin||Ue.origin==="null")return!1}catch{return!1}const xe=new URL(a,Ue);return Ue.origin===xe.origin},PDFWorkerUtil.createCDNWrapper=function(d){const a=`importScripts("${d}");`;return URL.createObjectURL(new Blob([a]))}}const _PDFWorker=class _PDFWorker{constructor({name:d=null,port:a=null,verbosity:Ue=(0,_util.getVerbosityLevel)()}={}){var xe;if(this.name=d,this.destroyed=!1,this.verbosity=Ue,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,a){if((xe=o(_PDFWorker,_t))!=null&&xe.has(a))throw new Error("Cannot use more than one PDFWorker per port.");(o(_PDFWorker,_t)||qt(_PDFWorker,_t,new WeakMap)).set(a,this),this._initializeFromPort(a);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(d){this._port=d,this._messageHandler=new _message_handler.MessageHandler("main","worker",d),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:d}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,d)||(d=PDFWorkerUtil.createCDNWrapper(new URL(d,window.location).href));const a=new Worker(d),Ue=new _message_handler.MessageHandler("main","worker",a),xe=()=>{a.removeEventListener("error",St),Ue.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},St=()=>{this._webWorker||xe()};a.addEventListener("error",St),Ue.on("test",gt=>{if(a.removeEventListener("error",St),this.destroyed){xe();return}gt?(this._messageHandler=Ue,this._port=a,this._webWorker=a,this._readyCapability.resolve(),Ue.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Ue.destroy(),a.terminate())}),Ue.on("ready",gt=>{if(a.removeEventListener("error",St),this.destroyed){xe();return}try{Pt()}catch{this._setupFakeWorker()}});const Pt=()=>{const gt=new Uint8Array;Ue.send("test",gt,[gt.buffer])};Pt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(d=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const a=new LoopbackPort;this._port=a;const Ue=`fake${PDFWorkerUtil.fakeWorkerId++}`,xe=new _message_handler.MessageHandler(Ue+"_worker",Ue,a);d.setup(xe,a);const St=new _message_handler.MessageHandler(Ue,Ue+"_worker",a);this._messageHandler=St,this._readyCapability.resolve(),St.send("configure",{verbosity:this.verbosity})}).catch(d=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${d.message}".`))})}destroy(){var d;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(d=o(_PDFWorker,_t))==null||d.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(d){var Ue;if(!(d!=null&&d.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const a=(Ue=o(this,_t))==null?void 0:Ue.get(d.port);if(a){if(a._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return a}return new _PDFWorker(d)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var d;try{return((d=globalThis.pdfjsWorker)==null?void 0:d.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};_t=new WeakMap,kt(_PDFWorker,_t,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(a,Ue,xe,St,Pt){kt(this,je);kt(this,vt,new Map);kt(this,dt,new Map);kt(this,ut,new Map);kt(this,at,null);this.messageHandler=a,this.loadingTask=Ue,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:St.ownerDocument,styleElement:St.styleElement}),this._params=St,this.canvasFactory=Pt.canvasFactory,this.filterFactory=Pt.filterFactory,this.cMapReaderFactory=Pt.cMapReaderFactory,this.standardFontDataFactory=Pt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=xe,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(a,Ue=_util.AnnotationMode.ENABLE,xe=null,St=!1){let Pt=_util.RenderingIntentFlag.DISPLAY,gt=_annotation_storage.SerializableEmpty;switch(a){case"any":Pt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Pt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(Ue){case _util.AnnotationMode.DISABLE:Pt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Pt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Pt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,gt=(Pt&_util.RenderingIntentFlag.PRINT&&xe instanceof _annotation_storage.PrintAnnotationStorage?xe:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Ue}`)}return St&&(Pt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Pt,cacheKey:`${Pt}_${gt.hash}`,annotationStorageSerializable:gt}}destroy(){var xe;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(xe=o(this,at))==null||xe.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const St of o(this,dt).values())a.push(St._destroy());o(this,dt).clear(),o(this,ut).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Ue=this.messageHandler.sendWithPromise("Terminate",null);return a.push(Ue),Promise.all(a).then(()=>{var St;this.commonObjs.clear(),this.fontLoader.clear(),o(this,vt).clear(),this.filterFactory.destroy(),(St=this._networkStream)==null||St.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:Ue}=this;a.on("GetReader",(xe,St)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Pt=>{this._lastProgress={loaded:Pt.loaded,total:Pt.total}},St.onPull=()=>{this._fullReader.read().then(function({value:Pt,done:gt}){if(gt){St.close();return}(0,_util.assert)(Pt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),St.enqueue(new Uint8Array(Pt),1,[Pt])}).catch(Pt=>{St.error(Pt)})},St.onCancel=Pt=>{this._fullReader.cancel(Pt),St.ready.catch(gt=>{if(!this.destroyed)throw gt})}}),a.on("ReaderHeadersReady",xe=>{const St=new _util.PromiseCapability,Pt=this._fullReader;return Pt.headersReady.then(()=>{var gt;(!Pt.isStreamingSupported||!Pt.isRangeSupported)&&(this._lastProgress&&((gt=Ue.onProgress)==null||gt.call(Ue,this._lastProgress)),Pt.onProgress=Ot=>{var It;(It=Ue.onProgress)==null||It.call(Ue,{loaded:Ot.loaded,total:Ot.total})}),St.resolve({isStreamingSupported:Pt.isStreamingSupported,isRangeSupported:Pt.isRangeSupported,contentLength:Pt.contentLength})},St.reject),St.promise}),a.on("GetRangeReader",(xe,St)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Pt=this._networkStream.getRangeReader(xe.begin,xe.end);if(!Pt){St.close();return}St.onPull=()=>{Pt.read().then(function({value:gt,done:Ot}){if(Ot){St.close();return}(0,_util.assert)(gt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),St.enqueue(new Uint8Array(gt),1,[gt])}).catch(gt=>{St.error(gt)})},St.onCancel=gt=>{Pt.cancel(gt),St.ready.catch(Ot=>{if(!this.destroyed)throw Ot})}}),a.on("GetDoc",({pdfInfo:xe})=>{this._numPages=xe.numPages,this._htmlForXfa=xe.htmlForXfa,delete xe.htmlForXfa,Ue._capability.resolve(new PDFDocumentProxy(xe,this))}),a.on("DocException",function(xe){let St;switch(xe.name){case"PasswordException":St=new _util.PasswordException(xe.message,xe.code);break;case"InvalidPDFException":St=new _util.InvalidPDFException(xe.message);break;case"MissingPDFException":St=new _util.MissingPDFException(xe.message);break;case"UnexpectedResponseException":St=new _util.UnexpectedResponseException(xe.message,xe.status);break;case"UnknownErrorException":St=new _util.UnknownErrorException(xe.message,xe.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Ue._capability.reject(St)}),a.on("PasswordRequest",xe=>{if(qt(this,at,new _util.PromiseCapability),Ue.onPassword){const St=Pt=>{Pt instanceof Error?o(this,at).reject(Pt):o(this,at).resolve({password:Pt})};try{Ue.onPassword(St,xe.code)}catch(Pt){o(this,at).reject(Pt)}}else o(this,at).reject(new _util.PasswordException(xe.message,xe.code));return o(this,at).promise}),a.on("DataLoaded",xe=>{var St;(St=Ue.onProgress)==null||St.call(Ue,{loaded:xe.length,total:xe.length}),this.downloadInfoCapability.resolve(xe)}),a.on("StartRenderPage",xe=>{if(this.destroyed)return;o(this,dt).get(xe.pageIndex)._startRenderPage(xe.transparency,xe.cacheKey)}),a.on("commonobj",([xe,St,Pt])=>{var gt;if(!this.destroyed&&!this.commonObjs.has(xe))switch(St){case"Font":const Ot=this._params;if("error"in Pt){const Rt=Pt.error;(0,_util.warn)(`Error during font loading: ${Rt}`),this.commonObjs.resolve(xe,Rt);break}const It=Ot.pdfBug&&((gt=globalThis.FontInspector)!=null&&gt.enabled)?(Rt,Lt)=>globalThis.FontInspector.fontAdded(Rt,Lt):null,Ft=new _font_loader.FontFaceObject(Pt,{isEvalSupported:Ot.isEvalSupported,disableFontFace:Ot.disableFontFace,ignoreErrors:Ot.ignoreErrors,inspectFont:It});this.fontLoader.bind(Ft).catch(Rt=>a.sendWithPromise("FontFallback",{id:xe})).finally(()=>{!Ot.fontExtraProperties&&Ft.data&&(Ft.data=null),this.commonObjs.resolve(xe,Ft)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(xe,Pt);break;default:throw new Error(`Got unknown common object type ${St}`)}}),a.on("obj",([xe,St,Pt,gt])=>{var It;if(this.destroyed)return;const Ot=o(this,dt).get(St);if(!Ot.objs.has(xe))switch(Pt){case"Image":if(Ot.objs.resolve(xe,gt),gt){let Ft;if(gt.bitmap){const{width:Rt,height:Lt}=gt;Ft=Rt*Lt*4}else Ft=((It=gt.data)==null?void 0:It.length)||0;Ft>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Ot._maybeCleanupAfterRender=!0)}break;case"Pattern":Ot.objs.resolve(xe,gt);break;default:throw new Error(`Got unknown object type ${Pt}`)}}),a.on("DocProgress",xe=>{var St;this.destroyed||(St=Ue.onProgress)==null||St.call(Ue,{loaded:xe.loaded,total:xe.total})}),a.on("FetchBuiltInCMap",xe=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(xe):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",xe=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(xe):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var xe;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:a,transfers:Ue}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:a,filename:((xe=this._fullReader)==null?void 0:xe.filename)??null},Ue).finally(()=>{this.annotationStorage.resetModified()})}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const Ue=a-1,xe=o(this,ut).get(Ue);if(xe)return xe;const St=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Ue}).then(Pt=>{if(this.destroyed)throw new Error("Transport destroyed");const gt=new PDFPageProxy(Ue,Pt,this,this._params.pdfBug);return o(this,dt).set(Ue,gt),gt});return o(this,ut).set(Ue,St),St}getPageIndex(a){return typeof a!="object"||a===null||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,Ue){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:Ue})}getFieldObjects(){return jt(this,je,hr).call(this,"GetFieldObjects")}hasJSActions(){return jt(this,je,hr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return typeof a!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return jt(this,je,hr).call(this,"GetDocJSActions")}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const a="GetMetadata",Ue=o(this,vt).get(a);if(Ue)return Ue;const xe=this.messageHandler.sendWithPromise(a,null).then(St=>{var Pt,gt;return{info:St[0],metadata:St[1]?new _metadata.Metadata(St[1]):null,contentDispositionFilename:((Pt=this._fullReader)==null?void 0:Pt.filename)??null,contentLength:((gt=this._fullReader)==null?void 0:gt.contentLength)??null}});return o(this,vt).set(a,xe),xe}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(a=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Ue of o(this,dt).values())if(!Ue.cleanup())throw new Error(`startCleanup: Page ${Ue.pageNumber} is currently rendering.`);this.commonObjs.clear(),a||this.fontLoader.clear(),o(this,vt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:a,enableXfa:Ue}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a,enableXfa:Ue})}}vt=new WeakMap,dt=new WeakMap,ut=new WeakMap,at=new WeakMap,je=new WeakSet,hr=function(a,Ue=null){const xe=o(this,vt).get(a);if(xe)return xe;const St=this.messageHandler.sendWithPromise(a,Ue);return o(this,vt).set(a,St),St};class PDFObjects{constructor(){kt(this,bt);kt(this,ht,Object.create(null))}get(a,Ue=null){if(Ue){const St=jt(this,bt,Tr).call(this,a);return St.capability.promise.then(()=>Ue(St.data)),null}const xe=o(this,ht)[a];if(!(xe!=null&&xe.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${a}.`);return xe.data}has(a){const Ue=o(this,ht)[a];return(Ue==null?void 0:Ue.capability.settled)||!1}resolve(a,Ue=null){const xe=jt(this,bt,Tr).call(this,a);xe.data=Ue,xe.capability.resolve()}clear(){var a;for(const Ue in o(this,ht)){const{data:xe}=o(this,ht)[Ue];(a=xe==null?void 0:xe.bitmap)==null||a.close()}qt(this,ht,Object.create(null))}}ht=new WeakMap,bt=new WeakSet,Tr=function(a){var Ue;return(Ue=o(this,ht))[a]||(Ue[a]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(a){kt(this,p,null);qt(this,p,a),this.onContinue=null}get promise(){return o(this,p).capability.promise}cancel(a=0){o(this,p).cancel(null,a)}get separateAnnots(){const{separateAnnots:a}=o(this,p).operatorList;if(!a)return!1;const{annotationCanvasMap:Ue}=o(this,p);return a.form||a.canvas&&(Ue==null?void 0:Ue.size)>0}}p=new WeakMap,exports.RenderTask=RenderTask;const mt=class mt{constructor({callback:a,params:Ue,objs:xe,commonObjs:St,annotationCanvasMap:Pt,operatorList:gt,pageIndex:Ot,canvasFactory:It,filterFactory:Ft,useRequestAnimationFrame:Rt=!1,pdfBug:Lt=!1,pageColors:tn=null}){this.callback=a,this.params=Ue,this.objs=xe,this.commonObjs=St,this.annotationCanvasMap=Pt,this.operatorListIdx=null,this.operatorList=gt,this._pageIndex=Ot,this.canvasFactory=It,this.filterFactory=Ft,this._pdfBug=Lt,this.pageColors=tn,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Rt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Ue.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:Ue}){var Ot,It;if(this.cancelled)return;if(this._canvas){if(o(mt,w).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");o(mt,w).add(this._canvas)}this._pdfBug&&((Ot=globalThis.StepperManager)!=null&&Ot.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:xe,viewport:St,transform:Pt,background:gt}=this.params;this.gfx=new _canvas.CanvasGraphics(xe,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Ue},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Pt,viewport:St,transparency:a,background:gt}),this.operatorListIdx=0,this.graphicsReady=!0,(It=this.graphicsReadyCallback)==null||It.call(this)}cancel(a=null,Ue=0){var xe;this.running=!1,this.cancelled=!0,(xe=this.gfx)==null||xe.endDrawing(),o(mt,w).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Ue))}operatorListChanged(){var a;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(a=this.stepper)==null||a.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),o(mt,w).delete(this._canvas),this.callback())))}};w=new WeakMap,kt(mt,w,new WeakSet);let InternalRenderTask=mt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(t,e,i)=>{var S,b,_t,li,dt;Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var n=i(1),s=i(4),g=i(8);const ae=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=ae;class At{constructor(){kt(this,_t);kt(this,S,!1);kt(this,b,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(at,je){const Je=o(this,b).get(at);return Je===void 0?je:Object.assign(je,Je)}getRawValue(at){return o(this,b).get(at)}remove(at){if(o(this,b).delete(at),o(this,b).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const je of o(this,b).values())if(je instanceof s.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(at,je){const Je=o(this,b).get(at);let ht=!1;if(Je!==void 0)for(const[bt,ft]of Object.entries(je))Je[bt]!==ft&&(ht=!0,Je[bt]=ft);else ht=!0,o(this,b).set(at,je);ht&&jt(this,_t,li).call(this),je instanceof s.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(je.constructor._type)}has(at){return o(this,b).has(at)}getAll(){return o(this,b).size>0?(0,n.objectFromMap)(o(this,b)):null}setAll(at){for(const[je,Je]of Object.entries(at))this.setValue(je,Je)}get size(){return o(this,b).size}resetModified(){o(this,S)&&(qt(this,S,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new m(this)}get serializable(){if(o(this,b).size===0)return ae;const at=new Map,je=new g.MurmurHash3_64,Je=[],ht=Object.create(null);let bt=!1;for(const[ft,p]of o(this,b)){const w=p instanceof s.AnnotationEditor?p.serialize(!1,ht):p;w&&(at.set(ft,w),je.update(`${ft}:${JSON.stringify(w)}`),bt||(bt=!!w.bitmap))}if(bt)for(const ft of at.values())ft.bitmap&&Je.push(ft.bitmap);return at.size>0?{map:at,hash:je.hexdigest(),transfers:Je}:ae}}S=new WeakMap,b=new WeakMap,_t=new WeakSet,li=function(){o(this,S)||(qt(this,S,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=At;class m extends At{constructor(je){super();kt(this,dt,void 0);const{map:Je,hash:ht,transfers:bt}=je.serializable,ft=structuredClone(Je,bt?{transfer:bt}:null);qt(this,dt,{map:ft,hash:ht,transfers:bt})}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return o(this,dt)}}dt=new WeakMap,e.PrintAnnotationStorage=m},(t,e,i)=>{var m,S,b,_t,vt,dt,ut,at,je,Je,ht,bt,ft,p,w,Cr,d,Rr,Ue,kr,St,Fr,gt,ci,It,ui,Rt,di,tn,Or,Kt,hi;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var n=i(5),s=i(1),g=i(6);const l=class l{constructor(c){kt(this,w);kt(this,d);kt(this,St);kt(this,gt);kt(this,It);kt(this,Rt);kt(this,tn);kt(this,Kt);kt(this,m,"");kt(this,S,!1);kt(this,b,null);kt(this,_t,null);kt(this,vt,null);kt(this,dt,!1);kt(this,ut,null);kt(this,at,this.focusin.bind(this));kt(this,je,this.focusout.bind(this));kt(this,Je,!1);kt(this,ht,!1);kt(this,bt,!1);Un(this,"_initialOptions",Object.create(null));Un(this,"_uiManager",null);Un(this,"_focusEventsAllowed",!0);Un(this,"_l10nPromise",null);kt(this,ft,!1);kt(this,p,l._zIndex++);this.constructor===l&&(0,s.unreachable)("Cannot initialize AnnotationEditor."),this.parent=c.parent,this.id=c.id,this.width=this.height=null,this.pageIndex=c.parent.pageIndex,this.name=c.name,this.div=null,this._uiManager=c.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=c.isCentered,this._structTreeParentId=null;const{rotation:ie,rawDims:{pageWidth:Fe,pageHeight:lt,pageX:xt,pageY:wt}}=this.parent.viewport;this.rotation=ie,this.pageRotation=(360+ie-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Fe,lt],this.pageTranslation=[xt,wt];const[Ut,Mt]=this.parentDimensions;this.x=c.x/Ut,this.y=c.y/Mt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,s.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(c){const ie=new At({id:c.parent.getNextId(),parent:c.parent,uiManager:c._uiManager});ie.annotationElementId=c.annotationElementId,ie.deleted=!0,ie._uiManager.addToAnnotationStorage(ie)}static initialize(c,ie=null){if(l._l10nPromise||(l._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(lt=>[lt,c.get(lt)]))),ie!=null&&ie.strings)for(const lt of ie.strings)l._l10nPromise.set(lt,c.get(lt));if(l._borderLineWidth!==-1)return;const Fe=getComputedStyle(document.documentElement);l._borderLineWidth=parseFloat(Fe.getPropertyValue("--outline-width"))||0}static updateDefaultParams(c,ie){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(c){return!1}static paste(c,ie){(0,s.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return o(this,ft)}set _isDraggable(c){var ie;qt(this,ft,c),(ie=this.div)==null||ie.classList.toggle("draggable",c)}center(){const[c,ie]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*ie/(c*2),this.y+=this.width*c/(ie*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*ie/(c*2),this.y-=this.width*c/(ie*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(c){this._uiManager.addCommands(c)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=o(this,p)}setParent(c){c!==null&&(this.pageIndex=c.pageIndex,this.pageDimensions=c.pageDimensions),this.parent=c}focusin(c){this._focusEventsAllowed&&(o(this,Je)?qt(this,Je,!1):this.parent.setSelected(this))}focusout(c){var Fe;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const ie=c.relatedTarget;ie!=null&&ie.closest(`#${this.id}`)||(c.preventDefault(),(Fe=this.parent)!=null&&Fe.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(c,ie,Fe,lt){const[xt,wt]=this.parentDimensions;[Fe,lt]=this.screenToPageTranslation(Fe,lt),this.x=(c+Fe)/xt,this.y=(ie+lt)/wt,this.fixAndSetPosition()}translate(c,ie){jt(this,w,Cr).call(this,this.parentDimensions,c,ie)}translateInPage(c,ie){jt(this,w,Cr).call(this,this.pageDimensions,c,ie),this.div.scrollIntoView({block:"nearest"})}drag(c,ie){const[Fe,lt]=this.parentDimensions;if(this.x+=c/Fe,this.y+=ie/lt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:$t,y:Vt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,$t,Vt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:xt,y:wt}=this;const[Ut,Mt]=jt(this,d,Rr).call(this);xt+=Ut,wt+=Mt,this.div.style.left=`${(100*xt).toFixed(2)}%`,this.div.style.top=`${(100*wt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[c,ie]=this.pageDimensions;let{x:Fe,y:lt,width:xt,height:wt}=this;switch(xt*=c,wt*=ie,Fe*=c,lt*=ie,this.rotation){case 0:Fe=Math.max(0,Math.min(c-xt,Fe)),lt=Math.max(0,Math.min(ie-wt,lt));break;case 90:Fe=Math.max(0,Math.min(c-wt,Fe)),lt=Math.min(ie,Math.max(xt,lt));break;case 180:Fe=Math.min(c,Math.max(xt,Fe)),lt=Math.min(ie,Math.max(wt,lt));break;case 270:Fe=Math.min(c,Math.max(wt,Fe)),lt=Math.max(0,Math.min(ie-xt,lt));break}this.x=Fe/=c,this.y=lt/=ie;const[Ut,Mt]=jt(this,d,Rr).call(this);Fe+=Ut,lt+=Mt;const{style:$t}=this.div;$t.left=`${(100*Fe).toFixed(2)}%`,$t.top=`${(100*lt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(c,ie){var Fe;return jt(Fe=l,Ue,kr).call(Fe,c,ie,this.parentRotation)}pageTranslationToScreen(c,ie){var Fe;return jt(Fe=l,Ue,kr).call(Fe,c,ie,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:c,pageDimensions:[ie,Fe]}=this,lt=ie*c,xt=Fe*c;return s.FeatureTest.isCSSRoundSupported?[Math.round(lt),Math.round(xt)]:[lt,xt]}setDims(c,ie){var xt;const[Fe,lt]=this.parentDimensions;this.div.style.width=`${(100*c/Fe).toFixed(2)}%`,o(this,dt)||(this.div.style.height=`${(100*ie/lt).toFixed(2)}%`),(xt=o(this,b))==null||xt.classList.toggle("small",c<l.SMALL_EDITOR_SIZE||ie<l.SMALL_EDITOR_SIZE)}fixDims(){const{style:c}=this.div,{height:ie,width:Fe}=c,lt=Fe.endsWith("%"),xt=!o(this,dt)&&ie.endsWith("%");if(lt&&xt)return;const[wt,Ut]=this.parentDimensions;lt||(c.width=`${(100*parseFloat(Fe)/wt).toFixed(2)}%`),!o(this,dt)&&!xt&&(c.height=`${(100*parseFloat(ie)/Ut).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(o(this,b))return;const c=qt(this,b,document.createElement("button"));c.className="altText";const ie=await l._l10nPromise.get("editor_alt_text_button_label");c.textContent=ie,c.setAttribute("aria-label",ie),c.tabIndex="0",c.addEventListener("contextmenu",g.noContextMenu),c.addEventListener("pointerdown",Fe=>Fe.stopPropagation()),c.addEventListener("click",Fe=>{Fe.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),c.addEventListener("keydown",Fe=>{Fe.target===c&&Fe.key==="Enter"&&(Fe.preventDefault(),this._uiManager.editAltText(this))}),jt(this,tn,Or).call(this),this.div.append(c),l.SMALL_EDITOR_SIZE||(l.SMALL_EDITOR_SIZE=Math.min(128,Math.round(c.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:o(this,m),decorative:o(this,S)}}set altTextData({altText:c,decorative:ie}){o(this,m)===c&&o(this,S)===ie||(qt(this,m,c),qt(this,S,ie),jt(this,tn,Or).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",o(this,at)),this.div.addEventListener("focusout",o(this,je));const[c,ie]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*ie/c).toFixed(2)}%`,this.div.style.maxHeight=`${(100*c/ie).toFixed(2)}%`);const[Fe,lt]=this.getInitialTranslation();return this.translate(Fe,lt),(0,n.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(c){const{isMac:ie}=s.FeatureTest.platform;if(c.button!==0||c.ctrlKey&&ie){c.preventDefault();return}qt(this,Je,!0),jt(this,Kt,hi).call(this,c)}moveInDOM(){var c;(c=this.parent)==null||c.moveEditorInDOM(this)}_setParentAndPosition(c,ie,Fe){c.changeParent(this),this.x=ie,this.y=Fe,this.fixAndSetPosition()}getRect(c,ie){const Fe=this.parentScale,[lt,xt]=this.pageDimensions,[wt,Ut]=this.pageTranslation,Mt=c/Fe,$t=ie/Fe,Vt=this.x*lt,Jt=this.y*xt,Yt=this.width*lt,hn=this.height*xt;switch(this.rotation){case 0:return[Vt+Mt+wt,xt-Jt-$t-hn+Ut,Vt+Mt+Yt+wt,xt-Jt-$t+Ut];case 90:return[Vt+$t+wt,xt-Jt+Mt+Ut,Vt+$t+hn+wt,xt-Jt+Mt+Yt+Ut];case 180:return[Vt-Mt-Yt+wt,xt-Jt+$t+Ut,Vt-Mt+wt,xt-Jt+$t+hn+Ut];case 270:return[Vt-$t-hn+wt,xt-Jt-Mt-Yt+Ut,Vt-$t+wt,xt-Jt-Mt+Ut];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(c,ie){const[Fe,lt,xt,wt]=c,Ut=xt-Fe,Mt=wt-lt;switch(this.rotation){case 0:return[Fe,ie-wt,Ut,Mt];case 90:return[Fe,ie-lt,Mt,Ut];case 180:return[xt,ie-lt,Ut,Mt];case 270:return[xt,ie-wt,Mt,Ut];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){qt(this,bt,!0)}disableEditMode(){qt(this,bt,!1)}isInEditMode(){return o(this,bt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var c,ie;(c=this.div)==null||c.addEventListener("focusin",o(this,at)),(ie=this.div)==null||ie.addEventListener("focusout",o(this,je))}serialize(c=!1,ie=null){(0,s.unreachable)("An editor must be serializable")}static deserialize(c,ie,Fe){const lt=new this.prototype.constructor({parent:ie,id:ie.getNextId(),uiManager:Fe});lt.rotation=c.rotation;const[xt,wt]=lt.pageDimensions,[Ut,Mt,$t,Vt]=lt.getRectInCurrentCoords(c.rect,wt);return lt.x=Ut/xt,lt.y=Mt/wt,lt.width=$t/xt,lt.height=Vt/wt,lt}remove(){var c;this.div.removeEventListener("focusin",o(this,at)),this.div.removeEventListener("focusout",o(this,je)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(c=o(this,b))==null||c.remove(),qt(this,b,null),qt(this,_t,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(jt(this,gt,ci).call(this),o(this,ut).classList.remove("hidden"))}select(){var c;this.makeResizable(),(c=this.div)==null||c.classList.add("selectedEditor")}unselect(){var c,ie,Fe;(c=o(this,ut))==null||c.classList.add("hidden"),(ie=this.div)==null||ie.classList.remove("selectedEditor"),(Fe=this.div)!=null&&Fe.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(c,ie){}disableEditing(){o(this,b)&&(o(this,b).hidden=!0)}enableEditing(){o(this,b)&&(o(this,b).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return o(this,ht)}set isEditing(c){qt(this,ht,c),this.parent&&(c?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(c,ie){qt(this,dt,!0);const Fe=c/ie,{style:lt}=this.div;lt.aspectRatio=Fe,lt.height="auto"}static get MIN_SIZE(){return 16}};m=new WeakMap,S=new WeakMap,b=new WeakMap,_t=new WeakMap,vt=new WeakMap,dt=new WeakMap,ut=new WeakMap,at=new WeakMap,je=new WeakMap,Je=new WeakMap,ht=new WeakMap,bt=new WeakMap,ft=new WeakMap,p=new WeakMap,w=new WeakSet,Cr=function([c,ie],Fe,lt){[Fe,lt]=this.screenToPageTranslation(Fe,lt),this.x+=Fe/c,this.y+=lt/ie,this.fixAndSetPosition()},d=new WeakSet,Rr=function(){const[c,ie]=this.parentDimensions,{_borderLineWidth:Fe}=l,lt=Fe/c,xt=Fe/ie;switch(this.rotation){case 90:return[-lt,xt];case 180:return[lt,xt];case 270:return[lt,-xt];default:return[-lt,-xt]}},Ue=new WeakSet,kr=function(c,ie,Fe){switch(Fe){case 90:return[ie,-c];case 180:return[-c,-ie];case 270:return[-ie,c];default:return[c,ie]}},St=new WeakSet,Fr=function(c){switch(c){case 90:{const[ie,Fe]=this.pageDimensions;return[0,-ie/Fe,Fe/ie,0]}case 180:return[-1,0,0,-1];case 270:{const[ie,Fe]=this.pageDimensions;return[0,ie/Fe,-Fe/ie,0]}default:return[1,0,0,1]}},gt=new WeakSet,ci=function(){if(o(this,ut))return;qt(this,ut,document.createElement("div")),o(this,ut).classList.add("resizers");const c=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||c.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const ie of c){const Fe=document.createElement("div");o(this,ut).append(Fe),Fe.classList.add("resizer",ie),Fe.addEventListener("pointerdown",jt(this,It,ui).bind(this,ie)),Fe.addEventListener("contextmenu",g.noContextMenu)}this.div.prepend(o(this,ut))},It=new WeakSet,ui=function(c,ie){ie.preventDefault();const{isMac:Fe}=s.FeatureTest.platform;if(ie.button!==0||ie.ctrlKey&&Fe)return;const lt=jt(this,Rt,di).bind(this,c),xt=this._isDraggable;this._isDraggable=!1;const wt={passive:!0,capture:!0};window.addEventListener("pointermove",lt,wt);const Ut=this.x,Mt=this.y,$t=this.width,Vt=this.height,Jt=this.parent.div.style.cursor,Yt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(ie.target).cursor;const hn=()=>{this._isDraggable=xt,window.removeEventListener("pointerup",hn),window.removeEventListener("blur",hn),window.removeEventListener("pointermove",lt,wt),this.parent.div.style.cursor=Jt,this.div.style.cursor=Yt;const vn=this.x,an=this.y,pn=this.width,Qt=this.height;vn===Ut&&an===Mt&&pn===$t&&Qt===Vt||this.addCommands({cmd:()=>{this.width=pn,this.height=Qt,this.x=vn,this.y=an;const[Nt,Wt]=this.parentDimensions;this.setDims(Nt*pn,Wt*Qt),this.fixAndSetPosition()},undo:()=>{this.width=$t,this.height=Vt,this.x=Ut,this.y=Mt;const[Nt,Wt]=this.parentDimensions;this.setDims(Nt*$t,Wt*Vt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",hn),window.addEventListener("blur",hn)},Rt=new WeakSet,di=function(c,ie){const[Fe,lt]=this.parentDimensions,xt=this.x,wt=this.y,Ut=this.width,Mt=this.height,$t=l.MIN_SIZE/Fe,Vt=l.MIN_SIZE/lt,Jt=on=>Math.round(on*1e4)/1e4,Yt=jt(this,St,Fr).call(this,this.rotation),hn=(on,cn)=>[Yt[0]*on+Yt[2]*cn,Yt[1]*on+Yt[3]*cn],vn=jt(this,St,Fr).call(this,360-this.rotation),an=(on,cn)=>[vn[0]*on+vn[2]*cn,vn[1]*on+vn[3]*cn];let pn,Qt,Nt=!1,Wt=!1;switch(c){case"topLeft":Nt=!0,pn=(on,cn)=>[0,0],Qt=(on,cn)=>[on,cn];break;case"topMiddle":pn=(on,cn)=>[on/2,0],Qt=(on,cn)=>[on/2,cn];break;case"topRight":Nt=!0,pn=(on,cn)=>[on,0],Qt=(on,cn)=>[0,cn];break;case"middleRight":Wt=!0,pn=(on,cn)=>[on,cn/2],Qt=(on,cn)=>[0,cn/2];break;case"bottomRight":Nt=!0,pn=(on,cn)=>[on,cn],Qt=(on,cn)=>[0,0];break;case"bottomMiddle":pn=(on,cn)=>[on/2,cn],Qt=(on,cn)=>[on/2,0];break;case"bottomLeft":Nt=!0,pn=(on,cn)=>[0,cn],Qt=(on,cn)=>[on,0];break;case"middleLeft":Wt=!0,pn=(on,cn)=>[0,cn/2],Qt=(on,cn)=>[on,cn/2];break}const Xt=pn(Ut,Mt),dn=Qt(Ut,Mt);let un=hn(...dn);const wn=Jt(xt+un[0]),Rn=Jt(wt+un[1]);let Pn=1,Fn=1,[xn,kn]=this.screenToPageTranslation(ie.movementX,ie.movementY);if([xn,kn]=an(xn/Fe,kn/lt),Nt){const on=Math.hypot(Ut,Mt);Pn=Fn=Math.max(Math.min(Math.hypot(dn[0]-Xt[0]-xn,dn[1]-Xt[1]-kn)/on,1/Ut,1/Mt),$t/Ut,Vt/Mt)}else Wt?Pn=Math.max($t,Math.min(1,Math.abs(dn[0]-Xt[0]-xn)))/Ut:Fn=Math.max(Vt,Math.min(1,Math.abs(dn[1]-Xt[1]-kn)))/Mt;const Cn=Jt(Ut*Pn),nn=Jt(Mt*Fn);un=hn(...Qt(Cn,nn));const Ht=wn-un[0],Bt=Rn-un[1];this.width=Cn,this.height=nn,this.x=Ht,this.y=Bt,this.setDims(Fe*Cn,lt*nn),this.fixAndSetPosition()},tn=new WeakSet,Or=async function(){var Fe;const c=o(this,b);if(!c)return;if(!o(this,m)&&!o(this,S)){c.classList.remove("done"),(Fe=o(this,_t))==null||Fe.remove();return}l._l10nPromise.get("editor_alt_text_edit_button_label").then(lt=>{c.setAttribute("aria-label",lt)});let ie=o(this,_t);if(!ie){qt(this,_t,ie=document.createElement("span")),ie.className="tooltip",ie.setAttribute("role","tooltip");const lt=ie.id=`alt-text-tooltip-${this.id}`;c.setAttribute("aria-describedby",lt);const xt=100;c.addEventListener("mouseenter",()=>{qt(this,vt,setTimeout(()=>{qt(this,vt,null),o(this,_t).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},xt))}),c.addEventListener("mouseleave",()=>{var wt;clearTimeout(o(this,vt)),qt(this,vt,null),(wt=o(this,_t))==null||wt.classList.remove("show")})}c.classList.add("done"),ie.innerText=o(this,S)?await l._l10nPromise.get("editor_alt_text_decorative_tooltip"):o(this,m),ie.parentNode||c.append(ie)},Kt=new WeakSet,hi=function(c){if(!this._isDraggable)return;const ie=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Fe,lt;ie&&(Fe={passive:!0,capture:!0},lt=wt=>{const[Ut,Mt]=this.screenToPageTranslation(wt.movementX,wt.movementY);this._uiManager.dragSelectedEditors(Ut,Mt)},window.addEventListener("pointermove",lt,Fe));const xt=()=>{if(window.removeEventListener("pointerup",xt),window.removeEventListener("blur",xt),ie&&window.removeEventListener("pointermove",lt,Fe),qt(this,Je,!1),!this._uiManager.endDragSession()){const{isMac:wt}=s.FeatureTest.platform;c.ctrlKey&&!wt||c.shiftKey||c.metaKey&&wt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",xt),window.addEventListener("blur",xt)},kt(l,Ue),Un(l,"_borderLineWidth",-1),Un(l,"_colorManager",new n.ColorManager),Un(l,"_zIndex",1),Un(l,"SMALL_EDITOR_SIZE",0);let ae=l;e.AnnotationEditor=ae;class At extends ae{constructor(c){super(c),this.annotationElementId=c.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(t,e,i)=>{var dt,ut,at,je,Je,Dr,ft,p,w,mt,d,fi,xe,St,Pt,gt,Ot,It,Ft,Rt,Lt,tn,rn,Kt,yt,l,h,c,ie,Fe,lt,xt,wt,Ut,Mt,$t,Vt,Jt,Yt,hn,vn,an,pn,Qt,Nt,Wt,Xt,pi,un,Mr,Rn,Lr,Fn,pr,kn,Ir,nn,Nr,Bt,Gn,cn,nr,$n,gi,fn,mi,gn,jr,Tn,rr,ln,$r;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=g,e.opacityToHex=ae;var n=i(1),s=i(6);function g(Tt,u,Et){for(const Ct of Et)u.addEventListener(Ct,Tt[Ct].bind(Tt))}function ae(Tt){return Math.round(Math.min(255,Math.max(1,255*Tt))).toString(16).padStart(2,"0")}class At{constructor(){kt(this,dt,0)}getId(){return`${n.AnnotationEditorPrefix}${tr(this,dt)._++}`}}dt=new WeakMap;const bt=class bt{constructor(){kt(this,Je);kt(this,ut,(0,n.getUuid)());kt(this,at,0);kt(this,je,null)}static get _isSVGFittingCanvas(){const u='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Ct=new OffscreenCanvas(1,3).getContext("2d"),Dt=new Image;Dt.src=u;const zt=Dt.decode().then(()=>(Ct.drawImage(Dt,0,0,1,1,0,0,1,3),new Uint32Array(Ct.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,n.shadow)(this,"_isSVGFittingCanvas",zt)}async getFromFile(u){const{lastModified:Et,name:Ct,size:Dt,type:zt}=u;return jt(this,Je,Dr).call(this,`${Et}_${Ct}_${Dt}_${zt}`,u)}async getFromUrl(u){return jt(this,Je,Dr).call(this,u,u)}async getFromId(u){o(this,je)||qt(this,je,new Map);const Et=o(this,je).get(u);return Et?Et.bitmap?(Et.refCounter+=1,Et):Et.file?this.getFromFile(Et.file):this.getFromUrl(Et.url):null}getSvgUrl(u){const Et=o(this,je).get(u);return Et!=null&&Et.isSvg?Et.svgUrl:null}deleteId(u){o(this,je)||qt(this,je,new Map);const Et=o(this,je).get(u);Et&&(Et.refCounter-=1,Et.refCounter===0&&(Et.bitmap=null))}isValidId(u){return u.startsWith(`image_${o(this,ut)}_`)}};ut=new WeakMap,at=new WeakMap,je=new WeakMap,Je=new WeakSet,Dr=async function(u,Et){o(this,je)||qt(this,je,new Map);let Ct=o(this,je).get(u);if(Ct===null)return null;if(Ct!=null&&Ct.bitmap)return Ct.refCounter+=1,Ct;try{Ct||(Ct={bitmap:null,id:`image_${o(this,ut)}_${tr(this,at)._++}`,refCounter:0,isSvg:!1});let Dt;if(typeof Et=="string"){Ct.url=Et;const zt=await fetch(Et);if(!zt.ok)throw new Error(zt.statusText);Dt=await zt.blob()}else Dt=Ct.file=Et;if(Dt.type==="image/svg+xml"){const zt=bt._isSVGFittingCanvas,Zt=new FileReader,sn=new Image,bn=new Promise((mn,Dn)=>{sn.onload=()=>{Ct.bitmap=sn,Ct.isSvg=!0,mn()},Zt.onload=async()=>{const _n=Ct.svgUrl=Zt.result;sn.src=await zt?`${_n}#svgView(preserveAspectRatio(none))`:_n},sn.onerror=Zt.onerror=Dn});Zt.readAsDataURL(Dt),await bn}else Ct.bitmap=await createImageBitmap(Dt);Ct.refCounter=1}catch(Dt){console.error(Dt),Ct=null}return o(this,je).set(u,Ct),Ct&&o(this,je).set(Ct.id,Ct),Ct};let m=bt;class S{constructor(u=128){kt(this,ft,[]);kt(this,p,!1);kt(this,w,void 0);kt(this,mt,-1);qt(this,w,u)}add({cmd:u,undo:Et,mustExec:Ct,type:Dt=NaN,overwriteIfSameType:zt=!1,keepUndo:Zt=!1}){if(Ct&&u(),o(this,p))return;const sn={cmd:u,undo:Et,type:Dt};if(o(this,mt)===-1){o(this,ft).length>0&&(o(this,ft).length=0),qt(this,mt,0),o(this,ft).push(sn);return}if(zt&&o(this,ft)[o(this,mt)].type===Dt){Zt&&(sn.undo=o(this,ft)[o(this,mt)].undo),o(this,ft)[o(this,mt)]=sn;return}const bn=o(this,mt)+1;bn===o(this,w)?o(this,ft).splice(0,1):(qt(this,mt,bn),bn<o(this,ft).length&&o(this,ft).splice(bn)),o(this,ft).push(sn)}undo(){o(this,mt)!==-1&&(qt(this,p,!0),o(this,ft)[o(this,mt)].undo(),qt(this,p,!1),qt(this,mt,o(this,mt)-1))}redo(){o(this,mt)<o(this,ft).length-1&&(qt(this,mt,o(this,mt)+1),qt(this,p,!0),o(this,ft)[o(this,mt)].cmd(),qt(this,p,!1))}hasSomethingToUndo(){return o(this,mt)!==-1}hasSomethingToRedo(){return o(this,mt)<o(this,ft).length-1}destroy(){qt(this,ft,null)}}ft=new WeakMap,p=new WeakMap,w=new WeakMap,mt=new WeakMap,e.CommandManager=S;class b{constructor(u){kt(this,d);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Et}=n.FeatureTest.platform;for(const[Ct,Dt,zt={}]of u)for(const Zt of Ct){const sn=Zt.startsWith("mac+");Et&&sn?(this.callbacks.set(Zt.slice(4),{callback:Dt,options:zt}),this.allKeys.add(Zt.split("+").at(-1))):!Et&&!sn&&(this.callbacks.set(Zt,{callback:Dt,options:zt}),this.allKeys.add(Zt.split("+").at(-1)))}}exec(u,Et){if(!this.allKeys.has(Et.key))return;const Ct=this.callbacks.get(jt(this,d,fi).call(this,Et));if(!Ct)return;const{callback:Dt,options:{bubbles:zt=!1,args:Zt=[],checker:sn=null}}=Ct;sn&&!sn(u,Et)||(Dt.bind(u,...Zt)(),zt||(Et.stopPropagation(),Et.preventDefault()))}}d=new WeakSet,fi=function(u){u.altKey&&this.buffer.push("alt"),u.ctrlKey&&this.buffer.push("ctrl"),u.metaKey&&this.buffer.push("meta"),u.shiftKey&&this.buffer.push("shift"),this.buffer.push(u.key);const Et=this.buffer.join("+");return this.buffer.length=0,Et},e.KeyboardManager=b;const Ue=class Ue{get _colors(){const u=new Map([["CanvasText",null],["Canvas",null]]);return(0,s.getColorValues)(u),(0,n.shadow)(this,"_colors",u)}convert(u){const Et=(0,s.getRGB)(u);if(!window.matchMedia("(forced-colors: active)").matches)return Et;for(const[Ct,Dt]of this._colors)if(Dt.every((zt,Zt)=>zt===Et[Zt]))return Ue._colorsMapping.get(Ct);return Et}getHexCode(u){const Et=this._colors.get(u);return Et?n.Util.makeHexColor(...Et):u}};Un(Ue,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _t=Ue;e.ColorManager=_t;const En=class En{constructor(u,Et,Ct,Dt,zt,Zt){kt(this,Xt);kt(this,un);kt(this,Rn);kt(this,Fn);kt(this,kn);kt(this,nn);kt(this,Bt);kt(this,cn);kt(this,$n);kt(this,fn);kt(this,gn);kt(this,Tn);kt(this,ln);kt(this,xe,null);kt(this,St,new Map);kt(this,Pt,new Map);kt(this,gt,null);kt(this,Ot,null);kt(this,It,new S);kt(this,Ft,0);kt(this,Rt,new Set);kt(this,Lt,null);kt(this,tn,null);kt(this,rn,new Set);kt(this,Kt,null);kt(this,yt,new At);kt(this,l,!1);kt(this,h,!1);kt(this,c,null);kt(this,ie,n.AnnotationEditorType.NONE);kt(this,Fe,new Set);kt(this,lt,null);kt(this,xt,this.blur.bind(this));kt(this,wt,this.focus.bind(this));kt(this,Ut,this.copy.bind(this));kt(this,Mt,this.cut.bind(this));kt(this,$t,this.paste.bind(this));kt(this,Vt,this.keydown.bind(this));kt(this,Jt,this.onEditingAction.bind(this));kt(this,Yt,this.onPageChanging.bind(this));kt(this,hn,this.onScaleChanging.bind(this));kt(this,vn,this.onRotationChanging.bind(this));kt(this,an,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});kt(this,pn,[0,0]);kt(this,Qt,null);kt(this,Nt,null);kt(this,Wt,null);qt(this,Nt,u),qt(this,Wt,Et),qt(this,gt,Ct),this._eventBus=Dt,this._eventBus._on("editingaction",o(this,Jt)),this._eventBus._on("pagechanging",o(this,Yt)),this._eventBus._on("scalechanging",o(this,hn)),this._eventBus._on("rotationchanging",o(this,vn)),qt(this,Ot,zt.annotationStorage),qt(this,Kt,zt.filterFactory),qt(this,lt,Zt),this.viewParameters={realScale:s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const u=En.prototype,Et=zt=>{const{activeElement:Zt}=document;return Zt&&o(zt,Nt).contains(Zt)&&zt.hasSomethingToControl()},Ct=this.TRANSLATE_SMALL,Dt=this.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new b([[["ctrl+a","mac+meta+a"],u.selectAll],[["ctrl+z","mac+meta+z"],u.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],u.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],u.delete],[["Escape","mac+Escape"],u.unselectAll],[["ArrowLeft","mac+ArrowLeft"],u.translateSelectedEditors,{args:[-Ct,0],checker:Et}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],u.translateSelectedEditors,{args:[-Dt,0],checker:Et}],[["ArrowRight","mac+ArrowRight"],u.translateSelectedEditors,{args:[Ct,0],checker:Et}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],u.translateSelectedEditors,{args:[Dt,0],checker:Et}],[["ArrowUp","mac+ArrowUp"],u.translateSelectedEditors,{args:[0,-Ct],checker:Et}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],u.translateSelectedEditors,{args:[0,-Dt],checker:Et}],[["ArrowDown","mac+ArrowDown"],u.translateSelectedEditors,{args:[0,Ct],checker:Et}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],u.translateSelectedEditors,{args:[0,Dt],checker:Et}]]))}destroy(){jt(this,Fn,pr).call(this),jt(this,un,Mr).call(this),this._eventBus._off("editingaction",o(this,Jt)),this._eventBus._off("pagechanging",o(this,Yt)),this._eventBus._off("scalechanging",o(this,hn)),this._eventBus._off("rotationchanging",o(this,vn));for(const u of o(this,Pt).values())u.destroy();o(this,Pt).clear(),o(this,St).clear(),o(this,rn).clear(),qt(this,xe,null),o(this,Fe).clear(),o(this,It).destroy(),o(this,gt).destroy()}get hcmFilter(){return(0,n.shadow)(this,"hcmFilter",o(this,lt)?o(this,Kt).addHCMFilter(o(this,lt).foreground,o(this,lt).background):"none")}get direction(){return(0,n.shadow)(this,"direction",getComputedStyle(o(this,Nt)).direction)}editAltText(u){var Et;(Et=o(this,gt))==null||Et.editAltText(this,u)}onPageChanging({pageNumber:u}){qt(this,Ft,u-1)}focusMainContainer(){o(this,Nt).focus()}findParent(u,Et){for(const Ct of o(this,Pt).values()){const{x:Dt,y:zt,width:Zt,height:sn}=Ct.div.getBoundingClientRect();if(u>=Dt&&u<=Dt+Zt&&Et>=zt&&Et<=zt+sn)return Ct}return null}disableUserSelect(u=!1){o(this,Wt).classList.toggle("noUserSelect",u)}addShouldRescale(u){o(this,rn).add(u)}removeShouldRescale(u){o(this,rn).delete(u)}onScaleChanging({scale:u}){this.commitOrRemove(),this.viewParameters.realScale=u*s.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Et of o(this,rn))Et.onScaleChanging()}onRotationChanging({pagesRotation:u}){this.commitOrRemove(),this.viewParameters.rotation=u}addToAnnotationStorage(u){!u.isEmpty()&&o(this,Ot)&&!o(this,Ot).has(u.id)&&o(this,Ot).setValue(u.id,u)}blur(){if(!this.hasSelection)return;const{activeElement:u}=document;for(const Et of o(this,Fe))if(Et.div.contains(u)){qt(this,c,[Et,u]),Et._focusEventsAllowed=!1;break}}focus(){if(!o(this,c))return;const[u,Et]=o(this,c);qt(this,c,null),Et.addEventListener("focusin",()=>{u._focusEventsAllowed=!0},{once:!0}),Et.focus()}addEditListeners(){jt(this,Rn,Lr).call(this),jt(this,kn,Ir).call(this)}removeEditListeners(){jt(this,Fn,pr).call(this),jt(this,nn,Nr).call(this)}copy(u){var Ct;if(u.preventDefault(),(Ct=o(this,xe))==null||Ct.commitOrRemove(),!this.hasSelection)return;const Et=[];for(const Dt of o(this,Fe)){const zt=Dt.serialize(!0);zt&&Et.push(zt)}Et.length!==0&&u.clipboardData.setData("application/pdfjs",JSON.stringify(Et))}cut(u){this.copy(u),this.delete()}paste(u){u.preventDefault();const{clipboardData:Et}=u;for(const zt of Et.items)for(const Zt of o(this,tn))if(Zt.isHandlingMimeForPasting(zt.type)){Zt.paste(zt,this.currentLayer);return}let Ct=Et.getData("application/pdfjs");if(!Ct)return;try{Ct=JSON.parse(Ct)}catch(zt){(0,n.warn)(`paste: "${zt.message}".`);return}if(!Array.isArray(Ct))return;this.unselectAll();const Dt=this.currentLayer;try{const zt=[];for(const bn of Ct){const mn=Dt.deserialize(bn);if(!mn)return;zt.push(mn)}const Zt=()=>{for(const bn of zt)jt(this,gn,jr).call(this,bn);jt(this,ln,$r).call(this,zt)},sn=()=>{for(const bn of zt)bn.remove()};this.addCommands({cmd:Zt,undo:sn,mustExec:!0})}catch(zt){(0,n.warn)(`paste: "${zt.message}".`)}}keydown(u){var Et;(Et=this.getActive())!=null&&Et.shouldGetKeyboardEvents()||En._keyboardManager.exec(this,u)}onEditingAction(u){["undo","redo","delete","selectAll"].includes(u.name)&&this[u.name]()}setEditingState(u){u?(jt(this,Xt,pi).call(this),jt(this,Rn,Lr).call(this),jt(this,kn,Ir).call(this),jt(this,Bt,Gn).call(this,{isEditing:o(this,ie)!==n.AnnotationEditorType.NONE,isEmpty:jt(this,Tn,rr).call(this),hasSomethingToUndo:o(this,It).hasSomethingToUndo(),hasSomethingToRedo:o(this,It).hasSomethingToRedo(),hasSelectedEditor:!1})):(jt(this,un,Mr).call(this),jt(this,Fn,pr).call(this),jt(this,nn,Nr).call(this),jt(this,Bt,Gn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(u){if(!o(this,tn)){qt(this,tn,u);for(const Et of o(this,tn))jt(this,cn,nr).call(this,Et.defaultPropertiesToUpdate)}}getId(){return o(this,yt).getId()}get currentLayer(){return o(this,Pt).get(o(this,Ft))}getLayer(u){return o(this,Pt).get(u)}get currentPageIndex(){return o(this,Ft)}addLayer(u){o(this,Pt).set(u.pageIndex,u),o(this,l)?u.enable():u.disable()}removeLayer(u){o(this,Pt).delete(u.pageIndex)}updateMode(u,Et=null){if(o(this,ie)!==u){if(qt(this,ie,u),u===n.AnnotationEditorType.NONE){this.setEditingState(!1),jt(this,fn,mi).call(this);return}this.setEditingState(!0),jt(this,$n,gi).call(this),this.unselectAll();for(const Ct of o(this,Pt).values())Ct.updateMode(u);if(Et){for(const Ct of o(this,St).values())if(Ct.annotationElementId===Et){this.setSelected(Ct),Ct.enterInEditMode();break}}}}updateToolbar(u){u!==o(this,ie)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:u})}updateParams(u,Et){if(o(this,tn)){if(u===n.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(u);return}for(const Ct of o(this,Fe))Ct.updateParams(u,Et);for(const Ct of o(this,tn))Ct.updateDefaultParams(u,Et)}}enableWaiting(u=!1){if(o(this,h)!==u){qt(this,h,u);for(const Et of o(this,Pt).values())u?Et.disableClick():Et.enableClick(),Et.div.classList.toggle("waiting",u)}}getEditors(u){const Et=[];for(const Ct of o(this,St).values())Ct.pageIndex===u&&Et.push(Ct);return Et}getEditor(u){return o(this,St).get(u)}addEditor(u){o(this,St).set(u.id,u)}removeEditor(u){var Et;o(this,St).delete(u.id),this.unselect(u),(!u.annotationElementId||!o(this,Rt).has(u.annotationElementId))&&((Et=o(this,Ot))==null||Et.remove(u.id))}addDeletedAnnotationElement(u){o(this,Rt).add(u.annotationElementId),u.deleted=!0}isDeletedAnnotationElement(u){return o(this,Rt).has(u)}removeDeletedAnnotationElement(u){o(this,Rt).delete(u.annotationElementId),u.deleted=!1}setActiveEditor(u){o(this,xe)!==u&&(qt(this,xe,u),u&&jt(this,cn,nr).call(this,u.propertiesToUpdate))}toggleSelected(u){if(o(this,Fe).has(u)){o(this,Fe).delete(u),u.unselect(),jt(this,Bt,Gn).call(this,{hasSelectedEditor:this.hasSelection});return}o(this,Fe).add(u),u.select(),jt(this,cn,nr).call(this,u.propertiesToUpdate),jt(this,Bt,Gn).call(this,{hasSelectedEditor:!0})}setSelected(u){for(const Et of o(this,Fe))Et!==u&&Et.unselect();o(this,Fe).clear(),o(this,Fe).add(u),u.select(),jt(this,cn,nr).call(this,u.propertiesToUpdate),jt(this,Bt,Gn).call(this,{hasSelectedEditor:!0})}isSelected(u){return o(this,Fe).has(u)}unselect(u){u.unselect(),o(this,Fe).delete(u),jt(this,Bt,Gn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return o(this,Fe).size!==0}undo(){o(this,It).undo(),jt(this,Bt,Gn).call(this,{hasSomethingToUndo:o(this,It).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:jt(this,Tn,rr).call(this)})}redo(){o(this,It).redo(),jt(this,Bt,Gn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:o(this,It).hasSomethingToRedo(),isEmpty:jt(this,Tn,rr).call(this)})}addCommands(u){o(this,It).add(u),jt(this,Bt,Gn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:jt(this,Tn,rr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const u=[...o(this,Fe)],Et=()=>{for(const Dt of u)Dt.remove()},Ct=()=>{for(const Dt of u)jt(this,gn,jr).call(this,Dt)};this.addCommands({cmd:Et,undo:Ct,mustExec:!0})}commitOrRemove(){var u;(u=o(this,xe))==null||u.commitOrRemove()}hasSomethingToControl(){return o(this,xe)||this.hasSelection}selectAll(){for(const u of o(this,Fe))u.commit();jt(this,ln,$r).call(this,o(this,St).values())}unselectAll(){if(o(this,xe)){o(this,xe).commitOrRemove();return}if(this.hasSelection){for(const u of o(this,Fe))u.unselect();o(this,Fe).clear(),jt(this,Bt,Gn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(u,Et,Ct=!1){if(Ct||this.commitOrRemove(),!this.hasSelection)return;o(this,pn)[0]+=u,o(this,pn)[1]+=Et;const[Dt,zt]=o(this,pn),Zt=[...o(this,Fe)],sn=1e3;o(this,Qt)&&clearTimeout(o(this,Qt)),qt(this,Qt,setTimeout(()=>{qt(this,Qt,null),o(this,pn)[0]=o(this,pn)[1]=0,this.addCommands({cmd:()=>{for(const bn of Zt)o(this,St).has(bn.id)&&bn.translateInPage(Dt,zt)},undo:()=>{for(const bn of Zt)o(this,St).has(bn.id)&&bn.translateInPage(-Dt,-zt)},mustExec:!1})},sn));for(const bn of Zt)bn.translateInPage(u,Et)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),qt(this,Lt,new Map);for(const u of o(this,Fe))o(this,Lt).set(u,{savedX:u.x,savedY:u.y,savedPageIndex:u.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!o(this,Lt))return!1;this.disableUserSelect(!1);const u=o(this,Lt);qt(this,Lt,null);let Et=!1;for(const[{x:Dt,y:zt,pageIndex:Zt},sn]of u)sn.newX=Dt,sn.newY=zt,sn.newPageIndex=Zt,Et||(Et=Dt!==sn.savedX||zt!==sn.savedY||Zt!==sn.savedPageIndex);if(!Et)return!1;const Ct=(Dt,zt,Zt,sn)=>{if(o(this,St).has(Dt.id)){const bn=o(this,Pt).get(sn);bn?Dt._setParentAndPosition(bn,zt,Zt):(Dt.pageIndex=sn,Dt.x=zt,Dt.y=Zt)}};return this.addCommands({cmd:()=>{for(const[Dt,{newX:zt,newY:Zt,newPageIndex:sn}]of u)Ct(Dt,zt,Zt,sn)},undo:()=>{for(const[Dt,{savedX:zt,savedY:Zt,savedPageIndex:sn}]of u)Ct(Dt,zt,Zt,sn)},mustExec:!0}),!0}dragSelectedEditors(u,Et){if(o(this,Lt))for(const Ct of o(this,Lt).keys())Ct.drag(u,Et)}rebuild(u){if(u.parent===null){const Et=this.getLayer(u.pageIndex);Et?(Et.changeParent(u),Et.addOrRebuild(u)):(this.addEditor(u),this.addToAnnotationStorage(u),u.rebuild())}else u.parent.addOrRebuild(u)}isActive(u){return o(this,xe)===u}getActive(){return o(this,xe)}getMode(){return o(this,ie)}get imageManager(){return(0,n.shadow)(this,"imageManager",new m)}};xe=new WeakMap,St=new WeakMap,Pt=new WeakMap,gt=new WeakMap,Ot=new WeakMap,It=new WeakMap,Ft=new WeakMap,Rt=new WeakMap,Lt=new WeakMap,tn=new WeakMap,rn=new WeakMap,Kt=new WeakMap,yt=new WeakMap,l=new WeakMap,h=new WeakMap,c=new WeakMap,ie=new WeakMap,Fe=new WeakMap,lt=new WeakMap,xt=new WeakMap,wt=new WeakMap,Ut=new WeakMap,Mt=new WeakMap,$t=new WeakMap,Vt=new WeakMap,Jt=new WeakMap,Yt=new WeakMap,hn=new WeakMap,vn=new WeakMap,an=new WeakMap,pn=new WeakMap,Qt=new WeakMap,Nt=new WeakMap,Wt=new WeakMap,Xt=new WeakSet,pi=function(){window.addEventListener("focus",o(this,wt)),window.addEventListener("blur",o(this,xt))},un=new WeakSet,Mr=function(){window.removeEventListener("focus",o(this,wt)),window.removeEventListener("blur",o(this,xt))},Rn=new WeakSet,Lr=function(){window.addEventListener("keydown",o(this,Vt),{capture:!0})},Fn=new WeakSet,pr=function(){window.removeEventListener("keydown",o(this,Vt),{capture:!0})},kn=new WeakSet,Ir=function(){document.addEventListener("copy",o(this,Ut)),document.addEventListener("cut",o(this,Mt)),document.addEventListener("paste",o(this,$t))},nn=new WeakSet,Nr=function(){document.removeEventListener("copy",o(this,Ut)),document.removeEventListener("cut",o(this,Mt)),document.removeEventListener("paste",o(this,$t))},Bt=new WeakSet,Gn=function(u){Object.entries(u).some(([Ct,Dt])=>o(this,an)[Ct]!==Dt)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(o(this,an),u)})},cn=new WeakSet,nr=function(u){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:u})},$n=new WeakSet,gi=function(){if(!o(this,l)){qt(this,l,!0);for(const u of o(this,Pt).values())u.enable()}},fn=new WeakSet,mi=function(){if(this.unselectAll(),o(this,l)){qt(this,l,!1);for(const u of o(this,Pt).values())u.disable()}},gn=new WeakSet,jr=function(u){const Et=o(this,Pt).get(u.pageIndex);Et?Et.addOrRebuild(u):this.addEditor(u)},Tn=new WeakSet,rr=function(){if(o(this,St).size===0)return!0;if(o(this,St).size===1)for(const u of o(this,St).values())return u.isEmpty();return!1},ln=new WeakSet,$r=function(u){o(this,Fe).clear();for(const Et of u)Et.isEmpty()||(o(this,Fe).add(Et),Et.select());jt(this,Bt,Gn).call(this,{hasSelectedEditor:!0})},Un(En,"TRANSLATE_SMALL",1),Un(En,"TRANSLATE_BIG",10);let vt=En;e.AnnotationEditorUIManager=vt},(t,e,i)=>{var Ft,Rt,Lt,tn,rn,Kt,yt,l,h,c,ie,Fe,Zn,xt,Jn,Ut,Br,$t,gr,Jt,mr,hn,ir,an,or;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=mt,e.getColorValues=St,e.getCurrentTransform=Pt,e.getCurrentTransformInverse=gt,e.getFilenameFromUrl=Je,e.getPdfFilenameFromUrl=ht,e.getRGB=xe,e.getXfaPageViewport=Ue,e.isDataScheme=at,e.isPdfFile=je,e.isValidFetchUrl=ft,e.loadScript=w,e.noContextMenu=p,e.setLayerDimensions=Ot;var n=i(7),s=i(1);const g="http://www.w3.org/2000/svg",It=class It{};Un(It,"CSS",96),Un(It,"PDF",72),Un(It,"PDF_TO_CSS_UNITS",It.CSS/It.PDF);let ae=It;e.PixelsPerInch=ae;class At extends n.BaseFilterFactory{constructor({docId:Wt,ownerDocument:Xt=globalThis.document}={}){super();kt(this,Fe);kt(this,xt);kt(this,Ut);kt(this,$t);kt(this,Jt);kt(this,hn);kt(this,an);kt(this,Ft,void 0);kt(this,Rt,void 0);kt(this,Lt,void 0);kt(this,tn,void 0);kt(this,rn,void 0);kt(this,Kt,void 0);kt(this,yt,void 0);kt(this,l,void 0);kt(this,h,void 0);kt(this,c,void 0);kt(this,ie,0);qt(this,Lt,Wt),qt(this,tn,Xt)}addFilter(Wt){if(!Wt)return"none";let Xt=o(this,Fe,Zn).get(Wt);if(Xt)return Xt;let dn,un,wn,Rn;if(Wt.length===1){const kn=Wt[0],Cn=new Array(256);for(let nn=0;nn<256;nn++)Cn[nn]=kn[nn]/255;Rn=dn=un=wn=Cn.join(",")}else{const[kn,Cn,nn]=Wt,Ht=new Array(256),Bt=new Array(256),on=new Array(256);for(let cn=0;cn<256;cn++)Ht[cn]=kn[cn]/255,Bt[cn]=Cn[cn]/255,on[cn]=nn[cn]/255;dn=Ht.join(","),un=Bt.join(","),wn=on.join(","),Rn=`${dn}${un}${wn}`}if(Xt=o(this,Fe,Zn).get(Rn),Xt)return o(this,Fe,Zn).set(Wt,Xt),Xt;const Pn=`g_${o(this,Lt)}_transfer_map_${tr(this,ie)._++}`,Fn=`url(#${Pn})`;o(this,Fe,Zn).set(Wt,Fn),o(this,Fe,Zn).set(Rn,Fn);const xn=jt(this,$t,gr).call(this,Pn);return jt(this,hn,ir).call(this,dn,un,wn,xn),Fn}addHCMFilter(Wt,Xt){var Cn;const dn=`${Wt}-${Xt}`;if(o(this,Kt)===dn)return o(this,yt);if(qt(this,Kt,dn),qt(this,yt,"none"),(Cn=o(this,rn))==null||Cn.remove(),!Wt||!Xt)return o(this,yt);const un=jt(this,an,or).call(this,Wt);Wt=s.Util.makeHexColor(...un);const wn=jt(this,an,or).call(this,Xt);if(Xt=s.Util.makeHexColor(...wn),o(this,xt,Jn).style.color="",Wt==="#000000"&&Xt==="#ffffff"||Wt===Xt)return o(this,yt);const Rn=new Array(256);for(let nn=0;nn<=255;nn++){const Ht=nn/255;Rn[nn]=Ht<=.03928?Ht/12.92:((Ht+.055)/1.055)**2.4}const Pn=Rn.join(","),Fn=`g_${o(this,Lt)}_hcm_filter`,xn=qt(this,l,jt(this,$t,gr).call(this,Fn));jt(this,hn,ir).call(this,Pn,Pn,Pn,xn),jt(this,Ut,Br).call(this,xn);const kn=(nn,Ht)=>{const Bt=un[nn]/255,on=wn[nn]/255,cn=new Array(Ht+1);for(let Bn=0;Bn<=Ht;Bn++)cn[Bn]=Bt+Bn/Ht*(on-Bt);return cn.join(",")};return jt(this,hn,ir).call(this,kn(0,5),kn(1,5),kn(2,5),xn),qt(this,yt,`url(#${Fn})`),o(this,yt)}addHighlightHCMFilter(Wt,Xt,dn,un){var on;const wn=`${Wt}-${Xt}-${dn}-${un}`;if(o(this,h)===wn)return o(this,c);if(qt(this,h,wn),qt(this,c,"none"),(on=o(this,l))==null||on.remove(),!Wt||!Xt)return o(this,c);const[Rn,Pn]=[Wt,Xt].map(jt(this,an,or).bind(this));let Fn=Math.round(.2126*Rn[0]+.7152*Rn[1]+.0722*Rn[2]),xn=Math.round(.2126*Pn[0]+.7152*Pn[1]+.0722*Pn[2]),[kn,Cn]=[dn,un].map(jt(this,an,or).bind(this));xn<Fn&&([Fn,xn,kn,Cn]=[xn,Fn,Cn,kn]),o(this,xt,Jn).style.color="";const nn=(cn,Bn,$n)=>{const Gt=new Array(256),fn=(xn-Fn)/$n,An=cn/255,gn=(Bn-cn)/(255*$n);let Sn=0;for(let Tn=0;Tn<=$n;Tn++){const Nn=Math.round(Fn+Tn*fn),ln=An+Tn*gn;for(let Ln=Sn;Ln<=Nn;Ln++)Gt[Ln]=ln;Sn=Nn+1}for(let Tn=Sn;Tn<256;Tn++)Gt[Tn]=Gt[Sn-1];return Gt.join(",")},Ht=`g_${o(this,Lt)}_hcm_highlight_filter`,Bt=qt(this,l,jt(this,$t,gr).call(this,Ht));return jt(this,Ut,Br).call(this,Bt),jt(this,hn,ir).call(this,nn(kn[0],Cn[0],5),nn(kn[1],Cn[1],5),nn(kn[2],Cn[2],5),Bt),qt(this,c,`url(#${Ht})`),o(this,c)}destroy(Wt=!1){Wt&&(o(this,yt)||o(this,c))||(o(this,Rt)&&(o(this,Rt).parentNode.parentNode.remove(),qt(this,Rt,null)),o(this,Ft)&&(o(this,Ft).clear(),qt(this,Ft,null)),qt(this,ie,0))}}Ft=new WeakMap,Rt=new WeakMap,Lt=new WeakMap,tn=new WeakMap,rn=new WeakMap,Kt=new WeakMap,yt=new WeakMap,l=new WeakMap,h=new WeakMap,c=new WeakMap,ie=new WeakMap,Fe=new WeakSet,Zn=function(){return o(this,Ft)||qt(this,Ft,new Map)},xt=new WeakSet,Jn=function(){if(!o(this,Rt)){const Wt=o(this,tn).createElement("div"),{style:Xt}=Wt;Xt.visibility="hidden",Xt.contain="strict",Xt.width=Xt.height=0,Xt.position="absolute",Xt.top=Xt.left=0,Xt.zIndex=-1;const dn=o(this,tn).createElementNS(g,"svg");dn.setAttribute("width",0),dn.setAttribute("height",0),qt(this,Rt,o(this,tn).createElementNS(g,"defs")),Wt.append(dn),dn.append(o(this,Rt)),o(this,tn).body.append(Wt)}return o(this,Rt)},Ut=new WeakSet,Br=function(Wt){const Xt=o(this,tn).createElementNS(g,"feColorMatrix");Xt.setAttribute("type","matrix"),Xt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Wt.append(Xt)},$t=new WeakSet,gr=function(Wt){const Xt=o(this,tn).createElementNS(g,"filter");return Xt.setAttribute("color-interpolation-filters","sRGB"),Xt.setAttribute("id",Wt),o(this,xt,Jn).append(Xt),Xt},Jt=new WeakSet,mr=function(Wt,Xt,dn){const un=o(this,tn).createElementNS(g,Xt);un.setAttribute("type","discrete"),un.setAttribute("tableValues",dn),Wt.append(un)},hn=new WeakSet,ir=function(Wt,Xt,dn,un){const wn=o(this,tn).createElementNS(g,"feComponentTransfer");un.append(wn),jt(this,Jt,mr).call(this,wn,"feFuncR",Wt),jt(this,Jt,mr).call(this,wn,"feFuncG",Xt),jt(this,Jt,mr).call(this,wn,"feFuncB",dn)},an=new WeakSet,or=function(Wt){return o(this,xt,Jn).style.color=Wt,xe(getComputedStyle(o(this,xt,Jn)).getPropertyValue("color"))},e.DOMFilterFactory=At;class m extends n.BaseCanvasFactory{constructor({ownerDocument:Nt=globalThis.document}={}){super(),this._document=Nt}_createCanvas(Nt,Wt){const Xt=this._document.createElement("canvas");return Xt.width=Nt,Xt.height=Wt,Xt}}e.DOMCanvasFactory=m;async function S(Qt,Nt=!1){if(ft(Qt,document.baseURI)){const Wt=await fetch(Qt);if(!Wt.ok)throw new Error(Wt.statusText);return Nt?new Uint8Array(await Wt.arrayBuffer()):(0,s.stringToBytes)(await Wt.text())}return new Promise((Wt,Xt)=>{const dn=new XMLHttpRequest;dn.open("GET",Qt,!0),Nt&&(dn.responseType="arraybuffer"),dn.onreadystatechange=()=>{if(dn.readyState===XMLHttpRequest.DONE){if(dn.status===200||dn.status===0){let un;if(Nt&&dn.response?un=new Uint8Array(dn.response):!Nt&&dn.responseText&&(un=(0,s.stringToBytes)(dn.responseText)),un){Wt(un);return}}Xt(new Error(dn.statusText))}},dn.send(null)})}class b extends n.BaseCMapReaderFactory{_fetchData(Nt,Wt){return S(Nt,this.isCompressed).then(Xt=>({cMapData:Xt,compressionType:Wt}))}}e.DOMCMapReaderFactory=b;class _t extends n.BaseStandardFontDataFactory{_fetchData(Nt){return S(Nt,!0)}}e.DOMStandardFontDataFactory=_t;class vt extends n.BaseSVGFactory{_createSVG(Nt){return document.createElementNS(g,Nt)}}e.DOMSVGFactory=vt;class dt{constructor({viewBox:Nt,scale:Wt,rotation:Xt,offsetX:dn=0,offsetY:un=0,dontFlip:wn=!1}){this.viewBox=Nt,this.scale=Wt,this.rotation=Xt,this.offsetX=dn,this.offsetY=un;const Rn=(Nt[2]+Nt[0])/2,Pn=(Nt[3]+Nt[1])/2;let Fn,xn,kn,Cn;switch(Xt%=360,Xt<0&&(Xt+=360),Xt){case 180:Fn=-1,xn=0,kn=0,Cn=1;break;case 90:Fn=0,xn=1,kn=1,Cn=0;break;case 270:Fn=0,xn=-1,kn=-1,Cn=0;break;case 0:Fn=1,xn=0,kn=0,Cn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}wn&&(kn=-kn,Cn=-Cn);let nn,Ht,Bt,on;Fn===0?(nn=Math.abs(Pn-Nt[1])*Wt+dn,Ht=Math.abs(Rn-Nt[0])*Wt+un,Bt=(Nt[3]-Nt[1])*Wt,on=(Nt[2]-Nt[0])*Wt):(nn=Math.abs(Rn-Nt[0])*Wt+dn,Ht=Math.abs(Pn-Nt[1])*Wt+un,Bt=(Nt[2]-Nt[0])*Wt,on=(Nt[3]-Nt[1])*Wt),this.transform=[Fn*Wt,xn*Wt,kn*Wt,Cn*Wt,nn-Fn*Wt*Rn-kn*Wt*Pn,Ht-xn*Wt*Rn-Cn*Wt*Pn],this.width=Bt,this.height=on}get rawDims(){const{viewBox:Nt}=this;return(0,s.shadow)(this,"rawDims",{pageWidth:Nt[2]-Nt[0],pageHeight:Nt[3]-Nt[1],pageX:Nt[0],pageY:Nt[1]})}clone({scale:Nt=this.scale,rotation:Wt=this.rotation,offsetX:Xt=this.offsetX,offsetY:dn=this.offsetY,dontFlip:un=!1}={}){return new dt({viewBox:this.viewBox.slice(),scale:Nt,rotation:Wt,offsetX:Xt,offsetY:dn,dontFlip:un})}convertToViewportPoint(Nt,Wt){return s.Util.applyTransform([Nt,Wt],this.transform)}convertToViewportRectangle(Nt){const Wt=s.Util.applyTransform([Nt[0],Nt[1]],this.transform),Xt=s.Util.applyTransform([Nt[2],Nt[3]],this.transform);return[Wt[0],Wt[1],Xt[0],Xt[1]]}convertToPdfPoint(Nt,Wt){return s.Util.applyInverseTransform([Nt,Wt],this.transform)}}e.PageViewport=dt;class ut extends s.BaseException{constructor(Nt,Wt=0){super(Nt,"RenderingCancelledException"),this.extraDelay=Wt}}e.RenderingCancelledException=ut;function at(Qt){const Nt=Qt.length;let Wt=0;for(;Wt<Nt&&Qt[Wt].trim()==="";)Wt++;return Qt.substring(Wt,Wt+5).toLowerCase()==="data:"}function je(Qt){return typeof Qt=="string"&&/\.pdf$/i.test(Qt)}function Je(Qt,Nt=!1){return Nt||([Qt]=Qt.split(/[#?]/,1)),Qt.substring(Qt.lastIndexOf("/")+1)}function ht(Qt,Nt="document.pdf"){if(typeof Qt!="string")return Nt;if(at(Qt))return(0,s.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Nt;const Wt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Xt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,dn=Wt.exec(Qt);let un=Xt.exec(dn[1])||Xt.exec(dn[2])||Xt.exec(dn[3]);if(un&&(un=un[0],un.includes("%")))try{un=Xt.exec(decodeURIComponent(un))[0]}catch{}return un||Nt}class bt{constructor(){Un(this,"started",Object.create(null));Un(this,"times",[])}time(Nt){Nt in this.started&&(0,s.warn)(`Timer is already running for ${Nt}`),this.started[Nt]=Date.now()}timeEnd(Nt){Nt in this.started||(0,s.warn)(`Timer has not been started for ${Nt}`),this.times.push({name:Nt,start:this.started[Nt],end:Date.now()}),delete this.started[Nt]}toString(){const Nt=[];let Wt=0;for(const{name:Xt}of this.times)Wt=Math.max(Xt.length,Wt);for(const{name:Xt,start:dn,end:un}of this.times)Nt.push(`${Xt.padEnd(Wt)} ${un-dn}ms
`);return Nt.join("")}}e.StatTimer=bt;function ft(Qt,Nt){try{const{protocol:Wt}=Nt?new URL(Qt,Nt):new URL(Qt);return Wt==="http:"||Wt==="https:"}catch{return!1}}function p(Qt){Qt.preventDefault()}function w(Qt,Nt=!1){return new Promise((Wt,Xt)=>{const dn=document.createElement("script");dn.src=Qt,dn.onload=function(un){Nt&&dn.remove(),Wt(un)},dn.onerror=function(){Xt(new Error(`Cannot load script at: ${dn.src}`))},(document.head||document.documentElement).append(dn)})}function mt(Qt){console.log("Deprecated API usage: "+Qt)}let d;class a{static toDateObject(Nt){if(!Nt||typeof Nt!="string")return null;d||(d=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Wt=d.exec(Nt);if(!Wt)return null;const Xt=parseInt(Wt[1],10);let dn=parseInt(Wt[2],10);dn=dn>=1&&dn<=12?dn-1:0;let un=parseInt(Wt[3],10);un=un>=1&&un<=31?un:1;let wn=parseInt(Wt[4],10);wn=wn>=0&&wn<=23?wn:0;let Rn=parseInt(Wt[5],10);Rn=Rn>=0&&Rn<=59?Rn:0;let Pn=parseInt(Wt[6],10);Pn=Pn>=0&&Pn<=59?Pn:0;const Fn=Wt[7]||"Z";let xn=parseInt(Wt[8],10);xn=xn>=0&&xn<=23?xn:0;let kn=parseInt(Wt[9],10)||0;return kn=kn>=0&&kn<=59?kn:0,Fn==="-"?(wn+=xn,Rn+=kn):Fn==="+"&&(wn-=xn,Rn-=kn),new Date(Date.UTC(Xt,dn,un,wn,Rn,Pn))}}e.PDFDateString=a;function Ue(Qt,{scale:Nt=1,rotation:Wt=0}){const{width:Xt,height:dn}=Qt.attributes.style,un=[0,0,parseInt(Xt),parseInt(dn)];return new dt({viewBox:un,scale:Nt,rotation:Wt})}function xe(Qt){if(Qt.startsWith("#")){const Nt=parseInt(Qt.slice(1),16);return[(Nt&16711680)>>16,(Nt&65280)>>8,Nt&255]}return Qt.startsWith("rgb(")?Qt.slice(4,-1).split(",").map(Nt=>parseInt(Nt)):Qt.startsWith("rgba(")?Qt.slice(5,-1).split(",").map(Nt=>parseInt(Nt)).slice(0,3):((0,s.warn)(`Not a valid color format: "${Qt}"`),[0,0,0])}function St(Qt){const Nt=document.createElement("span");Nt.style.visibility="hidden",document.body.append(Nt);for(const Wt of Qt.keys()){Nt.style.color=Wt;const Xt=window.getComputedStyle(Nt).color;Qt.set(Wt,xe(Xt))}Nt.remove()}function Pt(Qt){const{a:Nt,b:Wt,c:Xt,d:dn,e:un,f:wn}=Qt.getTransform();return[Nt,Wt,Xt,dn,un,wn]}function gt(Qt){const{a:Nt,b:Wt,c:Xt,d:dn,e:un,f:wn}=Qt.getTransform().invertSelf();return[Nt,Wt,Xt,dn,un,wn]}function Ot(Qt,Nt,Wt=!1,Xt=!0){if(Nt instanceof dt){const{pageWidth:dn,pageHeight:un}=Nt.rawDims,{style:wn}=Qt,Rn=s.FeatureTest.isCSSRoundSupported,Pn=`var(--scale-factor) * ${dn}px`,Fn=`var(--scale-factor) * ${un}px`,xn=Rn?`round(${Pn}, 1px)`:`calc(${Pn})`,kn=Rn?`round(${Fn}, 1px)`:`calc(${Fn})`;!Wt||Nt.rotation%180===0?(wn.width=xn,wn.height=kn):(wn.width=kn,wn.height=xn)}Xt&&Qt.setAttribute("data-main-rotation",Nt.rotation)}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var n=i(1);class s{constructor(){this.constructor===s&&(0,n.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(b){return"none"}addHCMFilter(b,_t){return"none"}addHighlightHCMFilter(b,_t,vt,dt){return"none"}destroy(b=!1){}}e.BaseFilterFactory=s;class g{constructor(){this.constructor===g&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(b,_t){if(b<=0||_t<=0)throw new Error("Invalid canvas size");const vt=this._createCanvas(b,_t);return{canvas:vt,context:vt.getContext("2d")}}reset(b,_t,vt){if(!b.canvas)throw new Error("Canvas is not specified");if(_t<=0||vt<=0)throw new Error("Invalid canvas size");b.canvas.width=_t,b.canvas.height=vt}destroy(b){if(!b.canvas)throw new Error("Canvas is not specified");b.canvas.width=0,b.canvas.height=0,b.canvas=null,b.context=null}_createCanvas(b,_t){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=g;class ae{constructor({baseUrl:b=null,isCompressed:_t=!0}){this.constructor===ae&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=b,this.isCompressed=_t}async fetch({name:b}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!b)throw new Error("CMap name must be specified.");const _t=this.baseUrl+b+(this.isCompressed?".bcmap":""),vt=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(_t,vt).catch(dt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${_t}`)})}_fetchData(b,_t){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=ae;class At{constructor({baseUrl:b=null}){this.constructor===At&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=b}async fetch({filename:b}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!b)throw new Error("Font filename must be specified.");const _t=`${this.baseUrl}${b}`;return this._fetchData(_t).catch(vt=>{throw new Error(`Unable to load font data at: ${_t}`)})}_fetchData(b){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=At;class m{constructor(){this.constructor===m&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(b,_t,vt=!1){if(b<=0||_t<=0)throw new Error("Invalid SVG dimensions");const dt=this._createSVG("svg:svg");return dt.setAttribute("version","1.1"),vt||(dt.setAttribute("width",`${b}px`),dt.setAttribute("height",`${_t}px`)),dt.setAttribute("preserveAspectRatio","none"),dt.setAttribute("viewBox",`0 0 ${b} ${_t}`),dt}createElement(b){if(typeof b!="string")throw new Error("Invalid SVG element type");return this._createSVG(b)}_createSVG(b){(0,n.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=m},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var n=i(1);const s=3285377520,g=4294901760,ae=65535;class At{constructor(S){this.h1=S?S&4294967295:s,this.h2=S?S&4294967295:s}update(S){let b,_t;if(typeof S=="string"){b=new Uint8Array(S.length*2),_t=0;for(let mt=0,d=S.length;mt<d;mt++){const a=S.charCodeAt(mt);a<=255?b[_t++]=a:(b[_t++]=a>>>8,b[_t++]=a&255)}}else if((0,n.isArrayBuffer)(S))b=S.slice(),_t=b.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const vt=_t>>2,dt=_t-vt*4,ut=new Uint32Array(b.buffer,0,vt);let at=0,je=0,Je=this.h1,ht=this.h2;const bt=3432918353,ft=461845907,p=bt&ae,w=ft&ae;for(let mt=0;mt<vt;mt++)mt&1?(at=ut[mt],at=at*bt&g|at*p&ae,at=at<<15|at>>>17,at=at*ft&g|at*w&ae,Je^=at,Je=Je<<13|Je>>>19,Je=Je*5+3864292196):(je=ut[mt],je=je*bt&g|je*p&ae,je=je<<15|je>>>17,je=je*ft&g|je*w&ae,ht^=je,ht=ht<<13|ht>>>19,ht=ht*5+3864292196);switch(at=0,dt){case 3:at^=b[vt*4+2]<<16;case 2:at^=b[vt*4+1]<<8;case 1:at^=b[vt*4],at=at*bt&g|at*p&ae,at=at<<15|at>>>17,at=at*ft&g|at*w&ae,vt&1?Je^=at:ht^=at}this.h1=Je,this.h2=ht}hexdigest(){let S=this.h1,b=this.h2;return S^=b>>>1,S=S*3981806797&g|S*36045&ae,b=b*4283543511&g|((b<<16|S>>>16)*2950163797&g)>>>16,S^=b>>>1,S=S*444984403&g|S*60499&ae,b=b*3301882366&g|((b<<16|S>>>16)*3120437893&g)>>>16,S^=b>>>1,(S>>>0).toString(16).padStart(8,"0")+(b>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=At},(t,e,i)=>{var ae;Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var n=i(1);class s{constructor({ownerDocument:m=globalThis.document,styleElement:S=null}){kt(this,ae,new Set);this._document=m,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(m){this.nativeFontFaces.add(m),this._document.fonts.add(m)}removeNativeFontFace(m){this.nativeFontFaces.delete(m),this._document.fonts.delete(m)}insertRule(m){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const S=this.styleElement.sheet;S.insertRule(m,S.cssRules.length)}clear(){for(const m of this.nativeFontFaces)this._document.fonts.delete(m);this.nativeFontFaces.clear(),o(this,ae).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(m){if(!(!m||o(this,ae).has(m.loadedName))){if((0,n.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:S,src:b,style:_t}=m,vt=new FontFace(S,b,_t);this.addNativeFontFace(vt);try{await vt.load(),o(this,ae).add(S)}catch{(0,n.warn)(`Cannot load system font: ${m.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(vt)}return}(0,n.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(m){if(m.attached||m.missingFile&&!m.systemFontInfo)return;if(m.attached=!0,m.systemFontInfo){await this.loadSystemFont(m.systemFontInfo);return}if(this.isFontLoadingAPISupported){const b=m.createNativeFontFace();if(b){this.addNativeFontFace(b);try{await b.loaded}catch(_t){throw(0,n.warn)(`Failed to load font '${b.family}': '${_t}'.`),m.disableFontFace=!0,_t}}return}const S=m.createFontFaceRule();if(S){if(this.insertRule(S),this.isSyncFontLoadingSupported)return;await new Promise(b=>{const _t=this._queueLoadingCallback(b);this._prepareFontLoadEvent(m,_t)})}}get isFontLoadingAPISupported(){var S;const m=!!((S=this._document)!=null&&S.fonts);return(0,n.shadow)(this,"isFontLoadingAPISupported",m)}get isSyncFontLoadingSupported(){let m=!1;return(n.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(m=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",m)}_queueLoadingCallback(m){function S(){for((0,n.assert)(!_t.done,"completeRequest() cannot be called twice."),_t.done=!0;b.length>0&&b[0].done;){const vt=b.shift();setTimeout(vt.callback,0)}}const{loadingRequests:b}=this,_t={done:!1,complete:S,callback:m};return b.push(_t),_t}get _loadTestFont(){const m=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,n.shadow)(this,"_loadTestFont",m)}_prepareFontLoadEvent(m,S){function b(xe,St){return xe.charCodeAt(St)<<24|xe.charCodeAt(St+1)<<16|xe.charCodeAt(St+2)<<8|xe.charCodeAt(St+3)&255}function _t(xe,St,Pt,gt){const Ot=xe.substring(0,St),It=xe.substring(St+Pt);return Ot+gt+It}let vt,dt;const ut=this._document.createElement("canvas");ut.width=1,ut.height=1;const at=ut.getContext("2d");let je=0;function Je(xe,St){if(++je>30){(0,n.warn)("Load test font never loaded."),St();return}if(at.font="30px "+xe,at.fillText(".",0,20),at.getImageData(0,0,1,1).data[3]>0){St();return}setTimeout(Je.bind(null,xe,St))}const ht=`lt${Date.now()}${this.loadTestFontId++}`;let bt=this._loadTestFont;bt=_t(bt,976,ht.length,ht);const p=16,w=1482184792;let mt=b(bt,p);for(vt=0,dt=ht.length-3;vt<dt;vt+=4)mt=mt-w+b(ht,vt)|0;vt<ht.length&&(mt=mt-w+b(ht+"XXX",vt)|0),bt=_t(bt,p,4,(0,n.string32)(mt));const d=`url(data:font/opentype;base64,${btoa(bt)});`,a=`@font-face {font-family:"${ht}";src:${d}}`;this.insertRule(a);const Ue=this._document.createElement("div");Ue.style.visibility="hidden",Ue.style.width=Ue.style.height="10px",Ue.style.position="absolute",Ue.style.top=Ue.style.left="0px";for(const xe of[m.loadedName,ht]){const St=this._document.createElement("span");St.textContent="Hi",St.style.fontFamily=xe,Ue.append(St)}this._document.body.append(Ue),Je(ht,()=>{Ue.remove(),S.complete()})}}ae=new WeakMap,e.FontLoader=s;class g{constructor(m,{isEvalSupported:S=!0,disableFontFace:b=!1,ignoreErrors:_t=!1,inspectFont:vt=null}){this.compiledGlyphs=Object.create(null);for(const dt in m)this[dt]=m[dt];this.isEvalSupported=S!==!1,this.disableFontFace=b===!0,this.ignoreErrors=_t===!0,this._inspectFont=vt}createNativeFontFace(){var S;if(!this.data||this.disableFontFace)return null;let m;if(!this.cssFontInfo)m=new FontFace(this.loadedName,this.data,{});else{const b={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(b.style=`oblique ${this.cssFontInfo.italicAngle}deg`),m=new FontFace(this.cssFontInfo.fontFamily,this.data,b)}return(S=this._inspectFont)==null||S.call(this,this),m}createFontFaceRule(){var _t;if(!this.data||this.disableFontFace)return null;const m=(0,n.bytesToString)(this.data),S=`url(data:${this.mimetype};base64,${btoa(m)});`;let b;if(!this.cssFontInfo)b=`@font-face {font-family:"${this.loadedName}";src:${S}}`;else{let vt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(vt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),b=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${vt}src:${S}}`}return(_t=this._inspectFont)==null||_t.call(this,this,S),b}getPathGenerator(m,S){if(this.compiledGlyphs[S]!==void 0)return this.compiledGlyphs[S];let b;try{b=m.get(this.loadedName+"_path_"+S)}catch(_t){if(!this.ignoreErrors)throw _t;return(0,n.warn)(`getPathGenerator - ignoring character: "${_t}".`),this.compiledGlyphs[S]=function(vt,dt){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){const _t=[];for(const vt of b){const dt=vt.args!==void 0?vt.args.join(","):"";_t.push("c.",vt.cmd,"(",dt,`);
`)}return this.compiledGlyphs[S]=new Function("c","size",_t.join(""))}return this.compiledGlyphs[S]=function(_t,vt){for(const dt of b)dt.cmd==="scale"&&(dt.args=[vt,-vt]),_t[dt.cmd].apply(_t,dt.args)}}}e.FontFaceObject=g},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var n=i(7);i(1);const s=function(S){return new Promise((b,_t)=>{require$$5.readFile(S,(dt,ut)=>{if(dt||!ut){_t(new Error(dt));return}b(new Uint8Array(ut))})})};class g extends n.BaseFilterFactory{}e.NodeFilterFactory=g;class ae extends n.BaseCanvasFactory{_createCanvas(b,_t){return require$$5.createCanvas(b,_t)}}e.NodeCanvasFactory=ae;class At extends n.BaseCMapReaderFactory{_fetchData(b,_t){return s(b).then(vt=>({cMapData:vt,compressionType:_t}))}}e.NodeCMapReaderFactory=At;class m extends n.BaseStandardFontDataFactory{_fetchData(b){return s(b)}}e.NodeStandardFontDataFactory=m},(t,e,i)=>{var Rt,Ur,tn,Wr;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var n=i(1),s=i(6),g=i(12),ae=i(13);const At=16,m=100,S=4096,b=15,_t=10,vt=1e3,dt=16;function ut(yt,l){if(yt._removeMirroring)throw new Error("Context is already forwarding operations.");yt.__originalSave=yt.save,yt.__originalRestore=yt.restore,yt.__originalRotate=yt.rotate,yt.__originalScale=yt.scale,yt.__originalTranslate=yt.translate,yt.__originalTransform=yt.transform,yt.__originalSetTransform=yt.setTransform,yt.__originalResetTransform=yt.resetTransform,yt.__originalClip=yt.clip,yt.__originalMoveTo=yt.moveTo,yt.__originalLineTo=yt.lineTo,yt.__originalBezierCurveTo=yt.bezierCurveTo,yt.__originalRect=yt.rect,yt.__originalClosePath=yt.closePath,yt.__originalBeginPath=yt.beginPath,yt._removeMirroring=()=>{yt.save=yt.__originalSave,yt.restore=yt.__originalRestore,yt.rotate=yt.__originalRotate,yt.scale=yt.__originalScale,yt.translate=yt.__originalTranslate,yt.transform=yt.__originalTransform,yt.setTransform=yt.__originalSetTransform,yt.resetTransform=yt.__originalResetTransform,yt.clip=yt.__originalClip,yt.moveTo=yt.__originalMoveTo,yt.lineTo=yt.__originalLineTo,yt.bezierCurveTo=yt.__originalBezierCurveTo,yt.rect=yt.__originalRect,yt.closePath=yt.__originalClosePath,yt.beginPath=yt.__originalBeginPath,delete yt._removeMirroring},yt.save=function(){l.save(),this.__originalSave()},yt.restore=function(){l.restore(),this.__originalRestore()},yt.translate=function(c,ie){l.translate(c,ie),this.__originalTranslate(c,ie)},yt.scale=function(c,ie){l.scale(c,ie),this.__originalScale(c,ie)},yt.transform=function(c,ie,Fe,lt,xt,wt){l.transform(c,ie,Fe,lt,xt,wt),this.__originalTransform(c,ie,Fe,lt,xt,wt)},yt.setTransform=function(c,ie,Fe,lt,xt,wt){l.setTransform(c,ie,Fe,lt,xt,wt),this.__originalSetTransform(c,ie,Fe,lt,xt,wt)},yt.resetTransform=function(){l.resetTransform(),this.__originalResetTransform()},yt.rotate=function(c){l.rotate(c),this.__originalRotate(c)},yt.clip=function(c){l.clip(c),this.__originalClip(c)},yt.moveTo=function(h,c){l.moveTo(h,c),this.__originalMoveTo(h,c)},yt.lineTo=function(h,c){l.lineTo(h,c),this.__originalLineTo(h,c)},yt.bezierCurveTo=function(h,c,ie,Fe,lt,xt){l.bezierCurveTo(h,c,ie,Fe,lt,xt),this.__originalBezierCurveTo(h,c,ie,Fe,lt,xt)},yt.rect=function(h,c,ie,Fe){l.rect(h,c,ie,Fe),this.__originalRect(h,c,ie,Fe)},yt.closePath=function(){l.closePath(),this.__originalClosePath()},yt.beginPath=function(){l.beginPath(),this.__originalBeginPath()}}class at{constructor(l){this.canvasFactory=l,this.cache=Object.create(null)}getCanvas(l,h,c){let ie;return this.cache[l]!==void 0?(ie=this.cache[l],this.canvasFactory.reset(ie,h,c)):(ie=this.canvasFactory.create(h,c),this.cache[l]=ie),ie}delete(l){delete this.cache[l]}clear(){for(const l in this.cache){const h=this.cache[l];this.canvasFactory.destroy(h),delete this.cache[l]}}}function je(yt,l,h,c,ie,Fe,lt,xt,wt,Ut){const[Mt,$t,Vt,Jt,Yt,hn]=(0,s.getCurrentTransform)(yt);if($t===0&&Vt===0){const pn=lt*Mt+Yt,Qt=Math.round(pn),Nt=xt*Jt+hn,Wt=Math.round(Nt),Xt=(lt+wt)*Mt+Yt,dn=Math.abs(Math.round(Xt)-Qt)||1,un=(xt+Ut)*Jt+hn,wn=Math.abs(Math.round(un)-Wt)||1;return yt.setTransform(Math.sign(Mt),0,0,Math.sign(Jt),Qt,Wt),yt.drawImage(l,h,c,ie,Fe,0,0,dn,wn),yt.setTransform(Mt,$t,Vt,Jt,Yt,hn),[dn,wn]}if(Mt===0&&Jt===0){const pn=xt*Vt+Yt,Qt=Math.round(pn),Nt=lt*$t+hn,Wt=Math.round(Nt),Xt=(xt+Ut)*Vt+Yt,dn=Math.abs(Math.round(Xt)-Qt)||1,un=(lt+wt)*$t+hn,wn=Math.abs(Math.round(un)-Wt)||1;return yt.setTransform(0,Math.sign($t),Math.sign(Vt),0,Qt,Wt),yt.drawImage(l,h,c,ie,Fe,0,0,wn,dn),yt.setTransform(Mt,$t,Vt,Jt,Yt,hn),[wn,dn]}yt.drawImage(l,h,c,ie,Fe,lt,xt,wt,Ut);const vn=Math.hypot(Mt,$t),an=Math.hypot(Vt,Jt);return[vn*wt,an*Ut]}function Je(yt){const{width:l,height:h}=yt;if(l>vt||h>vt)return null;const c=1e3,ie=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Fe=l+1;let lt=new Uint8Array(Fe*(h+1)),xt,wt,Ut;const Mt=l+7&-8;let $t=new Uint8Array(Mt*h),Vt=0;for(const an of yt.data){let pn=128;for(;pn>0;)$t[Vt++]=an&pn?0:255,pn>>=1}let Jt=0;for(Vt=0,$t[Vt]!==0&&(lt[0]=1,++Jt),wt=1;wt<l;wt++)$t[Vt]!==$t[Vt+1]&&(lt[wt]=$t[Vt]?2:1,++Jt),Vt++;for($t[Vt]!==0&&(lt[wt]=2,++Jt),xt=1;xt<h;xt++){Vt=xt*Mt,Ut=xt*Fe,$t[Vt-Mt]!==$t[Vt]&&(lt[Ut]=$t[Vt]?1:8,++Jt);let an=($t[Vt]?4:0)+($t[Vt-Mt]?8:0);for(wt=1;wt<l;wt++)an=(an>>2)+($t[Vt+1]?4:0)+($t[Vt-Mt+1]?8:0),ie[an]&&(lt[Ut+wt]=ie[an],++Jt),Vt++;if($t[Vt-Mt]!==$t[Vt]&&(lt[Ut+wt]=$t[Vt]?2:4,++Jt),Jt>c)return null}for(Vt=Mt*(h-1),Ut=xt*Fe,$t[Vt]!==0&&(lt[Ut]=8,++Jt),wt=1;wt<l;wt++)$t[Vt]!==$t[Vt+1]&&(lt[Ut+wt]=$t[Vt]?4:8,++Jt),Vt++;if($t[Vt]!==0&&(lt[Ut+wt]=4,++Jt),Jt>c)return null;const Yt=new Int32Array([0,Fe,-1,0,-Fe,0,0,0,1]),hn=new Path2D;for(xt=0;Jt&&xt<=h;xt++){let an=xt*Fe;const pn=an+l;for(;an<pn&&!lt[an];)an++;if(an===pn)continue;hn.moveTo(an%Fe,xt);const Qt=an;let Nt=lt[an];do{const Wt=Yt[Nt];do an+=Wt;while(!lt[an]);const Xt=lt[an];Xt!==5&&Xt!==10?(Nt=Xt,lt[an]=0):(Nt=Xt&51*Nt>>4,lt[an]&=Nt>>2|Nt<<2),hn.lineTo(an%Fe,an/Fe|0),lt[an]||--Jt}while(Qt!==an);--xt}return $t=null,lt=null,function(an){an.save(),an.scale(1/l,-1/h),an.translate(0,-h),an.fill(hn),an.beginPath(),an.restore()}}class ht{constructor(l,h){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,l,h])}clone(){const l=Object.create(this);return l.clipBox=this.clipBox.slice(),l}setCurrentPoint(l,h){this.x=l,this.y=h}updatePathMinMax(l,h,c){[h,c]=n.Util.applyTransform([h,c],l),this.minX=Math.min(this.minX,h),this.minY=Math.min(this.minY,c),this.maxX=Math.max(this.maxX,h),this.maxY=Math.max(this.maxY,c)}updateRectMinMax(l,h){const c=n.Util.applyTransform(h,l),ie=n.Util.applyTransform(h.slice(2),l);this.minX=Math.min(this.minX,c[0],ie[0]),this.minY=Math.min(this.minY,c[1],ie[1]),this.maxX=Math.max(this.maxX,c[0],ie[0]),this.maxY=Math.max(this.maxY,c[1],ie[1])}updateScalingPathMinMax(l,h){n.Util.scaleMinMax(l,h),this.minX=Math.min(this.minX,h[0]),this.maxX=Math.max(this.maxX,h[1]),this.minY=Math.min(this.minY,h[2]),this.maxY=Math.max(this.maxY,h[3])}updateCurvePathMinMax(l,h,c,ie,Fe,lt,xt,wt,Ut,Mt){const $t=n.Util.bezierBoundingBox(h,c,ie,Fe,lt,xt,wt,Ut);if(Mt){Mt[0]=Math.min(Mt[0],$t[0],$t[2]),Mt[1]=Math.max(Mt[1],$t[0],$t[2]),Mt[2]=Math.min(Mt[2],$t[1],$t[3]),Mt[3]=Math.max(Mt[3],$t[1],$t[3]);return}this.updateRectMinMax(l,$t)}getPathBoundingBox(l=g.PathType.FILL,h=null){const c=[this.minX,this.minY,this.maxX,this.maxY];if(l===g.PathType.STROKE){h||(0,n.unreachable)("Stroke bounding box must include transform.");const ie=n.Util.singularValueDecompose2dScale(h),Fe=ie[0]*this.lineWidth/2,lt=ie[1]*this.lineWidth/2;c[0]-=Fe,c[1]-=lt,c[2]+=Fe,c[3]+=lt}return c}updateClipFromPath(){const l=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(l||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(l){this.clipBox=l,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(l=g.PathType.FILL,h=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(l,h))}}function bt(yt,l){if(typeof ImageData<"u"&&l instanceof ImageData){yt.putImageData(l,0,0);return}const h=l.height,c=l.width,ie=h%dt,Fe=(h-ie)/dt,lt=ie===0?Fe:Fe+1,xt=yt.createImageData(c,dt);let wt=0,Ut;const Mt=l.data,$t=xt.data;let Vt,Jt,Yt,hn;if(l.kind===n.ImageKind.GRAYSCALE_1BPP){const vn=Mt.byteLength,an=new Uint32Array($t.buffer,0,$t.byteLength>>2),pn=an.length,Qt=c+7>>3,Nt=4294967295,Wt=n.FeatureTest.isLittleEndian?4278190080:255;for(Vt=0;Vt<lt;Vt++){for(Yt=Vt<Fe?dt:ie,Ut=0,Jt=0;Jt<Yt;Jt++){const Xt=vn-wt;let dn=0;const un=Xt>Qt?c:Xt*8-7,wn=un&-8;let Rn=0,Pn=0;for(;dn<wn;dn+=8)Pn=Mt[wt++],an[Ut++]=Pn&128?Nt:Wt,an[Ut++]=Pn&64?Nt:Wt,an[Ut++]=Pn&32?Nt:Wt,an[Ut++]=Pn&16?Nt:Wt,an[Ut++]=Pn&8?Nt:Wt,an[Ut++]=Pn&4?Nt:Wt,an[Ut++]=Pn&2?Nt:Wt,an[Ut++]=Pn&1?Nt:Wt;for(;dn<un;dn++)Rn===0&&(Pn=Mt[wt++],Rn=128),an[Ut++]=Pn&Rn?Nt:Wt,Rn>>=1}for(;Ut<pn;)an[Ut++]=0;yt.putImageData(xt,0,Vt*dt)}}else if(l.kind===n.ImageKind.RGBA_32BPP){for(Jt=0,hn=c*dt*4,Vt=0;Vt<Fe;Vt++)$t.set(Mt.subarray(wt,wt+hn)),wt+=hn,yt.putImageData(xt,0,Jt),Jt+=dt;Vt<lt&&(hn=c*ie*4,$t.set(Mt.subarray(wt,wt+hn)),yt.putImageData(xt,0,Jt))}else if(l.kind===n.ImageKind.RGB_24BPP)for(Yt=dt,hn=c*Yt,Vt=0;Vt<lt;Vt++){for(Vt>=Fe&&(Yt=ie,hn=c*Yt),Ut=0,Jt=hn;Jt--;)$t[Ut++]=Mt[wt++],$t[Ut++]=Mt[wt++],$t[Ut++]=Mt[wt++],$t[Ut++]=255;yt.putImageData(xt,0,Vt*dt)}else throw new Error(`bad image kind: ${l.kind}`)}function ft(yt,l){if(l.bitmap){yt.drawImage(l.bitmap,0,0);return}const h=l.height,c=l.width,ie=h%dt,Fe=(h-ie)/dt,lt=ie===0?Fe:Fe+1,xt=yt.createImageData(c,dt);let wt=0;const Ut=l.data,Mt=xt.data;for(let $t=0;$t<lt;$t++){const Vt=$t<Fe?dt:ie;({srcPos:wt}=(0,ae.convertBlackAndWhiteToRGBA)({src:Ut,srcPos:wt,dest:Mt,width:c,height:Vt,nonBlackColor:0})),yt.putImageData(xt,0,$t*dt)}}function p(yt,l){const h=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const c of h)yt[c]!==void 0&&(l[c]=yt[c]);yt.setLineDash!==void 0&&(l.setLineDash(yt.getLineDash()),l.lineDashOffset=yt.lineDashOffset)}function w(yt){if(yt.strokeStyle=yt.fillStyle="#000000",yt.fillRule="nonzero",yt.globalAlpha=1,yt.lineWidth=1,yt.lineCap="butt",yt.lineJoin="miter",yt.miterLimit=10,yt.globalCompositeOperation="source-over",yt.font="10px sans-serif",yt.setLineDash!==void 0&&(yt.setLineDash([]),yt.lineDashOffset=0),!n.isNodeJS){const{filter:l}=yt;l!=="none"&&l!==""&&(yt.filter="none")}}function mt(yt,l,h,c){const ie=yt.length;for(let Fe=3;Fe<ie;Fe+=4){const lt=yt[Fe];if(lt===0)yt[Fe-3]=l,yt[Fe-2]=h,yt[Fe-1]=c;else if(lt<255){const xt=255-lt;yt[Fe-3]=yt[Fe-3]*lt+l*xt>>8,yt[Fe-2]=yt[Fe-2]*lt+h*xt>>8,yt[Fe-1]=yt[Fe-1]*lt+c*xt>>8}}}function d(yt,l,h){const c=yt.length,ie=1/255;for(let Fe=3;Fe<c;Fe+=4){const lt=h?h[yt[Fe]]:yt[Fe];l[Fe]=l[Fe]*lt*ie|0}}function a(yt,l,h){const c=yt.length;for(let ie=3;ie<c;ie+=4){const Fe=yt[ie-3]*77+yt[ie-2]*152+yt[ie-1]*28;l[ie]=h?l[ie]*h[Fe>>8]>>8:l[ie]*Fe>>16}}function Ue(yt,l,h,c,ie,Fe,lt,xt,wt,Ut,Mt){const $t=!!Fe,Vt=$t?Fe[0]:0,Jt=$t?Fe[1]:0,Yt=$t?Fe[2]:0,hn=ie==="Luminosity"?a:d,an=Math.min(c,Math.ceil(1048576/h));for(let pn=0;pn<c;pn+=an){const Qt=Math.min(an,c-pn),Nt=yt.getImageData(xt-Ut,pn+(wt-Mt),h,Qt),Wt=l.getImageData(xt,pn+wt,h,Qt);$t&&mt(Nt.data,Vt,Jt,Yt),hn(Nt.data,Wt.data,lt),l.putImageData(Wt,xt,pn+wt)}}function xe(yt,l,h,c){const ie=c[0],Fe=c[1],lt=c[2]-ie,xt=c[3]-Fe;lt===0||xt===0||(Ue(l.context,h,lt,xt,l.subtype,l.backdrop,l.transferMap,ie,Fe,l.offsetX,l.offsetY),yt.save(),yt.globalAlpha=1,yt.globalCompositeOperation="source-over",yt.setTransform(1,0,0,1,0,0),yt.drawImage(h.canvas,0,0),yt.restore())}function St(yt,l){const h=n.Util.singularValueDecompose2dScale(yt);h[0]=Math.fround(h[0]),h[1]=Math.fround(h[1]);const c=Math.fround((globalThis.devicePixelRatio||1)*s.PixelsPerInch.PDF_TO_CSS_UNITS);return l!==void 0?l:h[0]<=c||h[1]<=c}const Pt=["butt","round","square"],gt=["miter","round","bevel"],Ot={},It={},Kt=class Kt{constructor(l,h,c,ie,Fe,{optionalContentConfig:lt,markedContentStack:xt=null},wt,Ut){kt(this,Rt);kt(this,tn);this.ctx=l,this.current=new ht(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=h,this.objs=c,this.canvasFactory=ie,this.filterFactory=Fe,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=xt||[],this.optionalContentConfig=lt,this.cachedCanvases=new at(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=wt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ut,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(l,h=null){return typeof l=="string"?l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l):h}beginDrawing({transform:l,viewport:h,transparency:c=!1,background:ie=null}){const Fe=this.ctx.canvas.width,lt=this.ctx.canvas.height,xt=this.ctx.fillStyle;if(this.ctx.fillStyle=ie||"#ffffff",this.ctx.fillRect(0,0,Fe,lt),this.ctx.fillStyle=xt,c){const wt=this.cachedCanvases.getCanvas("transparent",Fe,lt);this.compositeCtx=this.ctx,this.transparentCanvas=wt.canvas,this.ctx=wt.context,this.ctx.save(),this.ctx.transform(...(0,s.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),w(this.ctx),l&&(this.ctx.transform(...l),this.outputScaleX=l[0],this.outputScaleY=l[0]),this.ctx.transform(...h.transform),this.viewportScale=h.scale,this.baseTransform=(0,s.getCurrentTransform)(this.ctx)}executeOperatorList(l,h,c,ie){const Fe=l.argsArray,lt=l.fnArray;let xt=h||0;const wt=Fe.length;if(wt===xt)return xt;const Ut=wt-xt>_t&&typeof c=="function",Mt=Ut?Date.now()+b:0;let $t=0;const Vt=this.commonObjs,Jt=this.objs;let Yt;for(;;){if(ie!==void 0&&xt===ie.nextBreakPoint)return ie.breakIt(xt,c),xt;if(Yt=lt[xt],Yt!==n.OPS.dependency)this[Yt].apply(this,Fe[xt]);else for(const hn of Fe[xt]){const vn=hn.startsWith("g_")?Vt:Jt;if(!vn.has(hn))return vn.get(hn,c),xt}if(xt++,xt===wt)return xt;if(Ut&&++$t>_t){if(Date.now()>Mt)return c(),xt;$t=0}}}endDrawing(){jt(this,Rt,Ur).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const l of this._cachedBitmapsMap.values()){for(const h of l.values())typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement&&(h.width=h.height=0);l.clear()}this._cachedBitmapsMap.clear(),jt(this,tn,Wr).call(this)}_scaleImage(l,h){const c=l.width,ie=l.height;let Fe=Math.max(Math.hypot(h[0],h[1]),1),lt=Math.max(Math.hypot(h[2],h[3]),1),xt=c,wt=ie,Ut="prescale1",Mt,$t;for(;Fe>2&&xt>1||lt>2&&wt>1;){let Vt=xt,Jt=wt;Fe>2&&xt>1&&(Vt=xt>=16384?Math.floor(xt/2)-1||1:Math.ceil(xt/2),Fe/=xt/Vt),lt>2&&wt>1&&(Jt=wt>=16384?Math.floor(wt/2)-1||1:Math.ceil(wt)/2,lt/=wt/Jt),Mt=this.cachedCanvases.getCanvas(Ut,Vt,Jt),$t=Mt.context,$t.clearRect(0,0,Vt,Jt),$t.drawImage(l,0,0,xt,wt,0,0,Vt,Jt),l=Mt.canvas,xt=Vt,wt=Jt,Ut=Ut==="prescale1"?"prescale2":"prescale1"}return{img:l,paintWidth:xt,paintHeight:wt}}_createMaskCanvas(l){const h=this.ctx,{width:c,height:ie}=l,Fe=this.current.fillColor,lt=this.current.patternFill,xt=(0,s.getCurrentTransform)(h);let wt,Ut,Mt,$t;if((l.bitmap||l.data)&&l.count>1){const dn=l.bitmap||l.data.buffer;Ut=JSON.stringify(lt?xt:[xt.slice(0,4),Fe]),wt=this._cachedBitmapsMap.get(dn),wt||(wt=new Map,this._cachedBitmapsMap.set(dn,wt));const un=wt.get(Ut);if(un&&!lt){const wn=Math.round(Math.min(xt[0],xt[2])+xt[4]),Rn=Math.round(Math.min(xt[1],xt[3])+xt[5]);return{canvas:un,offsetX:wn,offsetY:Rn}}Mt=un}Mt||($t=this.cachedCanvases.getCanvas("maskCanvas",c,ie),ft($t.context,l));let Vt=n.Util.transform(xt,[1/c,0,0,-1/ie,0,0]);Vt=n.Util.transform(Vt,[1,0,0,1,0,-ie]);const Jt=n.Util.applyTransform([0,0],Vt),Yt=n.Util.applyTransform([c,ie],Vt),hn=n.Util.normalizeRect([Jt[0],Jt[1],Yt[0],Yt[1]]),vn=Math.round(hn[2]-hn[0])||1,an=Math.round(hn[3]-hn[1])||1,pn=this.cachedCanvases.getCanvas("fillCanvas",vn,an),Qt=pn.context,Nt=Math.min(Jt[0],Yt[0]),Wt=Math.min(Jt[1],Yt[1]);Qt.translate(-Nt,-Wt),Qt.transform(...Vt),Mt||(Mt=this._scaleImage($t.canvas,(0,s.getCurrentTransformInverse)(Qt)),Mt=Mt.img,wt&&lt&&wt.set(Ut,Mt)),Qt.imageSmoothingEnabled=St((0,s.getCurrentTransform)(Qt),l.interpolate),je(Qt,Mt,0,0,Mt.width,Mt.height,0,0,c,ie),Qt.globalCompositeOperation="source-in";const Xt=n.Util.transform((0,s.getCurrentTransformInverse)(Qt),[1,0,0,1,-Nt,-Wt]);return Qt.fillStyle=lt?Fe.getPattern(h,this,Xt,g.PathType.FILL):Fe,Qt.fillRect(0,0,c,ie),wt&&!lt&&(this.cachedCanvases.delete("fillCanvas"),wt.set(Ut,pn.canvas)),{canvas:pn.canvas,offsetX:Math.round(Nt),offsetY:Math.round(Wt)}}setLineWidth(l){l!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=l,this.ctx.lineWidth=l}setLineCap(l){this.ctx.lineCap=Pt[l]}setLineJoin(l){this.ctx.lineJoin=gt[l]}setMiterLimit(l){this.ctx.miterLimit=l}setDash(l,h){const c=this.ctx;c.setLineDash!==void 0&&(c.setLineDash(l),c.lineDashOffset=h)}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(const[h,c]of l)switch(h){case"LW":this.setLineWidth(c);break;case"LC":this.setLineCap(c);break;case"LJ":this.setLineJoin(c);break;case"ML":this.setMiterLimit(c);break;case"D":this.setDash(c[0],c[1]);break;case"RI":this.setRenderingIntent(c);break;case"FL":this.setFlatness(c);break;case"Font":this.setFont(c[0],c[1]);break;case"CA":this.current.strokeAlpha=c;break;case"ca":this.current.fillAlpha=c,this.ctx.globalAlpha=c;break;case"BM":this.ctx.globalCompositeOperation=c;break;case"SMask":this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const l=this.inSMaskMode;this.current.activeSMask&&!l?this.beginSMaskMode():!this.current.activeSMask&&l&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const l=this.ctx.canvas.width,h=this.ctx.canvas.height,c="smaskGroupAt"+this.groupLevel,ie=this.cachedCanvases.getCanvas(c,l,h);this.suspendedCtx=this.ctx,this.ctx=ie.context;const Fe=this.ctx;Fe.setTransform(...(0,s.getCurrentTransform)(this.suspendedCtx)),p(this.suspendedCtx,Fe),ut(Fe,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),p(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(l){if(!this.current.activeSMask)return;l?(l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1]),l[2]=Math.ceil(l[2]),l[3]=Math.ceil(l[3])):l=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const h=this.current.activeSMask,c=this.suspendedCtx;xe(c,h,this.ctx,l),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(p(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const l=this.current;this.stateStack.push(l),this.current=l.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),p(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(l,h,c,ie,Fe,lt){this.ctx.transform(l,h,c,ie,Fe,lt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(l,h,c){const ie=this.ctx,Fe=this.current;let lt=Fe.x,xt=Fe.y,wt,Ut;const Mt=(0,s.getCurrentTransform)(ie),$t=Mt[0]===0&&Mt[3]===0||Mt[1]===0&&Mt[2]===0,Vt=$t?c.slice(0):null;for(let Jt=0,Yt=0,hn=l.length;Jt<hn;Jt++)switch(l[Jt]|0){case n.OPS.rectangle:lt=h[Yt++],xt=h[Yt++];const vn=h[Yt++],an=h[Yt++],pn=lt+vn,Qt=xt+an;ie.moveTo(lt,xt),vn===0||an===0?ie.lineTo(pn,Qt):(ie.lineTo(pn,xt),ie.lineTo(pn,Qt),ie.lineTo(lt,Qt)),$t||Fe.updateRectMinMax(Mt,[lt,xt,pn,Qt]),ie.closePath();break;case n.OPS.moveTo:lt=h[Yt++],xt=h[Yt++],ie.moveTo(lt,xt),$t||Fe.updatePathMinMax(Mt,lt,xt);break;case n.OPS.lineTo:lt=h[Yt++],xt=h[Yt++],ie.lineTo(lt,xt),$t||Fe.updatePathMinMax(Mt,lt,xt);break;case n.OPS.curveTo:wt=lt,Ut=xt,lt=h[Yt+4],xt=h[Yt+5],ie.bezierCurveTo(h[Yt],h[Yt+1],h[Yt+2],h[Yt+3],lt,xt),Fe.updateCurvePathMinMax(Mt,wt,Ut,h[Yt],h[Yt+1],h[Yt+2],h[Yt+3],lt,xt,Vt),Yt+=6;break;case n.OPS.curveTo2:wt=lt,Ut=xt,ie.bezierCurveTo(lt,xt,h[Yt],h[Yt+1],h[Yt+2],h[Yt+3]),Fe.updateCurvePathMinMax(Mt,wt,Ut,lt,xt,h[Yt],h[Yt+1],h[Yt+2],h[Yt+3],Vt),lt=h[Yt+2],xt=h[Yt+3],Yt+=4;break;case n.OPS.curveTo3:wt=lt,Ut=xt,lt=h[Yt+2],xt=h[Yt+3],ie.bezierCurveTo(h[Yt],h[Yt+1],lt,xt,lt,xt),Fe.updateCurvePathMinMax(Mt,wt,Ut,h[Yt],h[Yt+1],lt,xt,lt,xt,Vt),Yt+=4;break;case n.OPS.closePath:ie.closePath();break}$t&&Fe.updateScalingPathMinMax(Mt,Vt),Fe.setCurrentPoint(lt,xt)}closePath(){this.ctx.closePath()}stroke(l=!0){const h=this.ctx,c=this.current.strokeColor;h.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof c=="object"&&(c!=null&&c.getPattern)?(h.save(),h.strokeStyle=c.getPattern(h,this,(0,s.getCurrentTransformInverse)(h),g.PathType.STROKE),this.rescaleAndStroke(!1),h.restore()):this.rescaleAndStroke(!0)),l&&this.consumePath(this.current.getClippedPathBoundingBox()),h.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(l=!0){const h=this.ctx,c=this.current.fillColor,ie=this.current.patternFill;let Fe=!1;ie&&(h.save(),h.fillStyle=c.getPattern(h,this,(0,s.getCurrentTransformInverse)(h),g.PathType.FILL),Fe=!0);const lt=this.current.getClippedPathBoundingBox();this.contentVisible&&lt!==null&&(this.pendingEOFill?(h.fill("evenodd"),this.pendingEOFill=!1):h.fill()),Fe&&h.restore(),l&&this.consumePath(lt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ot}eoClip(){this.pendingClip=It}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const l=this.pendingTextPaths,h=this.ctx;if(l===void 0){h.beginPath();return}h.save(),h.beginPath();for(const c of l)h.setTransform(...c.transform),h.translate(c.x,c.y),c.addToPath(h,c.fontSize);h.restore(),h.clip(),h.beginPath(),delete this.pendingTextPaths}setCharSpacing(l){this.current.charSpacing=l}setWordSpacing(l){this.current.wordSpacing=l}setHScale(l){this.current.textHScale=l/100}setLeading(l){this.current.leading=-l}setFont(l,h){var Mt;const c=this.commonObjs.get(l),ie=this.current;if(!c)throw new Error(`Can't find font for ${l}`);if(ie.fontMatrix=c.fontMatrix||n.FONT_IDENTITY_MATRIX,(ie.fontMatrix[0]===0||ie.fontMatrix[3]===0)&&(0,n.warn)("Invalid font matrix for font "+l),h<0?(h=-h,ie.fontDirection=-1):ie.fontDirection=1,this.current.font=c,this.current.fontSize=h,c.isType3Font)return;const Fe=c.loadedName||"sans-serif",lt=((Mt=c.systemFontInfo)==null?void 0:Mt.css)||`"${Fe}", ${c.fallbackName}`;let xt="normal";c.black?xt="900":c.bold&&(xt="bold");const wt=c.italic?"italic":"normal";let Ut=h;h<At?Ut=At:h>m&&(Ut=m),this.current.fontSizeScale=h/Ut,this.ctx.font=`${wt} ${xt} ${Ut}px ${lt}`}setTextRenderingMode(l){this.current.textRenderingMode=l}setTextRise(l){this.current.textRise=l}moveText(l,h){this.current.x=this.current.lineX+=l,this.current.y=this.current.lineY+=h}setLeadingMoveText(l,h){this.setLeading(-h),this.moveText(l,h)}setTextMatrix(l,h,c,ie,Fe,lt){this.current.textMatrix=[l,h,c,ie,Fe,lt],this.current.textMatrixScale=Math.hypot(l,h),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(l,h,c,ie){const Fe=this.ctx,lt=this.current,xt=lt.font,wt=lt.textRenderingMode,Ut=lt.fontSize/lt.fontSizeScale,Mt=wt&n.TextRenderingMode.FILL_STROKE_MASK,$t=!!(wt&n.TextRenderingMode.ADD_TO_PATH_FLAG),Vt=lt.patternFill&&!xt.missingFile;let Jt;(xt.disableFontFace||$t||Vt)&&(Jt=xt.getPathGenerator(this.commonObjs,l)),xt.disableFontFace||Vt?(Fe.save(),Fe.translate(h,c),Fe.beginPath(),Jt(Fe,Ut),ie&&Fe.setTransform(...ie),(Mt===n.TextRenderingMode.FILL||Mt===n.TextRenderingMode.FILL_STROKE)&&Fe.fill(),(Mt===n.TextRenderingMode.STROKE||Mt===n.TextRenderingMode.FILL_STROKE)&&Fe.stroke(),Fe.restore()):((Mt===n.TextRenderingMode.FILL||Mt===n.TextRenderingMode.FILL_STROKE)&&Fe.fillText(l,h,c),(Mt===n.TextRenderingMode.STROKE||Mt===n.TextRenderingMode.FILL_STROKE)&&Fe.strokeText(l,h,c)),$t&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,s.getCurrentTransform)(Fe),x:h,y:c,fontSize:Ut,addToPath:Jt})}get isFontSubpixelAAEnabled(){const{context:l}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);l.scale(1.5,1),l.fillText("I",0,10);const h=l.getImageData(0,0,10,10).data;let c=!1;for(let ie=3;ie<h.length;ie+=4)if(h[ie]>0&&h[ie]<255){c=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",c)}showText(l){const h=this.current,c=h.font;if(c.isType3Font)return this.showType3Text(l);const ie=h.fontSize;if(ie===0)return;const Fe=this.ctx,lt=h.fontSizeScale,xt=h.charSpacing,wt=h.wordSpacing,Ut=h.fontDirection,Mt=h.textHScale*Ut,$t=l.length,Vt=c.vertical,Jt=Vt?1:-1,Yt=c.defaultVMetrics,hn=ie*h.fontMatrix[0],vn=h.textRenderingMode===n.TextRenderingMode.FILL&&!c.disableFontFace&&!h.patternFill;Fe.save(),Fe.transform(...h.textMatrix),Fe.translate(h.x,h.y+h.textRise),Ut>0?Fe.scale(Mt,-1):Fe.scale(Mt,1);let an;if(h.patternFill){Fe.save();const Xt=h.fillColor.getPattern(Fe,this,(0,s.getCurrentTransformInverse)(Fe),g.PathType.FILL);an=(0,s.getCurrentTransform)(Fe),Fe.restore(),Fe.fillStyle=Xt}let pn=h.lineWidth;const Qt=h.textMatrixScale;if(Qt===0||pn===0){const Xt=h.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(Xt===n.TextRenderingMode.STROKE||Xt===n.TextRenderingMode.FILL_STROKE)&&(pn=this.getSinglePixelWidth())}else pn/=Qt;if(lt!==1&&(Fe.scale(lt,lt),pn/=lt),Fe.lineWidth=pn,c.isInvalidPDFjsFont){const Xt=[];let dn=0;for(const un of l)Xt.push(un.unicode),dn+=un.width;Fe.fillText(Xt.join(""),0,0),h.x+=dn*hn*Mt,Fe.restore(),this.compose();return}let Nt=0,Wt;for(Wt=0;Wt<$t;++Wt){const Xt=l[Wt];if(typeof Xt=="number"){Nt+=Jt*Xt*ie/1e3;continue}let dn=!1;const un=(Xt.isSpace?wt:0)+xt,wn=Xt.fontChar,Rn=Xt.accent;let Pn,Fn,xn=Xt.width;if(Vt){const Cn=Xt.vmetric||Yt,nn=-(Xt.vmetric?Cn[1]:xn*.5)*hn,Ht=Cn[2]*hn;xn=Cn?-Cn[0]:xn,Pn=nn/lt,Fn=(Nt+Ht)/lt}else Pn=Nt/lt,Fn=0;if(c.remeasure&&xn>0){const Cn=Fe.measureText(wn).width*1e3/ie*lt;if(xn<Cn&&this.isFontSubpixelAAEnabled){const nn=xn/Cn;dn=!0,Fe.save(),Fe.scale(nn,1),Pn/=nn}else xn!==Cn&&(Pn+=(xn-Cn)/2e3*ie/lt)}if(this.contentVisible&&(Xt.isInFont||c.missingFile)){if(vn&&!Rn)Fe.fillText(wn,Pn,Fn);else if(this.paintChar(wn,Pn,Fn,an),Rn){const Cn=Pn+ie*Rn.offset.x/lt,nn=Fn-ie*Rn.offset.y/lt;this.paintChar(Rn.fontChar,Cn,nn,an)}}const kn=Vt?xn*hn-un*Ut:xn*hn+un*Ut;Nt+=kn,dn&&Fe.restore()}Vt?h.y-=Nt:h.x+=Nt*Mt,Fe.restore(),this.compose()}showType3Text(l){const h=this.ctx,c=this.current,ie=c.font,Fe=c.fontSize,lt=c.fontDirection,xt=ie.vertical?1:-1,wt=c.charSpacing,Ut=c.wordSpacing,Mt=c.textHScale*lt,$t=c.fontMatrix||n.FONT_IDENTITY_MATRIX,Vt=l.length,Jt=c.textRenderingMode===n.TextRenderingMode.INVISIBLE;let Yt,hn,vn,an;if(!(Jt||Fe===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,h.save(),h.transform(...c.textMatrix),h.translate(c.x,c.y),h.scale(Mt,lt),Yt=0;Yt<Vt;++Yt){if(hn=l[Yt],typeof hn=="number"){an=xt*hn*Fe/1e3,this.ctx.translate(an,0),c.x+=an*Mt;continue}const pn=(hn.isSpace?Ut:0)+wt,Qt=ie.charProcOperatorList[hn.operatorListId];if(!Qt){(0,n.warn)(`Type3 character "${hn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=hn,this.save(),h.scale(Fe,Fe),h.transform(...$t),this.executeOperatorList(Qt),this.restore()),vn=n.Util.applyTransform([hn.width,0],$t)[0]*Fe+pn,h.translate(vn,0),c.x+=vn*Mt}h.restore(),this.processingType3=null}}setCharWidth(l,h){}setCharWidthAndBounds(l,h,c,ie,Fe,lt){this.ctx.rect(c,ie,Fe-c,lt-ie),this.ctx.clip(),this.endPath()}getColorN_Pattern(l){let h;if(l[0]==="TilingPattern"){const c=l[1],ie=this.baseTransform||(0,s.getCurrentTransform)(this.ctx),Fe={createCanvasGraphics:lt=>new Kt(lt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};h=new g.TilingPattern(l,c,this.ctx,Fe,ie)}else h=this._getPattern(l[1],l[2]);return h}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(l,h,c){const ie=n.Util.makeHexColor(l,h,c);this.ctx.strokeStyle=ie,this.current.strokeColor=ie}setFillRGBColor(l,h,c){const ie=n.Util.makeHexColor(l,h,c);this.ctx.fillStyle=ie,this.current.fillColor=ie,this.current.patternFill=!1}_getPattern(l,h=null){let c;return this.cachedPatterns.has(l)?c=this.cachedPatterns.get(l):(c=(0,g.getShadingPattern)(this.getObject(l)),this.cachedPatterns.set(l,c)),h&&(c.matrix=h),c}shadingFill(l){if(!this.contentVisible)return;const h=this.ctx;this.save();const c=this._getPattern(l);h.fillStyle=c.getPattern(h,this,(0,s.getCurrentTransformInverse)(h),g.PathType.SHADING);const ie=(0,s.getCurrentTransformInverse)(h);if(ie){const{width:Fe,height:lt}=h.canvas,[xt,wt,Ut,Mt]=n.Util.getAxialAlignedBoundingBox([0,0,Fe,lt],ie);this.ctx.fillRect(xt,wt,Ut-xt,Mt-wt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(l,h){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(l)&&l.length===6&&this.transform(...l),this.baseTransform=(0,s.getCurrentTransform)(this.ctx),h)){const c=h[2]-h[0],ie=h[3]-h[1];this.ctx.rect(h[0],h[1],c,ie),this.current.updateRectMinMax((0,s.getCurrentTransform)(this.ctx),h),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(l){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const h=this.ctx;l.isolated||(0,n.info)("TODO: Support non-isolated groups."),l.knockout&&(0,n.warn)("Knockout groups not supported.");const c=(0,s.getCurrentTransform)(h);if(l.matrix&&h.transform(...l.matrix),!l.bbox)throw new Error("Bounding box is required.");let ie=n.Util.getAxialAlignedBoundingBox(l.bbox,(0,s.getCurrentTransform)(h));const Fe=[0,0,h.canvas.width,h.canvas.height];ie=n.Util.intersect(ie,Fe)||[0,0,0,0];const lt=Math.floor(ie[0]),xt=Math.floor(ie[1]);let wt=Math.max(Math.ceil(ie[2])-lt,1),Ut=Math.max(Math.ceil(ie[3])-xt,1),Mt=1,$t=1;wt>S&&(Mt=wt/S,wt=S),Ut>S&&($t=Ut/S,Ut=S),this.current.startNewPathAndClipBox([0,0,wt,Ut]);let Vt="groupAt"+this.groupLevel;l.smask&&(Vt+="_smask_"+this.smaskCounter++%2);const Jt=this.cachedCanvases.getCanvas(Vt,wt,Ut),Yt=Jt.context;Yt.scale(1/Mt,1/$t),Yt.translate(-lt,-xt),Yt.transform(...c),l.smask?this.smaskStack.push({canvas:Jt.canvas,context:Yt,offsetX:lt,offsetY:xt,scaleX:Mt,scaleY:$t,subtype:l.smask.subtype,backdrop:l.smask.backdrop,transferMap:l.smask.transferMap||null,startTransformInverse:null}):(h.setTransform(1,0,0,1,0,0),h.translate(lt,xt),h.scale(Mt,$t),h.save()),p(h,Yt),this.ctx=Yt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(h),this.groupLevel++}endGroup(l){if(!this.contentVisible)return;this.groupLevel--;const h=this.ctx,c=this.groupStack.pop();if(this.ctx=c,this.ctx.imageSmoothingEnabled=!1,l.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const ie=(0,s.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...ie);const Fe=n.Util.getAxialAlignedBoundingBox([0,0,h.canvas.width,h.canvas.height],ie);this.ctx.drawImage(h.canvas,0,0),this.ctx.restore(),this.compose(Fe)}}beginAnnotation(l,h,c,ie,Fe){if(jt(this,Rt,Ur).call(this),w(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(h)&&h.length===4){const lt=h[2]-h[0],xt=h[3]-h[1];if(Fe&&this.annotationCanvasMap){c=c.slice(),c[4]-=h[0],c[5]-=h[1],h=h.slice(),h[0]=h[1]=0,h[2]=lt,h[3]=xt;const[wt,Ut]=n.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(this.ctx)),{viewportScale:Mt}=this,$t=Math.ceil(lt*this.outputScaleX*Mt),Vt=Math.ceil(xt*this.outputScaleY*Mt);this.annotationCanvas=this.canvasFactory.create($t,Vt);const{canvas:Jt,context:Yt}=this.annotationCanvas;this.annotationCanvasMap.set(l,Jt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Yt,this.ctx.save(),this.ctx.setTransform(wt,0,0,-Ut,0,xt*Ut),w(this.ctx)}else w(this.ctx),this.ctx.rect(h[0],h[1],lt,xt),this.ctx.clip(),this.endPath()}this.current=new ht(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...c),this.transform(...ie)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),jt(this,tn,Wr).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(l){if(!this.contentVisible)return;const h=l.count;l=this.getObject(l.data,l),l.count=h;const c=this.ctx,ie=this.processingType3;if(ie&&(ie.compiled===void 0&&(ie.compiled=Je(l)),ie.compiled)){ie.compiled(c);return}const Fe=this._createMaskCanvas(l),lt=Fe.canvas;c.save(),c.setTransform(1,0,0,1,0,0),c.drawImage(lt,Fe.offsetX,Fe.offsetY),c.restore(),this.compose()}paintImageMaskXObjectRepeat(l,h,c=0,ie=0,Fe,lt){if(!this.contentVisible)return;l=this.getObject(l.data,l);const xt=this.ctx;xt.save();const wt=(0,s.getCurrentTransform)(xt);xt.transform(h,c,ie,Fe,0,0);const Ut=this._createMaskCanvas(l);xt.setTransform(1,0,0,1,Ut.offsetX-wt[4],Ut.offsetY-wt[5]);for(let Mt=0,$t=lt.length;Mt<$t;Mt+=2){const Vt=n.Util.transform(wt,[h,c,ie,Fe,lt[Mt],lt[Mt+1]]),[Jt,Yt]=n.Util.applyTransform([0,0],Vt);xt.drawImage(Ut.canvas,Jt,Yt)}xt.restore(),this.compose()}paintImageMaskXObjectGroup(l){if(!this.contentVisible)return;const h=this.ctx,c=this.current.fillColor,ie=this.current.patternFill;for(const Fe of l){const{data:lt,width:xt,height:wt,transform:Ut}=Fe,Mt=this.cachedCanvases.getCanvas("maskCanvas",xt,wt),$t=Mt.context;$t.save();const Vt=this.getObject(lt,Fe);ft($t,Vt),$t.globalCompositeOperation="source-in",$t.fillStyle=ie?c.getPattern($t,this,(0,s.getCurrentTransformInverse)(h),g.PathType.FILL):c,$t.fillRect(0,0,xt,wt),$t.restore(),h.save(),h.transform(...Ut),h.scale(1,-1),je(h,Mt.canvas,0,0,xt,wt,0,-1,1,1),h.restore()}this.compose()}paintImageXObject(l){if(!this.contentVisible)return;const h=this.getObject(l);if(!h){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(h)}paintImageXObjectRepeat(l,h,c,ie){if(!this.contentVisible)return;const Fe=this.getObject(l);if(!Fe){(0,n.warn)("Dependent image isn't ready yet");return}const lt=Fe.width,xt=Fe.height,wt=[];for(let Ut=0,Mt=ie.length;Ut<Mt;Ut+=2)wt.push({transform:[h,0,0,c,ie[Ut],ie[Ut+1]],x:0,y:0,w:lt,h:xt});this.paintInlineImageXObjectGroup(Fe,wt)}applyTransferMapsToCanvas(l){return this.current.transferMaps!=="none"&&(l.filter=this.current.transferMaps,l.drawImage(l.canvas,0,0),l.filter="none"),l.canvas}applyTransferMapsToBitmap(l){if(this.current.transferMaps==="none")return l.bitmap;const{bitmap:h,width:c,height:ie}=l,Fe=this.cachedCanvases.getCanvas("inlineImage",c,ie),lt=Fe.context;return lt.filter=this.current.transferMaps,lt.drawImage(h,0,0),lt.filter="none",Fe.canvas}paintInlineImageXObject(l){if(!this.contentVisible)return;const h=l.width,c=l.height,ie=this.ctx;if(this.save(),!n.isNodeJS){const{filter:xt}=ie;xt!=="none"&&xt!==""&&(ie.filter="none")}ie.scale(1/h,-1/c);let Fe;if(l.bitmap)Fe=this.applyTransferMapsToBitmap(l);else if(typeof HTMLElement=="function"&&l instanceof HTMLElement||!l.data)Fe=l;else{const wt=this.cachedCanvases.getCanvas("inlineImage",h,c).context;bt(wt,l),Fe=this.applyTransferMapsToCanvas(wt)}const lt=this._scaleImage(Fe,(0,s.getCurrentTransformInverse)(ie));ie.imageSmoothingEnabled=St((0,s.getCurrentTransform)(ie),l.interpolate),je(ie,lt.img,0,0,lt.paintWidth,lt.paintHeight,0,-c,h,c),this.compose(),this.restore()}paintInlineImageXObjectGroup(l,h){if(!this.contentVisible)return;const c=this.ctx;let ie;if(l.bitmap)ie=l.bitmap;else{const Fe=l.width,lt=l.height,wt=this.cachedCanvases.getCanvas("inlineImage",Fe,lt).context;bt(wt,l),ie=this.applyTransferMapsToCanvas(wt)}for(const Fe of h)c.save(),c.transform(...Fe.transform),c.scale(1,-1),je(c,ie,Fe.x,Fe.y,Fe.w,Fe.h,0,-1,1,1),c.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(l){}markPointProps(l,h){}beginMarkedContent(l){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(l,h){l==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(h)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(l){const h=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(l);const c=this.ctx;this.pendingClip&&(h||(this.pendingClip===It?c.clip("evenodd"):c.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),c.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const l=(0,s.getCurrentTransform)(this.ctx);if(l[1]===0&&l[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(l[0]),Math.abs(l[3]));else{const h=Math.abs(l[0]*l[3]-l[2]*l[1]),c=Math.hypot(l[0],l[2]),ie=Math.hypot(l[1],l[3]);this._cachedGetSinglePixelWidth=Math.max(c,ie)/h}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:l}=this.current,{a:h,b:c,c:ie,d:Fe}=this.ctx.getTransform();let lt,xt;if(c===0&&ie===0){const wt=Math.abs(h),Ut=Math.abs(Fe);if(wt===Ut)if(l===0)lt=xt=1/wt;else{const Mt=wt*l;lt=xt=Mt<1?1/Mt:1}else if(l===0)lt=1/wt,xt=1/Ut;else{const Mt=wt*l,$t=Ut*l;lt=Mt<1?1/Mt:1,xt=$t<1?1/$t:1}}else{const wt=Math.abs(h*Fe-c*ie),Ut=Math.hypot(h,c),Mt=Math.hypot(ie,Fe);if(l===0)lt=Mt/wt,xt=Ut/wt;else{const $t=l*wt;lt=Mt>$t?Mt/$t:1,xt=Ut>$t?Ut/$t:1}}this._cachedScaleForStroking[0]=lt,this._cachedScaleForStroking[1]=xt}return this._cachedScaleForStroking}rescaleAndStroke(l){const{ctx:h}=this,{lineWidth:c}=this.current,[ie,Fe]=this.getScaleForStroking();if(h.lineWidth=c||1,ie===1&&Fe===1){h.stroke();return}const lt=h.getLineDash();if(l&&h.save(),h.scale(ie,Fe),lt.length>0){const xt=Math.max(ie,Fe);h.setLineDash(lt.map(wt=>wt/xt)),h.lineDashOffset/=xt}h.stroke(),l&&h.restore()}isContentVisible(){for(let l=this.markedContentStack.length-1;l>=0;l--)if(!this.markedContentStack[l].visible)return!1;return!0}};Rt=new WeakSet,Ur=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},tn=new WeakSet,Wr=function(){if(this.pageColors){const l=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(l!=="none"){const h=this.ctx.filter;this.ctx.filter=l,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=h}}};let Ft=Kt;e.CanvasGraphics=Ft;for(const yt in n.OPS)Ft.prototype[yt]!==void 0&&(Ft.prototype[n.OPS[yt]]=Ft.prototype[yt])},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=dt;var n=i(1),s=i(6);const g={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=g;function ae(Je,ht){if(!ht)return;const bt=ht[2]-ht[0],ft=ht[3]-ht[1],p=new Path2D;p.rect(ht[0],ht[1],bt,ft),Je.clip(p)}class At{constructor(){this.constructor===At&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class m extends At{constructor(ht){super(),this._type=ht[1],this._bbox=ht[2],this._colorStops=ht[3],this._p0=ht[4],this._p1=ht[5],this._r0=ht[6],this._r1=ht[7],this.matrix=null}_createGradient(ht){let bt;this._type==="axial"?bt=ht.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(bt=ht.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ft of this._colorStops)bt.addColorStop(ft[0],ft[1]);return bt}getPattern(ht,bt,ft,p){let w;if(p===g.STROKE||p===g.FILL){const mt=bt.current.getClippedPathBoundingBox(p,(0,s.getCurrentTransform)(ht))||[0,0,0,0],d=Math.ceil(mt[2]-mt[0])||1,a=Math.ceil(mt[3]-mt[1])||1,Ue=bt.cachedCanvases.getCanvas("pattern",d,a,!0),xe=Ue.context;xe.clearRect(0,0,xe.canvas.width,xe.canvas.height),xe.beginPath(),xe.rect(0,0,xe.canvas.width,xe.canvas.height),xe.translate(-mt[0],-mt[1]),ft=n.Util.transform(ft,[1,0,0,1,mt[0],mt[1]]),xe.transform(...bt.baseTransform),this.matrix&&xe.transform(...this.matrix),ae(xe,this._bbox),xe.fillStyle=this._createGradient(xe),xe.fill(),w=ht.createPattern(Ue.canvas,"no-repeat");const St=new DOMMatrix(ft);w.setTransform(St)}else ae(ht,this._bbox),w=this._createGradient(ht);return w}}function S(Je,ht,bt,ft,p,w,mt,d){const a=ht.coords,Ue=ht.colors,xe=Je.data,St=Je.width*4;let Pt;a[bt+1]>a[ft+1]&&(Pt=bt,bt=ft,ft=Pt,Pt=w,w=mt,mt=Pt),a[ft+1]>a[p+1]&&(Pt=ft,ft=p,p=Pt,Pt=mt,mt=d,d=Pt),a[bt+1]>a[ft+1]&&(Pt=bt,bt=ft,ft=Pt,Pt=w,w=mt,mt=Pt);const gt=(a[bt]+ht.offsetX)*ht.scaleX,Ot=(a[bt+1]+ht.offsetY)*ht.scaleY,It=(a[ft]+ht.offsetX)*ht.scaleX,Ft=(a[ft+1]+ht.offsetY)*ht.scaleY,Rt=(a[p]+ht.offsetX)*ht.scaleX,Lt=(a[p+1]+ht.offsetY)*ht.scaleY;if(Ot>=Lt)return;const tn=Ue[w],rn=Ue[w+1],Kt=Ue[w+2],yt=Ue[mt],l=Ue[mt+1],h=Ue[mt+2],c=Ue[d],ie=Ue[d+1],Fe=Ue[d+2],lt=Math.round(Ot),xt=Math.round(Lt);let wt,Ut,Mt,$t,Vt,Jt,Yt,hn;for(let vn=lt;vn<=xt;vn++){if(vn<Ft){const Wt=vn<Ot?0:(Ot-vn)/(Ot-Ft);wt=gt-(gt-It)*Wt,Ut=tn-(tn-yt)*Wt,Mt=rn-(rn-l)*Wt,$t=Kt-(Kt-h)*Wt}else{let Wt;vn>Lt?Wt=1:Ft===Lt?Wt=0:Wt=(Ft-vn)/(Ft-Lt),wt=It-(It-Rt)*Wt,Ut=yt-(yt-c)*Wt,Mt=l-(l-ie)*Wt,$t=h-(h-Fe)*Wt}let an;vn<Ot?an=0:vn>Lt?an=1:an=(Ot-vn)/(Ot-Lt),Vt=gt-(gt-Rt)*an,Jt=tn-(tn-c)*an,Yt=rn-(rn-ie)*an,hn=Kt-(Kt-Fe)*an;const pn=Math.round(Math.min(wt,Vt)),Qt=Math.round(Math.max(wt,Vt));let Nt=St*vn+pn*4;for(let Wt=pn;Wt<=Qt;Wt++)an=(wt-Wt)/(wt-Vt),an<0?an=0:an>1&&(an=1),xe[Nt++]=Ut-(Ut-Jt)*an|0,xe[Nt++]=Mt-(Mt-Yt)*an|0,xe[Nt++]=$t-($t-hn)*an|0,xe[Nt++]=255}}function b(Je,ht,bt){const ft=ht.coords,p=ht.colors;let w,mt;switch(ht.type){case"lattice":const d=ht.verticesPerRow,a=Math.floor(ft.length/d)-1,Ue=d-1;for(w=0;w<a;w++){let xe=w*d;for(let St=0;St<Ue;St++,xe++)S(Je,bt,ft[xe],ft[xe+1],ft[xe+d],p[xe],p[xe+1],p[xe+d]),S(Je,bt,ft[xe+d+1],ft[xe+1],ft[xe+d],p[xe+d+1],p[xe+1],p[xe+d])}break;case"triangles":for(w=0,mt=ft.length;w<mt;w+=3)S(Je,bt,ft[w],ft[w+1],ft[w+2],p[w],p[w+1],p[w+2]);break;default:throw new Error("illegal figure")}}class _t extends At{constructor(ht){super(),this._coords=ht[2],this._colors=ht[3],this._figures=ht[4],this._bounds=ht[5],this._bbox=ht[7],this._background=ht[8],this.matrix=null}_createMeshCanvas(ht,bt,ft){const d=Math.floor(this._bounds[0]),a=Math.floor(this._bounds[1]),Ue=Math.ceil(this._bounds[2])-d,xe=Math.ceil(this._bounds[3])-a,St=Math.min(Math.ceil(Math.abs(Ue*ht[0]*1.1)),3e3),Pt=Math.min(Math.ceil(Math.abs(xe*ht[1]*1.1)),3e3),gt=Ue/St,Ot=xe/Pt,It={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-a,scaleX:1/gt,scaleY:1/Ot},Ft=St+2*2,Rt=Pt+2*2,Lt=ft.getCanvas("mesh",Ft,Rt,!1),tn=Lt.context,rn=tn.createImageData(St,Pt);if(bt){const yt=rn.data;for(let l=0,h=yt.length;l<h;l+=4)yt[l]=bt[0],yt[l+1]=bt[1],yt[l+2]=bt[2],yt[l+3]=255}for(const yt of this._figures)b(rn,yt,It);return tn.putImageData(rn,2,2),{canvas:Lt.canvas,offsetX:d-2*gt,offsetY:a-2*Ot,scaleX:gt,scaleY:Ot}}getPattern(ht,bt,ft,p){ae(ht,this._bbox);let w;if(p===g.SHADING)w=n.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(ht));else if(w=n.Util.singularValueDecompose2dScale(bt.baseTransform),this.matrix){const d=n.Util.singularValueDecompose2dScale(this.matrix);w=[w[0]*d[0],w[1]*d[1]]}const mt=this._createMeshCanvas(w,p===g.SHADING?null:this._background,bt.cachedCanvases);return p!==g.SHADING&&(ht.setTransform(...bt.baseTransform),this.matrix&&ht.transform(...this.matrix)),ht.translate(mt.offsetX,mt.offsetY),ht.scale(mt.scaleX,mt.scaleY),ht.createPattern(mt.canvas,"no-repeat")}}class vt extends At{getPattern(){return"hotpink"}}function dt(Je){switch(Je[0]){case"RadialAxial":return new m(Je);case"Mesh":return new _t(Je);case"Dummy":return new vt}throw new Error(`Unknown IR type: ${Je[0]}`)}const ut={COLORED:1,UNCOLORED:2},je=class je{constructor(ht,bt,ft,p,w){this.operatorList=ht[2],this.matrix=ht[3]||[1,0,0,1,0,0],this.bbox=ht[4],this.xstep=ht[5],this.ystep=ht[6],this.paintType=ht[7],this.tilingType=ht[8],this.color=bt,this.ctx=ft,this.canvasGraphicsFactory=p,this.baseTransform=w}createPatternCanvas(ht){const bt=this.operatorList,ft=this.bbox,p=this.xstep,w=this.ystep,mt=this.paintType,d=this.tilingType,a=this.color,Ue=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+d);const xe=ft[0],St=ft[1],Pt=ft[2],gt=ft[3],Ot=n.Util.singularValueDecompose2dScale(this.matrix),It=n.Util.singularValueDecompose2dScale(this.baseTransform),Ft=[Ot[0]*It[0],Ot[1]*It[1]],Rt=this.getSizeAndScale(p,this.ctx.canvas.width,Ft[0]),Lt=this.getSizeAndScale(w,this.ctx.canvas.height,Ft[1]),tn=ht.cachedCanvases.getCanvas("pattern",Rt.size,Lt.size,!0),rn=tn.context,Kt=Ue.createCanvasGraphics(rn);Kt.groupLevel=ht.groupLevel,this.setFillAndStrokeStyleToContext(Kt,mt,a);let yt=xe,l=St,h=Pt,c=gt;return xe<0&&(yt=0,h+=Math.abs(xe)),St<0&&(l=0,c+=Math.abs(St)),rn.translate(-(Rt.scale*yt),-(Lt.scale*l)),Kt.transform(Rt.scale,0,0,Lt.scale,0,0),rn.save(),this.clipBbox(Kt,yt,l,h,c),Kt.baseTransform=(0,s.getCurrentTransform)(Kt.ctx),Kt.executeOperatorList(bt),Kt.endDrawing(),{canvas:tn.canvas,scaleX:Rt.scale,scaleY:Lt.scale,offsetX:yt,offsetY:l}}getSizeAndScale(ht,bt,ft){ht=Math.abs(ht);const p=Math.max(je.MAX_PATTERN_SIZE,bt);let w=Math.ceil(ht*ft);return w>=p?w=p:ft=w/ht,{scale:ft,size:w}}clipBbox(ht,bt,ft,p,w){const mt=p-bt,d=w-ft;ht.ctx.rect(bt,ft,mt,d),ht.current.updateRectMinMax((0,s.getCurrentTransform)(ht.ctx),[bt,ft,p,w]),ht.clip(),ht.endPath()}setFillAndStrokeStyleToContext(ht,bt,ft){const p=ht.ctx,w=ht.current;switch(bt){case ut.COLORED:const mt=this.ctx;p.fillStyle=mt.fillStyle,p.strokeStyle=mt.strokeStyle,w.fillColor=mt.fillStyle,w.strokeColor=mt.strokeStyle;break;case ut.UNCOLORED:const d=n.Util.makeHexColor(ft[0],ft[1],ft[2]);p.fillStyle=d,p.strokeStyle=d,w.fillColor=d,w.strokeColor=d;break;default:throw new n.FormatError(`Unsupported paint type: ${bt}`)}}getPattern(ht,bt,ft,p){let w=ft;p!==g.SHADING&&(w=n.Util.transform(w,bt.baseTransform),this.matrix&&(w=n.Util.transform(w,this.matrix)));const mt=this.createPatternCanvas(bt);let d=new DOMMatrix(w);d=d.translate(mt.offsetX,mt.offsetY),d=d.scale(1/mt.scaleX,1/mt.scaleY);const a=ht.createPattern(mt.canvas,"repeat");return a.setTransform(d),a}};Un(je,"MAX_PATTERN_SIZE",3e3);let at=je;e.TilingPattern=at},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=g,e.convertToRGBA=s,e.grayToRGBA=At;var n=i(1);function s(m){switch(m.kind){case n.ImageKind.GRAYSCALE_1BPP:return g(m);case n.ImageKind.RGB_24BPP:return ae(m)}return null}function g({src:m,srcPos:S=0,dest:b,width:_t,height:vt,nonBlackColor:dt=4294967295,inverseDecode:ut=!1}){const at=n.FeatureTest.isLittleEndian?4278190080:255,[je,Je]=ut?[dt,at]:[at,dt],ht=_t>>3,bt=_t&7,ft=m.length;b=new Uint32Array(b.buffer);let p=0;for(let w=0;w<vt;w++){for(const d=S+ht;S<d;S++){const a=S<ft?m[S]:255;b[p++]=a&128?Je:je,b[p++]=a&64?Je:je,b[p++]=a&32?Je:je,b[p++]=a&16?Je:je,b[p++]=a&8?Je:je,b[p++]=a&4?Je:je,b[p++]=a&2?Je:je,b[p++]=a&1?Je:je}if(bt===0)continue;const mt=S<ft?m[S++]:255;for(let d=0;d<bt;d++)b[p++]=mt&1<<7-d?Je:je}return{srcPos:S,destPos:p}}function ae({src:m,srcPos:S=0,dest:b,destPos:_t=0,width:vt,height:dt}){let ut=0;const at=m.length>>2,je=new Uint32Array(m.buffer,S,at);if(n.FeatureTest.isLittleEndian){for(;ut<at-2;ut+=3,_t+=4){const Je=je[ut],ht=je[ut+1],bt=je[ut+2];b[_t]=Je|4278190080,b[_t+1]=Je>>>24|ht<<8|4278190080,b[_t+2]=ht>>>16|bt<<16|4278190080,b[_t+3]=bt>>>8|4278190080}for(let Je=ut*4,ht=m.length;Je<ht;Je+=3)b[_t++]=m[Je]|m[Je+1]<<8|m[Je+2]<<16|4278190080}else{for(;ut<at-2;ut+=3,_t+=4){const Je=je[ut],ht=je[ut+1],bt=je[ut+2];b[_t]=Je|255,b[_t+1]=Je<<24|ht>>>8|255,b[_t+2]=ht<<16|bt>>>16|255,b[_t+3]=bt<<8|255}for(let Je=ut*4,ht=m.length;Je<ht;Je+=3)b[_t++]=m[Je]<<24|m[Je+1]<<16|m[Je+2]<<8|255}return{srcPos:S,destPos:_t}}function At(m,S){if(n.FeatureTest.isLittleEndian)for(let b=0,_t=m.length;b<_t;b++)S[b]=m[b]*65793|4278190080;else for(let b=0,_t=m.length;b<_t;b++)S[b]=m[b]*16843008|255}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const i=Object.create(null);e.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(t,e,i)=>{var m,bi,b,vi,vt,br;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var n=i(1);const s={UNKNOWN:0,DATA:1,ERROR:2},g={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ae(ut){switch(ut instanceof Error||typeof ut=="object"&&ut!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ut.name){case"AbortException":return new n.AbortException(ut.message);case"MissingPDFException":return new n.MissingPDFException(ut.message);case"PasswordException":return new n.PasswordException(ut.message,ut.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(ut.message,ut.status);case"UnknownErrorException":return new n.UnknownErrorException(ut.message,ut.details);default:return new n.UnknownErrorException(ut.message,ut.toString())}}class At{constructor(at,je,Je){kt(this,m);kt(this,b);kt(this,vt);this.sourceName=at,this.targetName=je,this.comObj=Je,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ht=>{const bt=ht.data;if(bt.targetName!==this.sourceName)return;if(bt.stream){jt(this,b,vi).call(this,bt);return}if(bt.callback){const p=bt.callbackId,w=this.callbackCapabilities[p];if(!w)throw new Error(`Cannot resolve callback ${p}`);if(delete this.callbackCapabilities[p],bt.callback===s.DATA)w.resolve(bt.data);else if(bt.callback===s.ERROR)w.reject(ae(bt.reason));else throw new Error("Unexpected callback case");return}const ft=this.actionHandler[bt.action];if(!ft)throw new Error(`Unknown action from worker: ${bt.action}`);if(bt.callbackId){const p=this.sourceName,w=bt.sourceName;new Promise(function(mt){mt(ft(bt.data))}).then(function(mt){Je.postMessage({sourceName:p,targetName:w,callback:s.DATA,callbackId:bt.callbackId,data:mt})},function(mt){Je.postMessage({sourceName:p,targetName:w,callback:s.ERROR,callbackId:bt.callbackId,reason:ae(mt)})});return}if(bt.streamId){jt(this,m,bi).call(this,bt);return}ft(bt.data)},Je.addEventListener("message",this._onComObjOnMessage)}on(at,je){const Je=this.actionHandler;if(Je[at])throw new Error(`There is already an actionName called "${at}"`);Je[at]=je}send(at,je,Je){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:at,data:je},Je)}sendWithPromise(at,je,Je){const ht=this.callbackId++,bt=new n.PromiseCapability;this.callbackCapabilities[ht]=bt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:at,callbackId:ht,data:je},Je)}catch(ft){bt.reject(ft)}return bt.promise}sendWithStream(at,je,Je,ht){const bt=this.streamId++,ft=this.sourceName,p=this.targetName,w=this.comObj;return new ReadableStream({start:mt=>{const d=new n.PromiseCapability;return this.streamControllers[bt]={controller:mt,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},w.postMessage({sourceName:ft,targetName:p,action:at,streamId:bt,data:je,desiredSize:mt.desiredSize},ht),d.promise},pull:mt=>{const d=new n.PromiseCapability;return this.streamControllers[bt].pullCall=d,w.postMessage({sourceName:ft,targetName:p,stream:g.PULL,streamId:bt,desiredSize:mt.desiredSize}),d.promise},cancel:mt=>{(0,n.assert)(mt instanceof Error,"cancel must have a valid reason");const d=new n.PromiseCapability;return this.streamControllers[bt].cancelCall=d,this.streamControllers[bt].isClosed=!0,w.postMessage({sourceName:ft,targetName:p,stream:g.CANCEL,streamId:bt,reason:ae(mt)}),d.promise}},Je)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}m=new WeakSet,bi=function(at){const je=at.streamId,Je=this.sourceName,ht=at.sourceName,bt=this.comObj,ft=this,p=this.actionHandler[at.action],w={enqueue(mt,d=1,a){if(this.isCancelled)return;const Ue=this.desiredSize;this.desiredSize-=d,Ue>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),bt.postMessage({sourceName:Je,targetName:ht,stream:g.ENQUEUE,streamId:je,chunk:mt},a)},close(){this.isCancelled||(this.isCancelled=!0,bt.postMessage({sourceName:Je,targetName:ht,stream:g.CLOSE,streamId:je}),delete ft.streamSinks[je])},error(mt){(0,n.assert)(mt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,bt.postMessage({sourceName:Je,targetName:ht,stream:g.ERROR,streamId:je,reason:ae(mt)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:at.desiredSize,ready:null};w.sinkCapability.resolve(),w.ready=w.sinkCapability.promise,this.streamSinks[je]=w,new Promise(function(mt){mt(p(at.data,w))}).then(function(){bt.postMessage({sourceName:Je,targetName:ht,stream:g.START_COMPLETE,streamId:je,success:!0})},function(mt){bt.postMessage({sourceName:Je,targetName:ht,stream:g.START_COMPLETE,streamId:je,reason:ae(mt)})})},b=new WeakSet,vi=function(at){const je=at.streamId,Je=this.sourceName,ht=at.sourceName,bt=this.comObj,ft=this.streamControllers[je],p=this.streamSinks[je];switch(at.stream){case g.START_COMPLETE:at.success?ft.startCall.resolve():ft.startCall.reject(ae(at.reason));break;case g.PULL_COMPLETE:at.success?ft.pullCall.resolve():ft.pullCall.reject(ae(at.reason));break;case g.PULL:if(!p){bt.postMessage({sourceName:Je,targetName:ht,stream:g.PULL_COMPLETE,streamId:je,success:!0});break}p.desiredSize<=0&&at.desiredSize>0&&p.sinkCapability.resolve(),p.desiredSize=at.desiredSize,new Promise(function(w){var mt;w((mt=p.onPull)==null?void 0:mt.call(p))}).then(function(){bt.postMessage({sourceName:Je,targetName:ht,stream:g.PULL_COMPLETE,streamId:je,success:!0})},function(w){bt.postMessage({sourceName:Je,targetName:ht,stream:g.PULL_COMPLETE,streamId:je,reason:ae(w)})});break;case g.ENQUEUE:if((0,n.assert)(ft,"enqueue should have stream controller"),ft.isClosed)break;ft.controller.enqueue(at.chunk);break;case g.CLOSE:if((0,n.assert)(ft,"close should have stream controller"),ft.isClosed)break;ft.isClosed=!0,ft.controller.close(),jt(this,vt,br).call(this,ft,je);break;case g.ERROR:(0,n.assert)(ft,"error should have stream controller"),ft.controller.error(ae(at.reason)),jt(this,vt,br).call(this,ft,je);break;case g.CANCEL_COMPLETE:at.success?ft.cancelCall.resolve():ft.cancelCall.reject(ae(at.reason)),jt(this,vt,br).call(this,ft,je);break;case g.CANCEL:if(!p)break;new Promise(function(w){var mt;w((mt=p.onCancel)==null?void 0:mt.call(p,ae(at.reason)))}).then(function(){bt.postMessage({sourceName:Je,targetName:ht,stream:g.CANCEL_COMPLETE,streamId:je,success:!0})},function(w){bt.postMessage({sourceName:Je,targetName:ht,stream:g.CANCEL_COMPLETE,streamId:je,reason:ae(w)})}),p.sinkCapability.reject(ae(at.reason)),p.isCancelled=!0,delete this.streamSinks[je];break;default:throw new Error("Unexpected stream case")}},vt=new WeakSet,br=async function(at,je){var Je,ht,bt;await Promise.allSettled([(Je=at.startCall)==null?void 0:Je.promise,(ht=at.pullCall)==null?void 0:ht.promise,(bt=at.cancelCall)==null?void 0:bt.promise]),delete this.streamControllers[je]},e.MessageHandler=At},(t,e,i)=>{var g,ae;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var n=i(1);class s{constructor({parsedData:m,rawData:S}){kt(this,g,void 0);kt(this,ae,void 0);qt(this,g,m),qt(this,ae,S)}getRaw(){return o(this,ae)}get(m){return o(this,g).get(m)??null}getAll(){return(0,n.objectFromMap)(o(this,g))}has(m){return o(this,g).has(m)}}g=new WeakMap,ae=new WeakMap,e.Metadata=s},(t,e,i)=>{var m,S,b,_t,vt,dt,zr;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var n=i(1),s=i(8);const g=Symbol("INTERNAL");class ae{constructor(je,Je){kt(this,m,!0);this.name=je,this.intent=Je}get visible(){return o(this,m)}_setVisible(je,Je){je!==g&&(0,n.unreachable)("Internal method `_setVisible` called."),qt(this,m,Je)}}m=new WeakMap;class At{constructor(je){kt(this,dt);kt(this,S,null);kt(this,b,new Map);kt(this,_t,null);kt(this,vt,null);if(this.name=null,this.creator=null,je!==null){this.name=je.name,this.creator=je.creator,qt(this,vt,je.order);for(const Je of je.groups)o(this,b).set(Je.id,new ae(Je.name,Je.intent));if(je.baseState==="OFF")for(const Je of o(this,b).values())Je._setVisible(g,!1);for(const Je of je.on)o(this,b).get(Je)._setVisible(g,!0);for(const Je of je.off)o(this,b).get(Je)._setVisible(g,!1);qt(this,_t,this.getHash())}}isVisible(je){if(o(this,b).size===0)return!0;if(!je)return(0,n.warn)("Optional content group not defined."),!0;if(je.type==="OCG")return o(this,b).has(je.id)?o(this,b).get(je.id).visible:((0,n.warn)(`Optional content group not found: ${je.id}`),!0);if(je.type==="OCMD"){if(je.expression)return jt(this,dt,zr).call(this,je.expression);if(!je.policy||je.policy==="AnyOn"){for(const Je of je.ids){if(!o(this,b).has(Je))return(0,n.warn)(`Optional content group not found: ${Je}`),!0;if(o(this,b).get(Je).visible)return!0}return!1}else if(je.policy==="AllOn"){for(const Je of je.ids){if(!o(this,b).has(Je))return(0,n.warn)(`Optional content group not found: ${Je}`),!0;if(!o(this,b).get(Je).visible)return!1}return!0}else if(je.policy==="AnyOff"){for(const Je of je.ids){if(!o(this,b).has(Je))return(0,n.warn)(`Optional content group not found: ${Je}`),!0;if(!o(this,b).get(Je).visible)return!0}return!1}else if(je.policy==="AllOff"){for(const Je of je.ids){if(!o(this,b).has(Je))return(0,n.warn)(`Optional content group not found: ${Je}`),!0;if(o(this,b).get(Je).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${je.policy}.`),!0}return(0,n.warn)(`Unknown group type ${je.type}.`),!0}setVisibility(je,Je=!0){if(!o(this,b).has(je)){(0,n.warn)(`Optional content group not found: ${je}`);return}o(this,b).get(je)._setVisible(g,!!Je),qt(this,S,null)}get hasInitialVisibility(){return o(this,_t)===null||this.getHash()===o(this,_t)}getOrder(){return o(this,b).size?o(this,vt)?o(this,vt).slice():[...o(this,b).keys()]:null}getGroups(){return o(this,b).size>0?(0,n.objectFromMap)(o(this,b)):null}getGroup(je){return o(this,b).get(je)||null}getHash(){if(o(this,S)!==null)return o(this,S);const je=new s.MurmurHash3_64;for(const[Je,ht]of o(this,b))je.update(`${Je}:${ht.visible}`);return qt(this,S,je.hexdigest())}}S=new WeakMap,b=new WeakMap,_t=new WeakMap,vt=new WeakMap,dt=new WeakSet,zr=function(je){const Je=je.length;if(Je<2)return!0;const ht=je[0];for(let bt=1;bt<Je;bt++){const ft=je[bt];let p;if(Array.isArray(ft))p=jt(this,dt,zr).call(this,ft);else if(o(this,b).has(ft))p=o(this,b).get(ft).visible;else return(0,n.warn)(`Optional content group not found: ${ft}`),!0;switch(ht){case"And":if(!p)return!1;break;case"Or":if(p)return!0;break;case"Not":return!p;default:return!0}}return ht==="And"},e.OptionalContentConfig=At},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var n=i(1),s=i(6);class g{constructor({length:S,initialData:b,progressiveDone:_t=!1,contentDispositionFilename:vt=null,disableRange:dt=!1,disableStream:ut=!1},at){if((0,n.assert)(at,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_t,this._contentDispositionFilename=vt,(b==null?void 0:b.length)>0){const je=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;this._queuedChunks.push(je)}this._pdfDataRangeTransport=at,this._isStreamingSupported=!ut,this._isRangeSupported=!dt,this._contentLength=S,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((je,Je)=>{this._onReceiveData({begin:je,chunk:Je})}),this._pdfDataRangeTransport.addProgressListener((je,Je)=>{this._onProgress({loaded:je,total:Je})}),this._pdfDataRangeTransport.addProgressiveReadListener(je=>{this._onReceiveData({chunk:je})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:S,chunk:b}){const _t=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;if(S===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(_t):this._queuedChunks.push(_t);else{const vt=this._rangeReaders.some(function(dt){return dt._begin!==S?!1:(dt._enqueue(_t),!0)});(0,n.assert)(vt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var S;return((S=this._fullRequestReader)==null?void 0:S._loaded)??0}_onProgress(S){var b,_t,vt,dt;S.total===void 0?(_t=(b=this._rangeReaders[0])==null?void 0:b.onProgress)==null||_t.call(b,{loaded:S.loaded}):(dt=(vt=this._fullRequestReader)==null?void 0:vt.onProgress)==null||dt.call(vt,{loaded:S.loaded,total:S.total})}_onProgressiveDone(){var S;(S=this._fullRequestReader)==null||S.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(S){const b=this._rangeReaders.indexOf(S);b>=0&&this._rangeReaders.splice(b,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const S=this._queuedChunks;return this._queuedChunks=null,new ae(this,S,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(S,b){if(b<=this._progressiveDataLength)return null;const _t=new At(this,S,b);return this._pdfDataRangeTransport.requestDataRange(S,b),this._rangeReaders.push(_t),_t}cancelAllRequests(S){var b;(b=this._fullRequestReader)==null||b.cancel(S);for(const _t of this._rangeReaders.slice(0))_t.cancel(S);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=g;class ae{constructor(S,b,_t=!1,vt=null){this._stream=S,this._done=_t||!1,this._filename=(0,s.isPdfFile)(vt)?vt:null,this._queuedChunks=b||[],this._loaded=0;for(const dt of this._queuedChunks)this._loaded+=dt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),S._fullRequestReader=this,this.onProgress=null}_enqueue(S){this._done||(this._requests.length>0?this._requests.shift().resolve({value:S,done:!1}):this._queuedChunks.push(S),this._loaded+=S.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const S=new n.PromiseCapability;return this._requests.push(S),S.promise}cancel(S){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class At{constructor(S,b,_t){this._stream=S,this._begin=b,this._end=_t,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(S){if(!this._done){if(this._requests.length===0)this._queuedChunk=S;else{this._requests.shift().resolve({value:S,done:!1});for(const _t of this._requests)_t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const b=this._queuedChunk;return this._queuedChunk=null,{value:b,done:!1}}if(this._done)return{value:void 0,done:!0};const S=new n.PromiseCapability;return this._requests.push(S),S.promise}cancel(S){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var n=i(1),s=i(20);function g(_t,vt,dt){return{method:"GET",headers:_t,signal:dt.signal,mode:"cors",credentials:vt?"include":"same-origin",redirect:"follow"}}function ae(_t){const vt=new Headers;for(const dt in _t){const ut=_t[dt];ut!==void 0&&vt.append(dt,ut)}return vt}function At(_t){return _t instanceof Uint8Array?_t.buffer:_t instanceof ArrayBuffer?_t:((0,n.warn)(`getArrayBuffer - unexpected data format: ${_t}`),new Uint8Array(_t).buffer)}class m{constructor(vt){this.source=vt,this.isHttp=/^https?:/i.test(vt.url),this.httpHeaders=this.isHttp&&vt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var vt;return((vt=this._fullRequestReader)==null?void 0:vt._loaded)??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new S(this),this._fullRequestReader}getRangeReader(vt,dt){if(dt<=this._progressiveDataLength)return null;const ut=new b(this,vt,dt);return this._rangeRequestReaders.push(ut),ut}cancelAllRequests(vt){var dt;(dt=this._fullRequestReader)==null||dt.cancel(vt);for(const ut of this._rangeRequestReaders.slice(0))ut.cancel(vt)}}e.PDFFetchStream=m;class S{constructor(vt){this._stream=vt,this._reader=null,this._loaded=0,this._filename=null;const dt=vt.source;this._withCredentials=dt.withCredentials||!1,this._contentLength=dt.length,this._headersCapability=new n.PromiseCapability,this._disableRange=dt.disableRange||!1,this._rangeChunkSize=dt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!dt.disableStream,this._isRangeSupported=!dt.disableRange,this._headers=ae(this._stream.httpHeaders);const ut=dt.url;fetch(ut,g(this._headers,this._withCredentials,this._abortController)).then(at=>{if(!(0,s.validateResponseStatus)(at.status))throw(0,s.createResponseStatusError)(at.status,ut);this._reader=at.body.getReader(),this._headersCapability.resolve();const je=bt=>at.headers.get(bt),{allowRangeRequests:Je,suggestedLength:ht}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:je,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Je,this._contentLength=ht||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(je),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ut;await this._headersCapability.promise;const{value:vt,done:dt}=await this._reader.read();return dt?{value:vt,done:dt}:(this._loaded+=vt.byteLength,(ut=this.onProgress)==null||ut.call(this,{loaded:this._loaded,total:this._contentLength}),{value:At(vt),done:!1})}cancel(vt){var dt;(dt=this._reader)==null||dt.cancel(vt),this._abortController.abort()}}class b{constructor(vt,dt,ut){this._stream=vt,this._reader=null,this._loaded=0;const at=vt.source;this._withCredentials=at.withCredentials||!1,this._readCapability=new n.PromiseCapability,this._isStreamingSupported=!at.disableStream,this._abortController=new AbortController,this._headers=ae(this._stream.httpHeaders),this._headers.append("Range",`bytes=${dt}-${ut-1}`);const je=at.url;fetch(je,g(this._headers,this._withCredentials,this._abortController)).then(Je=>{if(!(0,s.validateResponseStatus)(Je.status))throw(0,s.createResponseStatusError)(Je.status,je);this._readCapability.resolve(),this._reader=Je.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ut;await this._readCapability.promise;const{value:vt,done:dt}=await this._reader.read();return dt?{value:vt,done:dt}:(this._loaded+=vt.byteLength,(ut=this.onProgress)==null||ut.call(this,{loaded:this._loaded}),{value:At(vt),done:!1})}cancel(vt){var dt;(dt=this._reader)==null||dt.cancel(vt),this._abortController.abort()}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=m,e.extractFilenameFromHeader=At,e.validateRangeRequestCapabilities=ae,e.validateResponseStatus=S;var n=i(1),s=i(21),g=i(6);function ae({getResponseHeader:b,isHttp:_t,rangeChunkSize:vt,disableRange:dt}){const ut={allowRangeRequests:!1,suggestedLength:void 0},at=parseInt(b("Content-Length"),10);return!Number.isInteger(at)||(ut.suggestedLength=at,at<=2*vt)||dt||!_t||b("Accept-Ranges")!=="bytes"||(b("Content-Encoding")||"identity")!=="identity"||(ut.allowRangeRequests=!0),ut}function At(b){const _t=b("Content-Disposition");if(_t){let vt=(0,s.getFilenameFromContentDispositionHeader)(_t);if(vt.includes("%"))try{vt=decodeURIComponent(vt)}catch{}if((0,g.isPdfFile)(vt))return vt}return null}function m(b,_t){return b===404||b===0&&_t.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+_t+'".'):new n.UnexpectedResponseException(`Unexpected server response (${b}) while retrieving PDF "${_t}".`,b)}function S(b){return b===200||b===206}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=s;var n=i(1);function s(g){let ae=!0,At=m("filename\\*","i").exec(g);if(At){At=At[1];let at=vt(At);return at=unescape(at),at=dt(at),at=ut(at),b(at)}if(At=_t(g),At){const at=ut(At);return b(at)}if(At=m("filename","i").exec(g),At){At=At[1];let at=vt(At);return at=ut(at),b(at)}function m(at,je){return new RegExp("(?:^|;)\\s*"+at+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',je)}function S(at,je){if(at){if(!/^[\x00-\xFF]+$/.test(je))return je;try{const Je=new TextDecoder(at,{fatal:!0}),ht=(0,n.stringToBytes)(je);je=Je.decode(ht),ae=!1}catch{}}return je}function b(at){return ae&&/[\x80-\xff]/.test(at)&&(at=S("utf-8",at),ae&&(at=S("iso-8859-1",at))),at}function _t(at){const je=[];let Je;const ht=m("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Je=ht.exec(at))!==null;){let[,ft,p,w]=Je;if(ft=parseInt(ft,10),ft in je){if(ft===0)break;continue}je[ft]=[p,w]}const bt=[];for(let ft=0;ft<je.length&&ft in je;++ft){let[p,w]=je[ft];w=vt(w),p&&(w=unescape(w),ft===0&&(w=dt(w))),bt.push(w)}return bt.join("")}function vt(at){if(at.startsWith('"')){const je=at.slice(1).split('\\"');for(let Je=0;Je<je.length;++Je){const ht=je[Je].indexOf('"');ht!==-1&&(je[Je]=je[Je].slice(0,ht),je.length=Je+1),je[Je]=je[Je].replaceAll(/\\(.)/g,"$1")}at=je.join('"')}return at}function dt(at){const je=at.indexOf("'");if(je===-1)return at;const Je=at.slice(0,je),bt=at.slice(je+1).replace(/^[^']*'/,"");return S(Je,bt)}function ut(at){return!at.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(at)?at:at.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(je,Je,ht,bt){if(ht==="q"||ht==="Q")return bt=bt.replaceAll("_"," "),bt=bt.replaceAll(/=([0-9a-fA-F]{2})/g,function(ft,p){return String.fromCharCode(parseInt(p,16))}),S(Je,bt);try{bt=atob(bt)}catch{}return S(Je,bt)})}return""}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var n=i(1),s=i(20);const g=200,ae=206;function At(vt){const dt=vt.response;return typeof dt!="string"?dt:(0,n.stringToBytes)(dt).buffer}class m{constructor(dt,ut={}){this.url=dt,this.isHttp=/^https?:/i.test(dt),this.httpHeaders=this.isHttp&&ut.httpHeaders||Object.create(null),this.withCredentials=ut.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(dt,ut,at){const je={begin:dt,end:ut};for(const Je in at)je[Je]=at[Je];return this.request(je)}requestFull(dt){return this.request(dt)}request(dt){const ut=new XMLHttpRequest,at=this.currXhrId++,je=this.pendingRequests[at]={xhr:ut};ut.open("GET",this.url),ut.withCredentials=this.withCredentials;for(const Je in this.httpHeaders){const ht=this.httpHeaders[Je];ht!==void 0&&ut.setRequestHeader(Je,ht)}return this.isHttp&&"begin"in dt&&"end"in dt?(ut.setRequestHeader("Range",`bytes=${dt.begin}-${dt.end-1}`),je.expectedStatus=ae):je.expectedStatus=g,ut.responseType="arraybuffer",dt.onError&&(ut.onerror=function(Je){dt.onError(ut.status)}),ut.onreadystatechange=this.onStateChange.bind(this,at),ut.onprogress=this.onProgress.bind(this,at),je.onHeadersReceived=dt.onHeadersReceived,je.onDone=dt.onDone,je.onError=dt.onError,je.onProgress=dt.onProgress,ut.send(null),at}onProgress(dt,ut){var je;const at=this.pendingRequests[dt];at&&((je=at.onProgress)==null||je.call(at,ut))}onStateChange(dt,ut){var ft,p,w;const at=this.pendingRequests[dt];if(!at)return;const je=at.xhr;if(je.readyState>=2&&at.onHeadersReceived&&(at.onHeadersReceived(),delete at.onHeadersReceived),je.readyState!==4||!(dt in this.pendingRequests))return;if(delete this.pendingRequests[dt],je.status===0&&this.isHttp){(ft=at.onError)==null||ft.call(at,je.status);return}const Je=je.status||g;if(!(Je===g&&at.expectedStatus===ae)&&Je!==at.expectedStatus){(p=at.onError)==null||p.call(at,je.status);return}const bt=At(je);if(Je===ae){const mt=je.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(mt);at.onDone({begin:parseInt(d[1],10),chunk:bt})}else bt?at.onDone({begin:0,chunk:bt}):(w=at.onError)==null||w.call(at,je.status)}getRequestXhr(dt){return this.pendingRequests[dt].xhr}isPendingRequest(dt){return dt in this.pendingRequests}abortRequest(dt){const ut=this.pendingRequests[dt].xhr;delete this.pendingRequests[dt],ut.abort()}}class S{constructor(dt){this._source=dt,this._manager=new m(dt.url,{httpHeaders:dt.httpHeaders,withCredentials:dt.withCredentials}),this._rangeChunkSize=dt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(dt){const ut=this._rangeRequestReaders.indexOf(dt);ut>=0&&this._rangeRequestReaders.splice(ut,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new b(this._manager,this._source),this._fullRequestReader}getRangeReader(dt,ut){const at=new _t(this._manager,dt,ut);return at.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(at),at}cancelAllRequests(dt){var ut;(ut=this._fullRequestReader)==null||ut.cancel(dt);for(const at of this._rangeRequestReaders.slice(0))at.cancel(dt)}}e.PDFNetworkStream=S;class b{constructor(dt,ut){this._manager=dt;const at={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ut.url,this._fullRequestId=dt.requestFull(at),this._headersReceivedCapability=new n.PromiseCapability,this._disableRange=ut.disableRange||!1,this._contentLength=ut.length,this._rangeChunkSize=ut.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const dt=this._fullRequestId,ut=this._manager.getRequestXhr(dt),at=ht=>ut.getResponseHeader(ht),{allowRangeRequests:je,suggestedLength:Je}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:at,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});je&&(this._isRangeSupported=!0),this._contentLength=Je||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(at),this._isRangeSupported&&this._manager.abortRequest(dt),this._headersReceivedCapability.resolve()}_onDone(dt){if(dt&&(this._requests.length>0?this._requests.shift().resolve({value:dt.chunk,done:!1}):this._cachedChunks.push(dt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ut of this._requests)ut.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(dt){this._storedError=(0,s.createResponseStatusError)(dt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ut of this._requests)ut.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(dt){var ut;(ut=this.onProgress)==null||ut.call(this,{loaded:dt.loaded,total:dt.lengthComputable?dt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const dt=new n.PromiseCapability;return this._requests.push(dt),dt.promise}cancel(dt){this._done=!0,this._headersReceivedCapability.reject(dt);for(const ut of this._requests)ut.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _t{constructor(dt,ut,at){this._manager=dt;const je={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=dt.url,this._requestId=dt.requestRange(ut,at,je),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var dt;(dt=this.onClosed)==null||dt.call(this,this)}_onDone(dt){const ut=dt.chunk;this._requests.length>0?this._requests.shift().resolve({value:ut,done:!1}):this._queuedChunk=ut,this._done=!0;for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(dt){this._storedError=(0,s.createResponseStatusError)(dt,this._url);for(const ut of this._requests)ut.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(dt){var ut;this.isStreamingSupported||(ut=this.onProgress)==null||ut.call(this,{loaded:dt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ut=this._queuedChunk;return this._queuedChunk=null,{value:ut,done:!1}}if(this._done)return{value:void 0,done:!0};const dt=new n.PromiseCapability;return this._requests.push(dt),dt.promise}cancel(dt){this._done=!0;for(const ut of this._requests)ut.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var n=i(1),s=i(20);const g=/^file:\/\/\/[a-zA-Z]:\//;function ae(at){const je=require$$5,Je=je.parse(at);return Je.protocol==="file:"||Je.host?Je:/^[a-z]:[/\\]/i.test(at)?je.parse(`file:///${at}`):(Je.host||(Je.protocol="file:"),Je)}class At{constructor(je){this.source=je,this.url=ae(je.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&je.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var je;return((je=this._fullRequestReader)==null?void 0:je._loaded)??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new dt(this):new _t(this),this._fullRequestReader}getRangeReader(je,Je){if(Je<=this._progressiveDataLength)return null;const ht=this.isFsUrl?new ut(this,je,Je):new vt(this,je,Je);return this._rangeRequestReaders.push(ht),ht}cancelAllRequests(je){var Je;(Je=this._fullRequestReader)==null||Je.cancel(je);for(const ht of this._rangeRequestReaders.slice(0))ht.cancel(je)}}e.PDFNodeStream=At;class m{constructor(je){this._url=je.url,this._done=!1,this._storedError=null,this.onProgress=null;const Je=je.source;this._contentLength=Je.length,this._loaded=0,this._filename=null,this._disableRange=Je.disableRange||!1,this._rangeChunkSize=Je.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Je.disableStream,this._isRangeSupported=!Je.disableRange,this._readableStream=null,this._readCapability=new n.PromiseCapability,this._headersCapability=new n.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ht;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const je=this._readableStream.read();return je===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=je.length,(ht=this.onProgress)==null||ht.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(je).buffer,done:!1})}cancel(je){if(!this._readableStream){this._error(je);return}this._readableStream.destroy(je)}_error(je){this._storedError=je,this._readCapability.resolve()}_setReadableStream(je){this._readableStream=je,je.on("readable",()=>{this._readCapability.resolve()}),je.on("end",()=>{je.destroy(),this._done=!0,this._readCapability.resolve()}),je.on("error",Je=>{this._error(Je)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class S{constructor(je){this._url=je.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new n.PromiseCapability;const Je=je.source;this._isStreamingSupported=!Je.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ht;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const je=this._readableStream.read();return je===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=je.length,(ht=this.onProgress)==null||ht.call(this,{loaded:this._loaded}),{value:new Uint8Array(je).buffer,done:!1})}cancel(je){if(!this._readableStream){this._error(je);return}this._readableStream.destroy(je)}_error(je){this._storedError=je,this._readCapability.resolve()}_setReadableStream(je){this._readableStream=je,je.on("readable",()=>{this._readCapability.resolve()}),je.on("end",()=>{je.destroy(),this._done=!0,this._readCapability.resolve()}),je.on("error",Je=>{this._error(Je)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function b(at,je){return{protocol:at.protocol,auth:at.auth,host:at.hostname,port:at.port,path:at.path,method:"GET",headers:je}}class _t extends m{constructor(je){super(je);const Je=ht=>{if(ht.statusCode===404){const w=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=w,this._headersCapability.reject(w);return}this._headersCapability.resolve(),this._setReadableStream(ht);const bt=w=>this._readableStream.headers[w.toLowerCase()],{allowRangeRequests:ft,suggestedLength:p}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:bt,isHttp:je.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ft,this._contentLength=p||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(bt)};if(this._request=null,this._url.protocol==="http:"){const ht=require$$5;this._request=ht.request(b(this._url,je.httpHeaders),Je)}else{const ht=require$$5;this._request=ht.request(b(this._url,je.httpHeaders),Je)}this._request.on("error",ht=>{this._storedError=ht,this._headersCapability.reject(ht)}),this._request.end()}}class vt extends S{constructor(je,Je,ht){super(je),this._httpHeaders={};for(const ft in je.httpHeaders){const p=je.httpHeaders[ft];p!==void 0&&(this._httpHeaders[ft]=p)}this._httpHeaders.Range=`bytes=${Je}-${ht-1}`;const bt=ft=>{if(ft.statusCode===404){const p=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=p;return}this._setReadableStream(ft)};if(this._request=null,this._url.protocol==="http:"){const ft=require$$5;this._request=ft.request(b(this._url,this._httpHeaders),bt)}else{const ft=require$$5;this._request=ft.request(b(this._url,this._httpHeaders),bt)}this._request.on("error",ft=>{this._storedError=ft}),this._request.end()}}class dt extends m{constructor(je){super(je);let Je=decodeURIComponent(this._url.path);g.test(this._url.href)&&(Je=Je.replace(/^\//,""));const ht=require$$5;ht.lstat(Je,(bt,ft)=>{if(bt){bt.code==="ENOENT"&&(bt=new n.MissingPDFException(`Missing PDF "${Je}".`)),this._storedError=bt,this._headersCapability.reject(bt);return}this._contentLength=ft.size,this._setReadableStream(ht.createReadStream(Je)),this._headersCapability.resolve()})}}class ut extends S{constructor(je,Je,ht){super(je);let bt=decodeURIComponent(this._url.path);g.test(this._url.href)&&(bt=bt.replace(/^\//,""));const ft=require$$5;this._setReadableStream(ft.createReadStream(bt,{start:Je,end:ht-1}))}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var n=i(6),s=i(1);const g={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},ae="http://www.w3.org/XML/1998/namespace",At="http://www.w3.org/1999/xlink",m=["butt","round","square"],S=["miter","round","bevel"],b=function(ft,p="",w=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!w)return URL.createObjectURL(new Blob([ft],{type:p}));const mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let d=`data:${p};base64,`;for(let a=0,Ue=ft.length;a<Ue;a+=3){const xe=ft[a]&255,St=ft[a+1]&255,Pt=ft[a+2]&255,gt=xe>>2,Ot=(xe&3)<<4|St>>4,It=a+1<Ue?(St&15)<<2|Pt>>6:64,Ft=a+2<Ue?Pt&63:64;d+=mt[gt]+mt[Ot]+mt[It]+mt[Ft]}return d},_t=function(){const ft=new Uint8Array([137,80,78,71,13,10,26,10]),p=12,w=new Int32Array(256);for(let Pt=0;Pt<256;Pt++){let gt=Pt;for(let Ot=0;Ot<8;Ot++)gt=gt&1?3988292384^gt>>1&2147483647:gt>>1&2147483647;w[Pt]=gt}function mt(Pt,gt,Ot){let It=-1;for(let Ft=gt;Ft<Ot;Ft++){const Rt=(It^Pt[Ft])&255,Lt=w[Rt];It=It>>>8^Lt}return It^-1}function d(Pt,gt,Ot,It){let Ft=It;const Rt=gt.length;Ot[Ft]=Rt>>24&255,Ot[Ft+1]=Rt>>16&255,Ot[Ft+2]=Rt>>8&255,Ot[Ft+3]=Rt&255,Ft+=4,Ot[Ft]=Pt.charCodeAt(0)&255,Ot[Ft+1]=Pt.charCodeAt(1)&255,Ot[Ft+2]=Pt.charCodeAt(2)&255,Ot[Ft+3]=Pt.charCodeAt(3)&255,Ft+=4,Ot.set(gt,Ft),Ft+=gt.length;const Lt=mt(Ot,It+4,Ft);Ot[Ft]=Lt>>24&255,Ot[Ft+1]=Lt>>16&255,Ot[Ft+2]=Lt>>8&255,Ot[Ft+3]=Lt&255}function a(Pt,gt,Ot){let It=1,Ft=0;for(let Rt=gt;Rt<Ot;++Rt)It=(It+(Pt[Rt]&255))%65521,Ft=(Ft+It)%65521;return Ft<<16|It}function Ue(Pt){if(!s.isNodeJS)return xe(Pt);try{const gt=parseInt(process.versions.node)>=8?Pt:Buffer.from(Pt),Ot=require$$5.deflateSync(gt,{level:9});return Ot instanceof Uint8Array?Ot:new Uint8Array(Ot)}catch(gt){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+gt)}return xe(Pt)}function xe(Pt){let gt=Pt.length;const Ot=65535,It=Math.ceil(gt/Ot),Ft=new Uint8Array(2+gt+It*5+4);let Rt=0;Ft[Rt++]=120,Ft[Rt++]=156;let Lt=0;for(;gt>Ot;)Ft[Rt++]=0,Ft[Rt++]=255,Ft[Rt++]=255,Ft[Rt++]=0,Ft[Rt++]=0,Ft.set(Pt.subarray(Lt,Lt+Ot),Rt),Rt+=Ot,Lt+=Ot,gt-=Ot;Ft[Rt++]=1,Ft[Rt++]=gt&255,Ft[Rt++]=gt>>8&255,Ft[Rt++]=~gt&65535&255,Ft[Rt++]=(~gt&65535)>>8&255,Ft.set(Pt.subarray(Lt),Rt),Rt+=Pt.length-Lt;const tn=a(Pt,0,Pt.length);return Ft[Rt++]=tn>>24&255,Ft[Rt++]=tn>>16&255,Ft[Rt++]=tn>>8&255,Ft[Rt++]=tn&255,Ft}function St(Pt,gt,Ot,It){const Ft=Pt.width,Rt=Pt.height;let Lt,tn,rn;const Kt=Pt.data;switch(gt){case s.ImageKind.GRAYSCALE_1BPP:tn=0,Lt=1,rn=Ft+7>>3;break;case s.ImageKind.RGB_24BPP:tn=2,Lt=8,rn=Ft*3;break;case s.ImageKind.RGBA_32BPP:tn=6,Lt=8,rn=Ft*4;break;default:throw new Error("invalid format")}const yt=new Uint8Array((1+rn)*Rt);let l=0,h=0;for(let wt=0;wt<Rt;++wt)yt[l++]=0,yt.set(Kt.subarray(h,h+rn),l),h+=rn,l+=rn;if(gt===s.ImageKind.GRAYSCALE_1BPP&&It){l=0;for(let wt=0;wt<Rt;wt++){l++;for(let Ut=0;Ut<rn;Ut++)yt[l++]^=255}}const c=new Uint8Array([Ft>>24&255,Ft>>16&255,Ft>>8&255,Ft&255,Rt>>24&255,Rt>>16&255,Rt>>8&255,Rt&255,Lt,tn,0,0,0]),ie=Ue(yt),Fe=ft.length+p*3+c.length+ie.length,lt=new Uint8Array(Fe);let xt=0;return lt.set(ft,xt),xt+=ft.length,d("IHDR",c,lt,xt),xt+=p+c.length,d("IDATA",ie,lt,xt),xt+=p+ie.length,d("IEND",new Uint8Array(0),lt,xt),b(lt,"image/png",Ot)}return function(gt,Ot,It){const Ft=gt.kind===void 0?s.ImageKind.GRAYSCALE_1BPP:gt.kind;return St(gt,Ft,Ot,It)}}();class vt{constructor(){this.fontSizeScale=1,this.fontWeight=g.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=g.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(p,w){this.x=p,this.y=w}}function dt(ft){let p=[];const w=[];for(const mt of ft){if(mt.fn==="save"){p.push({fnId:92,fn:"group",items:[]}),w.push(p),p=p.at(-1).items;continue}mt.fn==="restore"?p=w.pop():p.push(mt)}return p}function ut(ft){if(Number.isInteger(ft))return ft.toString();const p=ft.toFixed(10);let w=p.length-1;if(p[w]!=="0")return p;do w--;while(p[w]==="0");return p.substring(0,p[w]==="."?w:w+1)}function at(ft){if(ft[4]===0&&ft[5]===0){if(ft[1]===0&&ft[2]===0)return ft[0]===1&&ft[3]===1?"":`scale(${ut(ft[0])} ${ut(ft[3])})`;if(ft[0]===ft[3]&&ft[1]===-ft[2]){const p=Math.acos(ft[0])*180/Math.PI;return`rotate(${ut(p)})`}}else if(ft[0]===1&&ft[1]===0&&ft[2]===0&&ft[3]===1)return`translate(${ut(ft[4])} ${ut(ft[5])})`;return`matrix(${ut(ft[0])} ${ut(ft[1])} ${ut(ft[2])} ${ut(ft[3])} ${ut(ft[4])} ${ut(ft[5])})`}let je=0,Je=0,ht=0;class bt{constructor(p,w,mt=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new vt,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=p,this.objs=w,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!mt,this._operatorIdMapping=[];for(const d in s.OPS)this._operatorIdMapping[s.OPS[d]]=d}getObject(p,w=null){return typeof p=="string"?p.startsWith("g_")?this.commonObjs.get(p):this.objs.get(p):w}save(){this.transformStack.push(this.transformMatrix);const p=this.current;this.extraStack.push(p),this.current=p.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(p){this.save(),this.executeOpTree(p),this.restore()}loadDependencies(p){const w=p.fnArray,mt=p.argsArray;for(let d=0,a=w.length;d<a;d++)if(w[d]===s.OPS.dependency)for(const Ue of mt[d]){const xe=Ue.startsWith("g_")?this.commonObjs:this.objs,St=new Promise(Pt=>{xe.get(Ue,Pt)});this.current.dependencies.push(St)}return Promise.all(this.current.dependencies)}transform(p,w,mt,d,a,Ue){const xe=[p,w,mt,d,a,Ue];this.transformMatrix=s.Util.transform(this.transformMatrix,xe),this.tgrp=null}getSVG(p,w){this.viewport=w;const mt=this._initialize(w);return this.loadDependencies(p).then(()=>(this.transformMatrix=s.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(p)),mt))}convertOpList(p){const w=this._operatorIdMapping,mt=p.argsArray,d=p.fnArray,a=[];for(let Ue=0,xe=d.length;Ue<xe;Ue++){const St=d[Ue];a.push({fnId:St,fn:w[St],args:mt[Ue]})}return dt(a)}executeOpTree(p){for(const w of p){const mt=w.fn,d=w.fnId,a=w.args;switch(d|0){case s.OPS.beginText:this.beginText();break;case s.OPS.dependency:break;case s.OPS.setLeading:this.setLeading(a);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(a[0],a[1]);break;case s.OPS.setFont:this.setFont(a);break;case s.OPS.showText:this.showText(a[0]);break;case s.OPS.showSpacedText:this.showText(a[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(a[0],a[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(a[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(a[0]);break;case s.OPS.setHScale:this.setHScale(a[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(a[0],a[1],a[2],a[3],a[4],a[5]);break;case s.OPS.setTextRise:this.setTextRise(a[0]);break;case s.OPS.setTextRenderingMode:this.setTextRenderingMode(a[0]);break;case s.OPS.setLineWidth:this.setLineWidth(a[0]);break;case s.OPS.setLineJoin:this.setLineJoin(a[0]);break;case s.OPS.setLineCap:this.setLineCap(a[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(a[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(a[0],a[1],a[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(a[0],a[1],a[2]);break;case s.OPS.setStrokeColorN:this.setStrokeColorN(a);break;case s.OPS.setFillColorN:this.setFillColorN(a);break;case s.OPS.shadingFill:this.shadingFill(a[0]);break;case s.OPS.setDash:this.setDash(a[0],a[1]);break;case s.OPS.setRenderingIntent:this.setRenderingIntent(a[0]);break;case s.OPS.setFlatness:this.setFlatness(a[0]);break;case s.OPS.setGState:this.setGState(a[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintImageXObject:this.paintImageXObject(a[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(a[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(a[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(a[0],a[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(a[0],a[1],a[2],a[3],a[4],a[5]);break;case s.OPS.constructPath:this.constructPath(a[0],a[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(w.items);break;default:(0,s.warn)(`Unimplemented operator ${mt}`);break}}}setWordSpacing(p){this.current.wordSpacing=p}setCharSpacing(p){this.current.charSpacing=p}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(p,w,mt,d,a,Ue){const xe=this.current;xe.textMatrix=xe.lineMatrix=[p,w,mt,d,a,Ue],xe.textMatrixScale=Math.hypot(p,w),xe.x=xe.lineX=0,xe.y=xe.lineY=0,xe.xcoords=[],xe.ycoords=[],xe.tspan=this.svgFactory.createElement("svg:tspan"),xe.tspan.setAttributeNS(null,"font-family",xe.fontFamily),xe.tspan.setAttributeNS(null,"font-size",`${ut(xe.fontSize)}px`),xe.tspan.setAttributeNS(null,"y",ut(-xe.y)),xe.txtElement=this.svgFactory.createElement("svg:text"),xe.txtElement.append(xe.tspan)}beginText(){const p=this.current;p.x=p.lineX=0,p.y=p.lineY=0,p.textMatrix=s.IDENTITY_MATRIX,p.lineMatrix=s.IDENTITY_MATRIX,p.textMatrixScale=1,p.tspan=this.svgFactory.createElement("svg:tspan"),p.txtElement=this.svgFactory.createElement("svg:text"),p.txtgrp=this.svgFactory.createElement("svg:g"),p.xcoords=[],p.ycoords=[]}moveText(p,w){const mt=this.current;mt.x=mt.lineX+=p,mt.y=mt.lineY+=w,mt.xcoords=[],mt.ycoords=[],mt.tspan=this.svgFactory.createElement("svg:tspan"),mt.tspan.setAttributeNS(null,"font-family",mt.fontFamily),mt.tspan.setAttributeNS(null,"font-size",`${ut(mt.fontSize)}px`),mt.tspan.setAttributeNS(null,"y",ut(-mt.y))}showText(p){const w=this.current,mt=w.font,d=w.fontSize;if(d===0)return;const a=w.fontSizeScale,Ue=w.charSpacing,xe=w.wordSpacing,St=w.fontDirection,Pt=w.textHScale*St,gt=mt.vertical,Ot=gt?1:-1,It=mt.defaultVMetrics,Ft=d*w.fontMatrix[0];let Rt=0;for(const rn of p){if(rn===null){Rt+=St*xe;continue}else if(typeof rn=="number"){Rt+=Ot*rn*d/1e3;continue}const Kt=(rn.isSpace?xe:0)+Ue,yt=rn.fontChar;let l,h,c=rn.width;if(gt){let Fe;const lt=rn.vmetric||It;Fe=rn.vmetric?lt[1]:c*.5,Fe=-Fe*Ft;const xt=lt[2]*Ft;c=lt?-lt[0]:c,l=Fe/a,h=(Rt+xt)/a}else l=Rt/a,h=0;(rn.isInFont||mt.missingFile)&&(w.xcoords.push(w.x+l),gt&&w.ycoords.push(-w.y+h),w.tspan.textContent+=yt);const ie=gt?c*Ft-Kt*St:c*Ft+Kt*St;Rt+=ie}w.tspan.setAttributeNS(null,"x",w.xcoords.map(ut).join(" ")),gt?w.tspan.setAttributeNS(null,"y",w.ycoords.map(ut).join(" ")):w.tspan.setAttributeNS(null,"y",ut(-w.y)),gt?w.y-=Rt:w.x+=Rt*Pt,w.tspan.setAttributeNS(null,"font-family",w.fontFamily),w.tspan.setAttributeNS(null,"font-size",`${ut(w.fontSize)}px`),w.fontStyle!==g.fontStyle&&w.tspan.setAttributeNS(null,"font-style",w.fontStyle),w.fontWeight!==g.fontWeight&&w.tspan.setAttributeNS(null,"font-weight",w.fontWeight);const Lt=w.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;if(Lt===s.TextRenderingMode.FILL||Lt===s.TextRenderingMode.FILL_STROKE?(w.fillColor!==g.fillColor&&w.tspan.setAttributeNS(null,"fill",w.fillColor),w.fillAlpha<1&&w.tspan.setAttributeNS(null,"fill-opacity",w.fillAlpha)):w.textRenderingMode===s.TextRenderingMode.ADD_TO_PATH?w.tspan.setAttributeNS(null,"fill","transparent"):w.tspan.setAttributeNS(null,"fill","none"),Lt===s.TextRenderingMode.STROKE||Lt===s.TextRenderingMode.FILL_STROKE){const rn=1/(w.textMatrixScale||1);this._setStrokeAttributes(w.tspan,rn)}let tn=w.textMatrix;w.textRise!==0&&(tn=tn.slice(),tn[5]+=w.textRise),w.txtElement.setAttributeNS(null,"transform",`${at(tn)} scale(${ut(Pt)}, -1)`),w.txtElement.setAttributeNS(ae,"xml:space","preserve"),w.txtElement.append(w.tspan),w.txtgrp.append(w.txtElement),this._ensureTransformGroup().append(w.txtElement)}setLeadingMoveText(p,w){this.setLeading(-w),this.moveText(p,w)}addFontStyle(p){if(!p.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const w=b(p.data,p.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${p.loadedName}"; src: url(${w}); }
`}setFont(p){const w=this.current,mt=this.commonObjs.get(p[0]);let d=p[1];w.font=mt,this.embedFonts&&!mt.missingFile&&!this.embeddedFonts[mt.loadedName]&&(this.addFontStyle(mt),this.embeddedFonts[mt.loadedName]=mt),w.fontMatrix=mt.fontMatrix||s.FONT_IDENTITY_MATRIX;let a="normal";mt.black?a="900":mt.bold&&(a="bold");const Ue=mt.italic?"italic":"normal";d<0?(d=-d,w.fontDirection=-1):w.fontDirection=1,w.fontSize=d,w.fontFamily=mt.loadedName,w.fontWeight=a,w.fontStyle=Ue,w.tspan=this.svgFactory.createElement("svg:tspan"),w.tspan.setAttributeNS(null,"y",ut(-w.y)),w.xcoords=[],w.ycoords=[]}endText(){var w;const p=this.current;p.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG&&((w=p.txtElement)!=null&&w.hasChildNodes())&&(p.element=p.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(p){p>0&&(this.current.lineWidth=p)}setLineCap(p){this.current.lineCap=m[p]}setLineJoin(p){this.current.lineJoin=S[p]}setMiterLimit(p){this.current.miterLimit=p}setStrokeAlpha(p){this.current.strokeAlpha=p}setStrokeRGBColor(p,w,mt){this.current.strokeColor=s.Util.makeHexColor(p,w,mt)}setFillAlpha(p){this.current.fillAlpha=p}setFillRGBColor(p,w,mt){this.current.fillColor=s.Util.makeHexColor(p,w,mt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(p){this.current.strokeColor=this._makeColorN_Pattern(p)}setFillColorN(p){this.current.fillColor=this._makeColorN_Pattern(p)}shadingFill(p){const{width:w,height:mt}=this.viewport,d=s.Util.inverseTransform(this.transformMatrix),[a,Ue,xe,St]=s.Util.getAxialAlignedBoundingBox([0,0,w,mt],d),Pt=this.svgFactory.createElement("svg:rect");Pt.setAttributeNS(null,"x",a),Pt.setAttributeNS(null,"y",Ue),Pt.setAttributeNS(null,"width",xe-a),Pt.setAttributeNS(null,"height",St-Ue),Pt.setAttributeNS(null,"fill",this._makeShadingPattern(p)),this.current.fillAlpha<1&&Pt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Pt)}_makeColorN_Pattern(p){return p[0]==="TilingPattern"?this._makeTilingPattern(p):this._makeShadingPattern(p)}_makeTilingPattern(p){const w=p[1],mt=p[2],d=p[3]||s.IDENTITY_MATRIX,[a,Ue,xe,St]=p[4],Pt=p[5],gt=p[6],Ot=p[7],It=`shading${ht++}`,[Ft,Rt,Lt,tn]=s.Util.normalizeRect([...s.Util.applyTransform([a,Ue],d),...s.Util.applyTransform([xe,St],d)]),[rn,Kt]=s.Util.singularValueDecompose2dScale(d),yt=Pt*rn,l=gt*Kt,h=this.svgFactory.createElement("svg:pattern");h.setAttributeNS(null,"id",It),h.setAttributeNS(null,"patternUnits","userSpaceOnUse"),h.setAttributeNS(null,"width",yt),h.setAttributeNS(null,"height",l),h.setAttributeNS(null,"x",`${Ft}`),h.setAttributeNS(null,"y",`${Rt}`);const c=this.svg,ie=this.transformMatrix,Fe=this.current.fillColor,lt=this.current.strokeColor,xt=this.svgFactory.create(Lt-Ft,tn-Rt);if(this.svg=xt,this.transformMatrix=d,Ot===2){const wt=s.Util.makeHexColor(...w);this.current.fillColor=wt,this.current.strokeColor=wt}return this.executeOpTree(this.convertOpList(mt)),this.svg=c,this.transformMatrix=ie,this.current.fillColor=Fe,this.current.strokeColor=lt,h.append(xt.childNodes[0]),this.defs.append(h),`url(#${It})`}_makeShadingPattern(p){switch(typeof p=="string"&&(p=this.objs.get(p)),p[0]){case"RadialAxial":const w=`shading${ht++}`,mt=p[3];let d;switch(p[1]){case"axial":const a=p[4],Ue=p[5];d=this.svgFactory.createElement("svg:linearGradient"),d.setAttributeNS(null,"id",w),d.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),d.setAttributeNS(null,"x1",a[0]),d.setAttributeNS(null,"y1",a[1]),d.setAttributeNS(null,"x2",Ue[0]),d.setAttributeNS(null,"y2",Ue[1]);break;case"radial":const xe=p[4],St=p[5],Pt=p[6],gt=p[7];d=this.svgFactory.createElement("svg:radialGradient"),d.setAttributeNS(null,"id",w),d.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),d.setAttributeNS(null,"cx",St[0]),d.setAttributeNS(null,"cy",St[1]),d.setAttributeNS(null,"r",gt),d.setAttributeNS(null,"fx",xe[0]),d.setAttributeNS(null,"fy",xe[1]),d.setAttributeNS(null,"fr",Pt);break;default:throw new Error(`Unknown RadialAxial type: ${p[1]}`)}for(const a of mt){const Ue=this.svgFactory.createElement("svg:stop");Ue.setAttributeNS(null,"offset",a[0]),Ue.setAttributeNS(null,"stop-color",a[1]),d.append(Ue)}return this.defs.append(d),`url(#${w})`;case"Mesh":return(0,s.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${p[0]}`)}}setDash(p,w){this.current.dashArray=p,this.current.dashPhase=w}constructPath(p,w){const mt=this.current;let d=mt.x,a=mt.y,Ue=[],xe=0;for(const St of p)switch(St|0){case s.OPS.rectangle:d=w[xe++],a=w[xe++];const Pt=w[xe++],gt=w[xe++],Ot=d+Pt,It=a+gt;Ue.push("M",ut(d),ut(a),"L",ut(Ot),ut(a),"L",ut(Ot),ut(It),"L",ut(d),ut(It),"Z");break;case s.OPS.moveTo:d=w[xe++],a=w[xe++],Ue.push("M",ut(d),ut(a));break;case s.OPS.lineTo:d=w[xe++],a=w[xe++],Ue.push("L",ut(d),ut(a));break;case s.OPS.curveTo:d=w[xe+4],a=w[xe+5],Ue.push("C",ut(w[xe]),ut(w[xe+1]),ut(w[xe+2]),ut(w[xe+3]),ut(d),ut(a)),xe+=6;break;case s.OPS.curveTo2:Ue.push("C",ut(d),ut(a),ut(w[xe]),ut(w[xe+1]),ut(w[xe+2]),ut(w[xe+3])),d=w[xe+2],a=w[xe+3],xe+=4;break;case s.OPS.curveTo3:d=w[xe+2],a=w[xe+3],Ue.push("C",ut(w[xe]),ut(w[xe+1]),ut(d),ut(a),ut(d),ut(a)),xe+=4;break;case s.OPS.closePath:Ue.push("Z");break}Ue=Ue.join(" "),mt.path&&p.length>0&&p[0]!==s.OPS.rectangle&&p[0]!==s.OPS.moveTo?Ue=mt.path.getAttributeNS(null,"d")+Ue:(mt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(mt.path)),mt.path.setAttributeNS(null,"d",Ue),mt.path.setAttributeNS(null,"fill","none"),mt.element=mt.path,mt.setCurrentPoint(d,a)}endPath(){const p=this.current;if(p.path=null,!this.pendingClip)return;if(!p.element){this.pendingClip=null;return}const w=`clippath${je++}`,mt=this.svgFactory.createElement("svg:clipPath");mt.setAttributeNS(null,"id",w),mt.setAttributeNS(null,"transform",at(this.transformMatrix));const d=p.element.cloneNode(!0);if(this.pendingClip==="evenodd"?d.setAttributeNS(null,"clip-rule","evenodd"):d.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,mt.append(d),this.defs.append(mt),p.activeClipUrl){p.clipGroup=null;for(const a of this.extraStack)a.clipGroup=null;mt.setAttributeNS(null,"clip-path",p.activeClipUrl)}p.activeClipUrl=`url(#${w})`,this.tgrp=null}clip(p){this.pendingClip=p}closePath(){const p=this.current;if(p.path){const w=`${p.path.getAttributeNS(null,"d")}Z`;p.path.setAttributeNS(null,"d",w)}}setLeading(p){this.current.leading=-p}setTextRise(p){this.current.textRise=p}setTextRenderingMode(p){this.current.textRenderingMode=p}setHScale(p){this.current.textHScale=p/100}setRenderingIntent(p){}setFlatness(p){}setGState(p){for(const[w,mt]of p)switch(w){case"LW":this.setLineWidth(mt);break;case"LC":this.setLineCap(mt);break;case"LJ":this.setLineJoin(mt);break;case"ML":this.setMiterLimit(mt);break;case"D":this.setDash(mt[0],mt[1]);break;case"RI":this.setRenderingIntent(mt);break;case"FL":this.setFlatness(mt);break;case"Font":this.setFont(mt);break;case"CA":this.setStrokeAlpha(mt);break;case"ca":this.setFillAlpha(mt);break;default:(0,s.warn)(`Unimplemented graphic state operator ${w}`);break}}fill(){const p=this.current;p.element&&(p.element.setAttributeNS(null,"fill",p.fillColor),p.element.setAttributeNS(null,"fill-opacity",p.fillAlpha),this.endPath())}stroke(){const p=this.current;p.element&&(this._setStrokeAttributes(p.element),p.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(p,w=1){const mt=this.current;let d=mt.dashArray;w!==1&&d.length>0&&(d=d.map(function(a){return w*a})),p.setAttributeNS(null,"stroke",mt.strokeColor),p.setAttributeNS(null,"stroke-opacity",mt.strokeAlpha),p.setAttributeNS(null,"stroke-miterlimit",ut(mt.miterLimit)),p.setAttributeNS(null,"stroke-linecap",mt.lineCap),p.setAttributeNS(null,"stroke-linejoin",mt.lineJoin),p.setAttributeNS(null,"stroke-width",ut(w*mt.lineWidth)+"px"),p.setAttributeNS(null,"stroke-dasharray",d.map(ut).join(" ")),p.setAttributeNS(null,"stroke-dashoffset",ut(w*mt.dashPhase)+"px")}eoFill(){var p;(p=this.current.element)==null||p.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var p;(p=this.current.element)==null||p.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y","0"),p.setAttributeNS(null,"width","1px"),p.setAttributeNS(null,"height","1px"),p.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(p)}paintImageXObject(p){const w=this.getObject(p);if(!w){(0,s.warn)(`Dependent image with object ID ${p} is not ready yet`);return}this.paintInlineImageXObject(w)}paintInlineImageXObject(p,w){const mt=p.width,d=p.height,a=_t(p,this.forceDataSchema,!!w),Ue=this.svgFactory.createElement("svg:rect");Ue.setAttributeNS(null,"x","0"),Ue.setAttributeNS(null,"y","0"),Ue.setAttributeNS(null,"width",ut(mt)),Ue.setAttributeNS(null,"height",ut(d)),this.current.element=Ue,this.clip("nonzero");const xe=this.svgFactory.createElement("svg:image");xe.setAttributeNS(At,"xlink:href",a),xe.setAttributeNS(null,"x","0"),xe.setAttributeNS(null,"y",ut(-d)),xe.setAttributeNS(null,"width",ut(mt)+"px"),xe.setAttributeNS(null,"height",ut(d)+"px"),xe.setAttributeNS(null,"transform",`scale(${ut(1/mt)} ${ut(-1/d)})`),w?w.append(xe):this._ensureTransformGroup().append(xe)}paintImageMaskXObject(p){const w=this.getObject(p.data,p);if(w.bitmap){(0,s.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const mt=this.current,d=w.width,a=w.height,Ue=mt.fillColor;mt.maskId=`mask${Je++}`;const xe=this.svgFactory.createElement("svg:mask");xe.setAttributeNS(null,"id",mt.maskId);const St=this.svgFactory.createElement("svg:rect");St.setAttributeNS(null,"x","0"),St.setAttributeNS(null,"y","0"),St.setAttributeNS(null,"width",ut(d)),St.setAttributeNS(null,"height",ut(a)),St.setAttributeNS(null,"fill",Ue),St.setAttributeNS(null,"mask",`url(#${mt.maskId})`),this.defs.append(xe),this._ensureTransformGroup().append(St),this.paintInlineImageXObject(w,xe)}paintFormXObjectBegin(p,w){if(Array.isArray(p)&&p.length===6&&this.transform(p[0],p[1],p[2],p[3],p[4],p[5]),w){const mt=w[2]-w[0],d=w[3]-w[1],a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x",w[0]),a.setAttributeNS(null,"y",w[1]),a.setAttributeNS(null,"width",ut(mt)),a.setAttributeNS(null,"height",ut(d)),this.current.element=a,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(p){const w=this.svgFactory.create(p.width,p.height),mt=this.svgFactory.createElement("svg:defs");w.append(mt),this.defs=mt;const d=this.svgFactory.createElement("svg:g");return d.setAttributeNS(null,"transform",at(p.transform)),w.append(d),this.svg=d,w}_ensureClipGroup(){if(!this.current.clipGroup){const p=this.svgFactory.createElement("svg:g");p.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(p),this.current.clipGroup=p}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",at(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=bt},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class i{static textContent(s){const g=[],ae={items:g,styles:Object.create(null)};function At(m){var _t;if(!m)return;let S=null;const b=m.name;if(b==="#text")S=m.value;else if(i.shouldBuildText(b))(_t=m==null?void 0:m.attributes)!=null&&_t.textContent?S=m.attributes.textContent:m.value&&(S=m.value);else return;if(S!==null&&g.push({str:S}),!!m.children)for(const vt of m.children)At(vt)}return At(s),ae}static shouldBuildText(s){return!(s==="textarea"||s==="input"||s==="option"||s==="select")}}e.XfaText=i},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=at,e.updateTextLayer=je;var n=i(1),s=i(6);const g=1e5,ae=30,At=.8,m=new Map;function S(Je,ht){let bt;if(ht&&n.FeatureTest.isOffscreenCanvasSupported)bt=new OffscreenCanvas(Je,Je).getContext("2d",{alpha:!1});else{const ft=document.createElement("canvas");ft.width=ft.height=Je,bt=ft.getContext("2d",{alpha:!1})}return bt}function b(Je,ht){const bt=m.get(Je);if(bt)return bt;const ft=S(ae,ht);ft.font=`${ae}px ${Je}`;const p=ft.measureText("");let w=p.fontBoundingBoxAscent,mt=Math.abs(p.fontBoundingBoxDescent);if(w){const a=w/(w+mt);return m.set(Je,a),ft.canvas.width=ft.canvas.height=0,a}ft.strokeStyle="red",ft.clearRect(0,0,ae,ae),ft.strokeText("g",0,0);let d=ft.getImageData(0,0,ae,ae).data;mt=0;for(let a=d.length-1-3;a>=0;a-=4)if(d[a]>0){mt=Math.ceil(a/4/ae);break}ft.clearRect(0,0,ae,ae),ft.strokeText("A",0,ae),d=ft.getImageData(0,0,ae,ae).data,w=0;for(let a=0,Ue=d.length;a<Ue;a+=4)if(d[a]>0){w=ae-Math.floor(a/4/ae);break}if(ft.canvas.width=ft.canvas.height=0,w){const a=w/(w+mt);return m.set(Je,a),a}return m.set(Je,At),At}function _t(Je,ht,bt){const ft=document.createElement("span"),p={angle:0,canvasWidth:0,hasText:ht.str!=="",hasEOL:ht.hasEOL,fontSize:0};Je._textDivs.push(ft);const w=n.Util.transform(Je._transform,ht.transform);let mt=Math.atan2(w[1],w[0]);const d=bt[ht.fontName];d.vertical&&(mt+=Math.PI/2);const a=Math.hypot(w[2],w[3]),Ue=a*b(d.fontFamily,Je._isOffscreenCanvasSupported);let xe,St;mt===0?(xe=w[4],St=w[5]-Ue):(xe=w[4]+Ue*Math.sin(mt),St=w[5]-Ue*Math.cos(mt));const Pt="calc(var(--scale-factor)*",gt=ft.style;Je._container===Je._rootContainer?(gt.left=`${(100*xe/Je._pageWidth).toFixed(2)}%`,gt.top=`${(100*St/Je._pageHeight).toFixed(2)}%`):(gt.left=`${Pt}${xe.toFixed(2)}px)`,gt.top=`${Pt}${St.toFixed(2)}px)`),gt.fontSize=`${Pt}${a.toFixed(2)}px)`,gt.fontFamily=d.fontFamily,p.fontSize=a,ft.setAttribute("role","presentation"),ft.textContent=ht.str,ft.dir=ht.dir,Je._fontInspectorEnabled&&(ft.dataset.fontName=ht.fontName),mt!==0&&(p.angle=mt*(180/Math.PI));let Ot=!1;if(ht.str.length>1)Ot=!0;else if(ht.str!==" "&&ht.transform[0]!==ht.transform[3]){const It=Math.abs(ht.transform[0]),Ft=Math.abs(ht.transform[3]);It!==Ft&&Math.max(It,Ft)/Math.min(It,Ft)>1.5&&(Ot=!0)}Ot&&(p.canvasWidth=d.vertical?ht.height:ht.width),Je._textDivProperties.set(ft,p),Je._isReadableStream&&Je._layoutText(ft)}function vt(Je){const{div:ht,scale:bt,properties:ft,ctx:p,prevFontSize:w,prevFontFamily:mt}=Je,{style:d}=ht;let a="";if(ft.canvasWidth!==0&&ft.hasText){const{fontFamily:Ue}=d,{canvasWidth:xe,fontSize:St}=ft;(w!==St||mt!==Ue)&&(p.font=`${St*bt}px ${Ue}`,Je.prevFontSize=St,Je.prevFontFamily=Ue);const{width:Pt}=p.measureText(ht.textContent);Pt>0&&(a=`scaleX(${xe*bt/Pt})`)}ft.angle!==0&&(a=`rotate(${ft.angle}deg) ${a}`),a.length>0&&(d.transform=a)}function dt(Je){if(Je._canceled)return;const ht=Je._textDivs,bt=Je._capability;if(ht.length>g){bt.resolve();return}if(!Je._isReadableStream)for(const p of ht)Je._layoutText(p);bt.resolve()}class ut{constructor({textContentSource:ht,container:bt,viewport:ft,textDivs:p,textDivProperties:w,textContentItemsStr:mt,isOffscreenCanvasSupported:d}){var Pt;this._textContentSource=ht,this._isReadableStream=ht instanceof ReadableStream,this._container=this._rootContainer=bt,this._textDivs=p||[],this._textContentItemsStr=mt||[],this._isOffscreenCanvasSupported=d,this._fontInspectorEnabled=!!((Pt=globalThis.FontInspector)!=null&&Pt.enabled),this._reader=null,this._textDivProperties=w||new WeakMap,this._canceled=!1,this._capability=new n.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ft.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:S(0,d)};const{pageWidth:a,pageHeight:Ue,pageX:xe,pageY:St}=ft.rawDims;this._transform=[1,0,0,-1,-xe,St+Ue],this._pageWidth=a,this._pageHeight=Ue,(0,s.setLayerDimensions)(bt,ft),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new n.AbortException("TextLayer task cancelled."))}_processItems(ht,bt){for(const ft of ht){if(ft.str===void 0){if(ft.type==="beginMarkedContentProps"||ft.type==="beginMarkedContent"){const p=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ft.id!==null&&this._container.setAttribute("id",`${ft.id}`),p.append(this._container)}else ft.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ft.str),_t(this,ft,bt)}}_layoutText(ht){const bt=this._layoutTextParams.properties=this._textDivProperties.get(ht);if(this._layoutTextParams.div=ht,vt(this._layoutTextParams),bt.hasText&&this._container.append(ht),bt.hasEOL){const ft=document.createElement("br");ft.setAttribute("role","presentation"),this._container.append(ft)}}_render(){const ht=new n.PromiseCapability;let bt=Object.create(null);if(this._isReadableStream){const ft=()=>{this._reader.read().then(({value:p,done:w})=>{if(w){ht.resolve();return}Object.assign(bt,p.styles),this._processItems(p.items,bt),ft()},ht.reject)};this._reader=this._textContentSource.getReader(),ft()}else if(this._textContentSource){const{items:ft,styles:p}=this._textContentSource;this._processItems(ft,p),ht.resolve()}else throw new Error('No "textContentSource" parameter specified.');ht.promise.then(()=>{bt=null,dt(this)},this._capability.reject)}}e.TextLayerRenderTask=ut;function at(Je){!Je.textContentSource&&(Je.textContent||Je.textContentStream)&&((0,s.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Je.textContentSource=Je.textContent||Je.textContentStream);const{container:ht,viewport:bt}=Je,ft=getComputedStyle(ht),p=ft.getPropertyValue("visibility"),w=parseFloat(ft.getPropertyValue("--scale-factor"));p==="visible"&&(!w||Math.abs(w-bt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const mt=new ut(Je);return mt._render(),mt}function je({container:Je,viewport:ht,textDivs:bt,textDivProperties:ft,isOffscreenCanvasSupported:p,mustRotate:w=!0,mustRescale:mt=!0}){if(w&&(0,s.setLayerDimensions)(Je,{rotation:ht.rotation}),mt){const d=S(0,p),Ue={prevFontSize:null,prevFontFamily:null,div:null,scale:ht.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d};for(const xe of bt)Ue.properties=ft.get(xe),Ue.div=xe,vt(Ue)}}},(t,e,i)=>{var b,_t,vt,dt,ut,at,je,Je,ht,bt,ft,Hr,w,vr,d,Gr,Ue,Vr;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var n=i(1),s=i(4),g=i(28),ae=i(33),At=i(6),m=i(34);const St=class St{constructor({uiManager:gt,pageIndex:Ot,div:It,accessibilityManager:Ft,annotationLayer:Rt,viewport:Lt,l10n:tn}){kt(this,ft);kt(this,w);kt(this,d);kt(this,Ue);kt(this,b,void 0);kt(this,_t,!1);kt(this,vt,null);kt(this,dt,this.pointerup.bind(this));kt(this,ut,this.pointerdown.bind(this));kt(this,at,new Map);kt(this,je,!1);kt(this,Je,!1);kt(this,ht,!1);kt(this,bt,void 0);const rn=[g.FreeTextEditor,ae.InkEditor,m.StampEditor];if(!St._initialized){St._initialized=!0;for(const Kt of rn)Kt.initialize(tn)}gt.registerEditorTypes(rn),qt(this,bt,gt),this.pageIndex=Ot,this.div=It,qt(this,b,Ft),qt(this,vt,Rt),this.viewport=Lt,o(this,bt).addLayer(this)}get isEmpty(){return o(this,at).size===0}updateToolbar(gt){o(this,bt).updateToolbar(gt)}updateMode(gt=o(this,bt).getMode()){jt(this,Ue,Vr).call(this),gt===n.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),gt!==n.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",gt===n.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",gt===n.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",gt===n.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(gt){if(!gt&&o(this,bt).getMode()!==n.AnnotationEditorType.INK)return;if(!gt){for(const It of o(this,at).values())if(It.isEmpty()){It.setInBackground();return}}jt(this,w,vr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(gt){o(this,bt).setEditingState(gt)}addCommands(gt){o(this,bt).addCommands(gt)}enable(){this.div.style.pointerEvents="auto";const gt=new Set;for(const It of o(this,at).values())It.enableEditing(),It.annotationElementId&&gt.add(It.annotationElementId);if(!o(this,vt))return;const Ot=o(this,vt).getEditableAnnotations();for(const It of Ot){if(It.hide(),o(this,bt).isDeletedAnnotationElement(It.data.id)||gt.has(It.data.id))continue;const Ft=this.deserialize(It);Ft&&(this.addOrRebuild(Ft),Ft.enableEditing())}}disable(){var Ot;qt(this,ht,!0),this.div.style.pointerEvents="none";const gt=new Set;for(const It of o(this,at).values()){if(It.disableEditing(),!It.annotationElementId||It.serialize()!==null){gt.add(It.annotationElementId);continue}(Ot=this.getEditableAnnotation(It.annotationElementId))==null||Ot.show(),It.remove()}if(o(this,vt)){const It=o(this,vt).getEditableAnnotations();for(const Ft of It){const{id:Rt}=Ft.data;gt.has(Rt)||o(this,bt).isDeletedAnnotationElement(Rt)||Ft.show()}}jt(this,Ue,Vr).call(this),this.isEmpty&&(this.div.hidden=!0),qt(this,ht,!1)}getEditableAnnotation(gt){var Ot;return((Ot=o(this,vt))==null?void 0:Ot.getEditableAnnotation(gt))||null}setActiveEditor(gt){o(this,bt).getActive()!==gt&&o(this,bt).setActiveEditor(gt)}enableClick(){this.div.addEventListener("pointerdown",o(this,ut)),this.div.addEventListener("pointerup",o(this,dt))}disableClick(){this.div.removeEventListener("pointerdown",o(this,ut)),this.div.removeEventListener("pointerup",o(this,dt))}attach(gt){o(this,at).set(gt.id,gt);const{annotationElementId:Ot}=gt;Ot&&o(this,bt).isDeletedAnnotationElement(Ot)&&o(this,bt).removeDeletedAnnotationElement(gt)}detach(gt){var Ot;o(this,at).delete(gt.id),(Ot=o(this,b))==null||Ot.removePointerInTextLayer(gt.contentDiv),!o(this,ht)&&gt.annotationElementId&&o(this,bt).addDeletedAnnotationElement(gt)}remove(gt){this.detach(gt),o(this,bt).removeEditor(gt),gt.div.contains(document.activeElement)&&setTimeout(()=>{o(this,bt).focusMainContainer()},0),gt.div.remove(),gt.isAttachedToDOM=!1,o(this,Je)||this.addInkEditorIfNeeded(!1)}changeParent(gt){var Ot;gt.parent!==this&&(gt.annotationElementId&&(o(this,bt).addDeletedAnnotationElement(gt.annotationElementId),s.AnnotationEditor.deleteAnnotationElement(gt),gt.annotationElementId=null),this.attach(gt),(Ot=gt.parent)==null||Ot.detach(gt),gt.setParent(this),gt.div&&gt.isAttachedToDOM&&(gt.div.remove(),this.div.append(gt.div)))}add(gt){if(this.changeParent(gt),o(this,bt).addEditor(gt),this.attach(gt),!gt.isAttachedToDOM){const Ot=gt.render();this.div.append(Ot),gt.isAttachedToDOM=!0}gt.fixAndSetPosition(),gt.onceAdded(),o(this,bt).addToAnnotationStorage(gt)}moveEditorInDOM(gt){var It;if(!gt.isAttachedToDOM)return;const{activeElement:Ot}=document;gt.div.contains(Ot)&&(gt._focusEventsAllowed=!1,setTimeout(()=>{gt.div.contains(document.activeElement)?gt._focusEventsAllowed=!0:(gt.div.addEventListener("focusin",()=>{gt._focusEventsAllowed=!0},{once:!0}),Ot.focus())},0)),gt._structTreeParentId=(It=o(this,b))==null?void 0:It.moveElementInDOM(this.div,gt.div,gt.contentDiv,!0)}addOrRebuild(gt){gt.needsToBeRebuilt()?gt.rebuild():this.add(gt)}addUndoableEditor(gt){const Ot=()=>gt._uiManager.rebuild(gt),It=()=>{gt.remove()};this.addCommands({cmd:Ot,undo:It,mustExec:!1})}getNextId(){return o(this,bt).getId()}pasteEditor(gt,Ot){o(this,bt).updateToolbar(gt),o(this,bt).updateMode(gt);const{offsetX:It,offsetY:Ft}=jt(this,d,Gr).call(this),Rt=this.getNextId(),Lt=jt(this,ft,Hr).call(this,{parent:this,id:Rt,x:It,y:Ft,uiManager:o(this,bt),isCentered:!0,...Ot});Lt&&this.add(Lt)}deserialize(gt){switch(gt.annotationType??gt.annotationEditorType){case n.AnnotationEditorType.FREETEXT:return g.FreeTextEditor.deserialize(gt,this,o(this,bt));case n.AnnotationEditorType.INK:return ae.InkEditor.deserialize(gt,this,o(this,bt));case n.AnnotationEditorType.STAMP:return m.StampEditor.deserialize(gt,this,o(this,bt))}return null}addNewEditor(){jt(this,w,vr).call(this,jt(this,d,Gr).call(this),!0)}setSelected(gt){o(this,bt).setSelected(gt)}toggleSelected(gt){o(this,bt).toggleSelected(gt)}isSelected(gt){return o(this,bt).isSelected(gt)}unselect(gt){o(this,bt).unselect(gt)}pointerup(gt){const{isMac:Ot}=n.FeatureTest.platform;if(!(gt.button!==0||gt.ctrlKey&&Ot)&&gt.target===this.div&&o(this,je)){if(qt(this,je,!1),!o(this,_t)){qt(this,_t,!0);return}if(o(this,bt).getMode()===n.AnnotationEditorType.STAMP){o(this,bt).unselectAll();return}jt(this,w,vr).call(this,gt,!1)}}pointerdown(gt){if(o(this,je)){qt(this,je,!1);return}const{isMac:Ot}=n.FeatureTest.platform;if(gt.button!==0||gt.ctrlKey&&Ot||gt.target!==this.div)return;qt(this,je,!0);const It=o(this,bt).getActive();qt(this,_t,!It||It.isEmpty())}findNewParent(gt,Ot,It){const Ft=o(this,bt).findParent(Ot,It);return Ft===null||Ft===this?!1:(Ft.changeParent(gt),!0)}destroy(){var gt,Ot;((gt=o(this,bt).getActive())==null?void 0:gt.parent)===this&&(o(this,bt).commitOrRemove(),o(this,bt).setActiveEditor(null));for(const It of o(this,at).values())(Ot=o(this,b))==null||Ot.removePointerInTextLayer(It.contentDiv),It.setParent(null),It.isAttachedToDOM=!1,It.div.remove();this.div=null,o(this,at).clear(),o(this,bt).removeLayer(this)}render({viewport:gt}){this.viewport=gt,(0,At.setLayerDimensions)(this.div,gt);for(const Ot of o(this,bt).getEditors(this.pageIndex))this.add(Ot);this.updateMode()}update({viewport:gt}){o(this,bt).commitOrRemove(),this.viewport=gt,(0,At.setLayerDimensions)(this.div,{rotation:gt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:gt,pageHeight:Ot}=this.viewport.rawDims;return[gt,Ot]}};b=new WeakMap,_t=new WeakMap,vt=new WeakMap,dt=new WeakMap,ut=new WeakMap,at=new WeakMap,je=new WeakMap,Je=new WeakMap,ht=new WeakMap,bt=new WeakMap,ft=new WeakSet,Hr=function(gt){switch(o(this,bt).getMode()){case n.AnnotationEditorType.FREETEXT:return new g.FreeTextEditor(gt);case n.AnnotationEditorType.INK:return new ae.InkEditor(gt);case n.AnnotationEditorType.STAMP:return new m.StampEditor(gt)}return null},w=new WeakSet,vr=function(gt,Ot){const It=this.getNextId(),Ft=jt(this,ft,Hr).call(this,{parent:this,id:It,x:gt.offsetX,y:gt.offsetY,uiManager:o(this,bt),isCentered:Ot});return Ft&&this.add(Ft),Ft},d=new WeakSet,Gr=function(){const{x:gt,y:Ot,width:It,height:Ft}=this.div.getBoundingClientRect(),Rt=Math.max(0,gt),Lt=Math.max(0,Ot),tn=Math.min(window.innerWidth,gt+It),rn=Math.min(window.innerHeight,Ot+Ft),Kt=(Rt+tn)/2-gt,yt=(Lt+rn)/2-Ot,[l,h]=this.viewport.rotation%180===0?[Kt,yt]:[yt,Kt];return{offsetX:l,offsetY:h}},Ue=new WeakSet,Vr=function(){qt(this,Je,!0);for(const gt of o(this,at).values())gt.isEmpty()&&gt.remove();qt(this,Je,!1)},Un(St,"_initialized",!1);let S=St;e.AnnotationEditorLayer=S},(t,e,i)=>{var m,S,b,_t,vt,dt,ut,at,je,Je,_i,bt,yi,p,Ei,mt,lr,a,qr,xe,Ai,Pt,Xr;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var n=i(1),s=i(5),g=i(4),ae=i(29);const Ot=class Ot extends g.AnnotationEditor{constructor(Rt){super({...Rt,name:"freeTextEditor"});kt(this,Je);kt(this,bt);kt(this,p);kt(this,mt);kt(this,a);kt(this,xe);kt(this,Pt);kt(this,m,this.editorDivBlur.bind(this));kt(this,S,this.editorDivFocus.bind(this));kt(this,b,this.editorDivInput.bind(this));kt(this,_t,this.editorDivKeydown.bind(this));kt(this,vt,void 0);kt(this,dt,"");kt(this,ut,`${this.id}-editor`);kt(this,at,void 0);kt(this,je,null);qt(this,vt,Rt.color||Ot._defaultColor||g.AnnotationEditor._defaultLineColor),qt(this,at,Rt.fontSize||Ot._defaultFontSize)}static get _keyboardManager(){const Rt=Ot.prototype,Lt=Kt=>Kt.isEmpty(),tn=s.AnnotationEditorUIManager.TRANSLATE_SMALL,rn=s.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new s.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Rt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Rt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Rt._translateEmpty,{args:[-tn,0],checker:Lt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Rt._translateEmpty,{args:[-rn,0],checker:Lt}],[["ArrowRight","mac+ArrowRight"],Rt._translateEmpty,{args:[tn,0],checker:Lt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Rt._translateEmpty,{args:[rn,0],checker:Lt}],[["ArrowUp","mac+ArrowUp"],Rt._translateEmpty,{args:[0,-tn],checker:Lt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Rt._translateEmpty,{args:[0,-rn],checker:Lt}],[["ArrowDown","mac+ArrowDown"],Rt._translateEmpty,{args:[0,tn],checker:Lt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Rt._translateEmpty,{args:[0,rn],checker:Lt}]]))}static initialize(Rt){g.AnnotationEditor.initialize(Rt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Lt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Lt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Rt,Lt){switch(Rt){case n.AnnotationEditorParamsType.FREETEXT_SIZE:Ot._defaultFontSize=Lt;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:Ot._defaultColor=Lt;break}}updateParams(Rt,Lt){switch(Rt){case n.AnnotationEditorParamsType.FREETEXT_SIZE:jt(this,Je,_i).call(this,Lt);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:jt(this,bt,yi).call(this,Lt);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,Ot._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,Ot._defaultColor||g.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,o(this,at)],[n.AnnotationEditorParamsType.FREETEXT_COLOR,o(this,vt)]]}_translateEmpty(Rt,Lt){this._uiManager.translateSelectedEditors(Rt,Lt,!0)}getInitialTranslation(){const Rt=this.parentScale;return[-Ot._internalPadding*Rt,-(Ot._internalPadding+o(this,at))*Rt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",o(this,_t)),this.editorDiv.addEventListener("focus",o(this,S)),this.editorDiv.addEventListener("blur",o(this,m)),this.editorDiv.addEventListener("input",o(this,b)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",o(this,ut)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",o(this,_t)),this.editorDiv.removeEventListener("focus",o(this,S)),this.editorDiv.removeEventListener("blur",o(this,m)),this.editorDiv.removeEventListener("input",o(this,b)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Rt){this._focusEventsAllowed&&(super.focusin(Rt),Rt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Rt;if(this.width){jt(this,Pt,Xr).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Rt=this._initialOptions)!=null&&Rt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Rt=o(this,dt),Lt=qt(this,dt,jt(this,p,Ei).call(this).trimEnd());if(Rt===Lt)return;const tn=rn=>{if(qt(this,dt,rn),!rn){this.remove();return}jt(this,a,qr).call(this),this._uiManager.rebuild(this),jt(this,mt,lr).call(this)};this.addCommands({cmd:()=>{tn(Lt)},undo:()=>{tn(Rt)},mustExec:!1}),jt(this,mt,lr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Rt){this.enterInEditMode()}keydown(Rt){Rt.target===this.div&&Rt.key==="Enter"&&(this.enterInEditMode(),Rt.preventDefault())}editorDivKeydown(Rt){Ot._keyboardManager.exec(this,Rt)}editorDivFocus(Rt){this.isEditing=!0}editorDivBlur(Rt){this.isEditing=!1}editorDivInput(Rt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Rt,Lt;this.width&&(Rt=this.x,Lt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",o(this,ut)),this.enableEditing(),g.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(rn=>{var Kt;return(Kt=this.editorDiv)==null?void 0:Kt.setAttribute("aria-label",rn)}),g.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(rn=>{var Kt;return(Kt=this.editorDiv)==null?void 0:Kt.setAttribute("default-content",rn)}),this.editorDiv.contentEditable=!0;const{style:tn}=this.editorDiv;if(tn.fontSize=`calc(${o(this,at)}px * var(--scale-factor))`,tn.color=o(this,vt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,s.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[rn,Kt]=this.parentDimensions;if(this.annotationElementId){const{position:yt}=o(this,je);let[l,h]=this.getInitialTranslation();[l,h]=this.pageTranslationToScreen(l,h);const[c,ie]=this.pageDimensions,[Fe,lt]=this.pageTranslation;let xt,wt;switch(this.rotation){case 0:xt=Rt+(yt[0]-Fe)/c,wt=Lt+this.height-(yt[1]-lt)/ie;break;case 90:xt=Rt+(yt[0]-Fe)/c,wt=Lt-(yt[1]-lt)/ie,[l,h]=[h,-l];break;case 180:xt=Rt-this.width+(yt[0]-Fe)/c,wt=Lt-(yt[1]-lt)/ie,[l,h]=[-l,-h];break;case 270:xt=Rt+(yt[0]-Fe-this.height*ie)/c,wt=Lt+(yt[1]-lt-this.width*c)/ie,[l,h]=[-h,l];break}this.setAt(xt*rn,wt*Kt,l,h)}else this.setAt(Rt*rn,Lt*Kt,this.width*rn,this.height*Kt);jt(this,a,qr).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Rt,Lt,tn){let rn=null;if(Rt instanceof ae.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:yt,fontColor:l},rect:h,rotation:c,id:ie},textContent:Fe,textPosition:lt,parent:{page:{pageNumber:xt}}}=Rt;if(!Fe||Fe.length===0)return null;rn=Rt={annotationType:n.AnnotationEditorType.FREETEXT,color:Array.from(l),fontSize:yt,value:Fe.join(`
`),position:lt,pageIndex:xt-1,rect:h,rotation:c,id:ie,deleted:!1}}const Kt=super.deserialize(Rt,Lt,tn);return qt(Kt,at,Rt.fontSize),qt(Kt,vt,n.Util.makeHexColor(...Rt.color)),qt(Kt,dt,Rt.value),Kt.annotationElementId=Rt.id||null,qt(Kt,je,rn),Kt}serialize(Rt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Lt=Ot._internalPadding*this.parentScale,tn=this.getRect(Lt,Lt),rn=g.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:o(this,vt)),Kt={annotationType:n.AnnotationEditorType.FREETEXT,color:rn,fontSize:o(this,at),value:o(this,dt),pageIndex:this.pageIndex,rect:tn,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Rt?Kt:this.annotationElementId&&!jt(this,xe,Ai).call(this,Kt)?null:(Kt.id=this.annotationElementId,Kt)}};m=new WeakMap,S=new WeakMap,b=new WeakMap,_t=new WeakMap,vt=new WeakMap,dt=new WeakMap,ut=new WeakMap,at=new WeakMap,je=new WeakMap,Je=new WeakSet,_i=function(Rt){const Lt=rn=>{this.editorDiv.style.fontSize=`calc(${rn}px * var(--scale-factor))`,this.translate(0,-(rn-o(this,at))*this.parentScale),qt(this,at,rn),jt(this,mt,lr).call(this)},tn=o(this,at);this.addCommands({cmd:()=>{Lt(Rt)},undo:()=>{Lt(tn)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},bt=new WeakSet,yi=function(Rt){const Lt=o(this,vt);this.addCommands({cmd:()=>{qt(this,vt,this.editorDiv.style.color=Rt)},undo:()=>{qt(this,vt,this.editorDiv.style.color=Lt)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},p=new WeakSet,Ei=function(){const Rt=this.editorDiv.getElementsByTagName("div");if(Rt.length===0)return this.editorDiv.innerText;const Lt=[];for(const tn of Rt)Lt.push(tn.innerText.replace(/\r\n?|\n/,""));return Lt.join(`
`)},mt=new WeakSet,lr=function(){const[Rt,Lt]=this.parentDimensions;let tn;if(this.isAttachedToDOM)tn=this.div.getBoundingClientRect();else{const{currentLayer:rn,div:Kt}=this,yt=Kt.style.display;Kt.style.display="hidden",rn.div.append(this.div),tn=Kt.getBoundingClientRect(),Kt.remove(),Kt.style.display=yt}this.rotation%180===this.parentRotation%180?(this.width=tn.width/Rt,this.height=tn.height/Lt):(this.width=tn.height/Rt,this.height=tn.width/Lt),this.fixAndSetPosition()},a=new WeakSet,qr=function(){if(this.editorDiv.replaceChildren(),!!o(this,dt))for(const Rt of o(this,dt).split(`
`)){const Lt=document.createElement("div");Lt.append(Rt?document.createTextNode(Rt):document.createElement("br")),this.editorDiv.append(Lt)}},xe=new WeakSet,Ai=function(Rt){const{value:Lt,fontSize:tn,color:rn,rect:Kt,pageIndex:yt}=o(this,je);return Rt.value!==Lt||Rt.fontSize!==tn||Rt.rect.some((l,h)=>Math.abs(l-Kt[h])>=1)||Rt.color.some((l,h)=>l!==rn[h])||Rt.pageIndex!==yt},Pt=new WeakSet,Xr=function(Rt=!1){if(!this.annotationElementId)return;if(jt(this,mt,lr).call(this),!Rt&&(this.width===0||this.height===0)){setTimeout(()=>jt(this,Pt,Xr).call(this,!0),0);return}const Lt=Ot._internalPadding*this.parentScale;o(this,je).rect=this.getRect(Lt,Lt)},Un(Ot,"_freeTextDefaultContent",""),Un(Ot,"_internalPadding",0),Un(Ot,"_defaultColor",null),Un(Ot,"_defaultFontSize",10),Un(Ot,"_type","freetext");let At=Ot;e.FreeTextEditor=At},(t,e,i)=>{var h,ie,Yn,lt,xi,wt,Ut,Mt,$t,Vt,Jt,Yt,hn,vn,an,pn,Qt,Nt,Wt,Xt,dn,un,wn,Si,Pn,_r,xn,Yr,Cn,Kr,Ht,Bt,on,cn,Bn,$n,Gt,Zr,An,gn,Sn,Tn,wi,ln,Jr;Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var n=i(1),s=i(6),g=i(3),ae=i(30),At=i(31),m=i(32);const S=1e3,b=9,_t=new WeakSet;function vt(En){return{width:En[2]-En[0],height:En[3]-En[1]}}class dt{static create(Tt){switch(Tt.data.annotationType){case n.AnnotationType.LINK:return new at(Tt);case n.AnnotationType.TEXT:return new je(Tt);case n.AnnotationType.WIDGET:switch(Tt.data.fieldType){case"Tx":return new ht(Tt);case"Btn":return Tt.data.radioButton?new p(Tt):Tt.data.checkBox?new ft(Tt):new w(Tt);case"Ch":return new mt(Tt);case"Sig":return new bt(Tt)}return new Je(Tt);case n.AnnotationType.POPUP:return new d(Tt);case n.AnnotationType.FREETEXT:return new Ue(Tt);case n.AnnotationType.LINE:return new xe(Tt);case n.AnnotationType.SQUARE:return new St(Tt);case n.AnnotationType.CIRCLE:return new Pt(Tt);case n.AnnotationType.POLYLINE:return new gt(Tt);case n.AnnotationType.CARET:return new It(Tt);case n.AnnotationType.INK:return new Ft(Tt);case n.AnnotationType.POLYGON:return new Ot(Tt);case n.AnnotationType.HIGHLIGHT:return new Rt(Tt);case n.AnnotationType.UNDERLINE:return new Lt(Tt);case n.AnnotationType.SQUIGGLY:return new tn(Tt);case n.AnnotationType.STRIKEOUT:return new rn(Tt);case n.AnnotationType.STAMP:return new Kt(Tt);case n.AnnotationType.FILEATTACHMENT:return new yt(Tt);default:return new ut(Tt)}}}const c=class c{constructor(Tt,{isRenderable:u=!1,ignoreBorder:Et=!1,createQuadrilaterals:Ct=!1}={}){kt(this,h,!1);this.isRenderable=u,this.data=Tt.data,this.layer=Tt.layer,this.linkService=Tt.linkService,this.downloadManager=Tt.downloadManager,this.imageResourcesPath=Tt.imageResourcesPath,this.renderForms=Tt.renderForms,this.svgFactory=Tt.svgFactory,this.annotationStorage=Tt.annotationStorage,this.enableScripting=Tt.enableScripting,this.hasJSActions=Tt.hasJSActions,this._fieldObjects=Tt.fieldObjects,this.parent=Tt.parent,u&&(this.container=this._createContainer(Et)),Ct&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Tt,contentsObj:u,richText:Et}){return!!(Tt!=null&&Tt.str||u!=null&&u.str||Et!=null&&Et.str)}get hasPopupData(){return c._hasPopupData(this.data)}_createContainer(Tt){const{data:u,parent:{page:Et,viewport:Ct}}=this,Dt=document.createElement("section");Dt.setAttribute("data-annotation-id",u.id),this instanceof Je||(Dt.tabIndex=S),Dt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Dt.setAttribute("aria-haspopup","dialog"),u.noRotate&&Dt.classList.add("norotate");const{pageWidth:zt,pageHeight:Zt,pageX:sn,pageY:bn}=Ct.rawDims;if(!u.rect||this instanceof d){const{rotation:On}=u;return!u.hasOwnCanvas&&On!==0&&this.setRotation(On,Dt),Dt}const{width:mn,height:Dn}=vt(u.rect),_n=n.Util.normalizeRect([u.rect[0],Et.view[3]-u.rect[1]+Et.view[1],u.rect[2],Et.view[3]-u.rect[3]+Et.view[1]]);if(!Tt&&u.borderStyle.width>0){Dt.style.borderWidth=`${u.borderStyle.width}px`;const On=u.borderStyle.horizontalCornerRadius,Mn=u.borderStyle.verticalCornerRadius;if(On>0||Mn>0){const jn=`calc(${On}px * var(--scale-factor)) / calc(${Mn}px * var(--scale-factor))`;Dt.style.borderRadius=jn}else if(this instanceof p){const jn=`calc(${mn}px * var(--scale-factor)) / calc(${Dn}px * var(--scale-factor))`;Dt.style.borderRadius=jn}switch(u.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:Dt.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:Dt.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:Dt.style.borderBottomStyle="solid";break}const In=u.borderColor||null;In?(qt(this,h,!0),Dt.style.borderColor=n.Util.makeHexColor(In[0]|0,In[1]|0,In[2]|0)):Dt.style.borderWidth=0}Dt.style.left=`${100*(_n[0]-sn)/zt}%`,Dt.style.top=`${100*(_n[1]-bn)/Zt}%`;const{rotation:yn}=u;return u.hasOwnCanvas||yn===0?(Dt.style.width=`${100*mn/zt}%`,Dt.style.height=`${100*Dn/Zt}%`):this.setRotation(yn,Dt),Dt}setRotation(Tt,u=this.container){if(!this.data.rect)return;const{pageWidth:Et,pageHeight:Ct}=this.parent.viewport.rawDims,{width:Dt,height:zt}=vt(this.data.rect);let Zt,sn;Tt%180===0?(Zt=100*Dt/Et,sn=100*zt/Ct):(Zt=100*zt/Et,sn=100*Dt/Ct),u.style.width=`${Zt}%`,u.style.height=`${sn}%`,u.setAttribute("data-main-rotation",(360-Tt)%360)}get _commonActions(){const Tt=(u,Et,Ct)=>{const Dt=Ct.detail[u],zt=Dt[0],Zt=Dt.slice(1);Ct.target.style[Et]=ae.ColorConverters[`${zt}_HTML`](Zt),this.annotationStorage.setValue(this.data.id,{[Et]:ae.ColorConverters[`${zt}_rgb`](Zt)})};return(0,n.shadow)(this,"_commonActions",{display:u=>{const{display:Et}=u.detail,Ct=Et%2===1;this.container.style.visibility=Ct?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Ct,noPrint:Et===1||Et===2})},print:u=>{this.annotationStorage.setValue(this.data.id,{noPrint:!u.detail.print})},hidden:u=>{const{hidden:Et}=u.detail;this.container.style.visibility=Et?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Et,noView:Et})},focus:u=>{setTimeout(()=>u.target.focus({preventScroll:!1}),0)},userName:u=>{u.target.title=u.detail.userName},readonly:u=>{u.target.disabled=u.detail.readonly},required:u=>{this._setRequired(u.target,u.detail.required)},bgColor:u=>{Tt("bgColor","backgroundColor",u)},fillColor:u=>{Tt("fillColor","backgroundColor",u)},fgColor:u=>{Tt("fgColor","color",u)},textColor:u=>{Tt("textColor","color",u)},borderColor:u=>{Tt("borderColor","borderColor",u)},strokeColor:u=>{Tt("strokeColor","borderColor",u)},rotation:u=>{const Et=u.detail.rotation;this.setRotation(Et),this.annotationStorage.setValue(this.data.id,{rotation:Et})}})}_dispatchEventFromSandbox(Tt,u){const Et=this._commonActions;for(const Ct of Object.keys(u.detail)){const Dt=Tt[Ct]||Et[Ct];Dt==null||Dt(u)}}_setDefaultPropertiesFromJS(Tt){if(!this.enableScripting)return;const u=this.annotationStorage.getRawValue(this.data.id);if(!u)return;const Et=this._commonActions;for(const[Ct,Dt]of Object.entries(u)){const zt=Et[Ct];if(zt){const Zt={detail:{[Ct]:Dt},target:Tt};zt(Zt),delete u[Ct]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Tt}=this.data;if(!Tt)return;const[u,Et,Ct,Dt]=this.data.rect;if(Tt.length===1){const[,{x:Mn,y:In},{x:jn,y:zn}]=Tt[0];if(Ct===Mn&&Dt===In&&u===jn&&Et===zn)return}const{style:zt}=this.container;let Zt;if(o(this,h)){const{borderColor:Mn,borderWidth:In}=zt;zt.borderWidth=0,Zt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Mn}" stroke-width="${In}">`],this.container.classList.add("hasBorder")}const sn=Ct-u,bn=Dt-Et,{svgFactory:mn}=this,Dn=mn.createElement("svg");Dn.classList.add("quadrilateralsContainer"),Dn.setAttribute("width",0),Dn.setAttribute("height",0);const _n=mn.createElement("defs");Dn.append(_n);const yn=mn.createElement("clipPath"),On=`clippath_${this.data.id}`;yn.setAttribute("id",On),yn.setAttribute("clipPathUnits","objectBoundingBox"),_n.append(yn);for(const[,{x:Mn,y:In},{x:jn,y:zn}]of Tt){const Wn=mn.createElement("rect"),Hn=(jn-u)/sn,qn=(Dt-In)/bn,Xn=(Mn-jn)/sn,oi=(In-zn)/bn;Wn.setAttribute("x",Hn),Wn.setAttribute("y",qn),Wn.setAttribute("width",Xn),Wn.setAttribute("height",oi),yn.append(Wn),Zt==null||Zt.push(`<rect vector-effect="non-scaling-stroke" x="${Hn}" y="${qn}" width="${Xn}" height="${oi}"/>`)}o(this,h)&&(Zt.push("</g></svg>')"),zt.backgroundImage=Zt.join("")),this.container.append(Dn),this.container.style.clipPath=`url(#${On})`}_createPopup(){const{container:Tt,data:u}=this;Tt.setAttribute("aria-haspopup","dialog");const Et=new d({data:{color:u.color,titleObj:u.titleObj,modificationDate:u.modificationDate,contentsObj:u.contentsObj,richText:u.richText,parentRect:u.rect,borderStyle:0,id:`popup_${u.id}`,rotation:u.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Et.render())}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Tt,u=null){const Et=[];if(this._fieldObjects){const Ct=this._fieldObjects[Tt];if(Ct)for(const{page:Dt,id:zt,exportValues:Zt}of Ct){if(Dt===-1||zt===u)continue;const sn=typeof Zt=="string"?Zt:null,bn=document.querySelector(`[data-element-id="${zt}"]`);if(bn&&!_t.has(bn)){(0,n.warn)(`_getElementsByName - element not allowed: ${zt}`);continue}Et.push({id:zt,exportValue:sn,domElement:bn})}return Et}for(const Ct of document.getElementsByName(Tt)){const{exportValue:Dt}=Ct,zt=Ct.getAttribute("data-element-id");zt!==u&&_t.has(Ct)&&Et.push({id:zt,exportValue:Dt,domElement:Ct})}return Et}show(){var Tt;this.container&&(this.container.hidden=!1),(Tt=this.popup)==null||Tt.maybeShow()}hide(){var Tt;this.container&&(this.container.hidden=!0),(Tt=this.popup)==null||Tt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Tt=this.getElementsToTriggerPopup();if(Array.isArray(Tt))for(const u of Tt)u.classList.add("highlightArea");else Tt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Tt,data:{id:u}}=this;this.container.addEventListener("dblclick",()=>{var Et;(Et=this.linkService.eventBus)==null||Et.dispatch("switchannotationeditormode",{source:this,mode:Tt,editId:u})})}};h=new WeakMap;let ut=c;class at extends ut{constructor(u,Et=null){super(u,{isRenderable:!0,ignoreBorder:!!(Et!=null&&Et.ignoreBorder),createQuadrilaterals:!0});kt(this,ie);kt(this,lt);this.isTooltipOnly=u.data.isTooltipOnly}render(){const{data:u,linkService:Et}=this,Ct=document.createElement("a");Ct.setAttribute("data-element-id",u.id);let Dt=!1;return u.url?(Et.addLinkAttributes(Ct,u.url,u.newWindow),Dt=!0):u.action?(this._bindNamedAction(Ct,u.action),Dt=!0):u.attachment?(this._bindAttachment(Ct,u.attachment),Dt=!0):u.setOCGState?(jt(this,lt,xi).call(this,Ct,u.setOCGState),Dt=!0):u.dest?(this._bindLink(Ct,u.dest),Dt=!0):(u.actions&&(u.actions.Action||u.actions["Mouse Up"]||u.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Ct,u),Dt=!0),u.resetForm?(this._bindResetFormAction(Ct,u.resetForm),Dt=!0):this.isTooltipOnly&&!Dt&&(this._bindLink(Ct,""),Dt=!0)),this.container.classList.add("linkAnnotation"),Dt&&this.container.append(Ct),this.container}_bindLink(u,Et){u.href=this.linkService.getDestinationHash(Et),u.onclick=()=>(Et&&this.linkService.goToDestination(Et),!1),(Et||Et==="")&&jt(this,ie,Yn).call(this)}_bindNamedAction(u,Et){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>(this.linkService.executeNamedAction(Et),!1),jt(this,ie,Yn).call(this)}_bindAttachment(u,Et){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>{var Ct;return(Ct=this.downloadManager)==null||Ct.openOrDownloadData(this.container,Et.content,Et.filename),!1},jt(this,ie,Yn).call(this)}_bindJSAction(u,Et){u.href=this.linkService.getAnchorUrl("");const Ct=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Dt of Object.keys(Et.actions)){const zt=Ct.get(Dt);zt&&(u[zt]=()=>{var Zt;return(Zt=this.linkService.eventBus)==null||Zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Et.id,name:Dt}}),!1})}u.onclick||(u.onclick=()=>!1),jt(this,ie,Yn).call(this)}_bindResetFormAction(u,Et){const Ct=u.onclick;if(Ct||(u.href=this.linkService.getAnchorUrl("")),jt(this,ie,Yn).call(this),!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Ct||(u.onclick=()=>!1);return}u.onclick=()=>{var Dn;Ct==null||Ct();const{fields:Dt,refs:zt,include:Zt}=Et,sn=[];if(Dt.length!==0||zt.length!==0){const _n=new Set(zt);for(const yn of Dt){const On=this._fieldObjects[yn]||[];for(const{id:Mn}of On)_n.add(Mn)}for(const yn of Object.values(this._fieldObjects))for(const On of yn)_n.has(On.id)===Zt&&sn.push(On)}else for(const _n of Object.values(this._fieldObjects))sn.push(..._n);const bn=this.annotationStorage,mn=[];for(const _n of sn){const{id:yn}=_n;switch(mn.push(yn),_n.type){case"text":{const Mn=_n.defaultValue||"";bn.setValue(yn,{value:Mn});break}case"checkbox":case"radiobutton":{const Mn=_n.defaultValue===_n.exportValues;bn.setValue(yn,{value:Mn});break}case"combobox":case"listbox":{const Mn=_n.defaultValue||"";bn.setValue(yn,{value:Mn});break}default:continue}const On=document.querySelector(`[data-element-id="${yn}"]`);if(On){if(!_t.has(On)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${yn}`);continue}}else continue;On.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Dn=this.linkService.eventBus)==null||Dn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:mn,name:"ResetForm"}})),!1}}}ie=new WeakSet,Yn=function(){this.container.setAttribute("data-internal-link","")},lt=new WeakSet,xi=function(u,Et){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>(this.linkService.executeSetOCGState(Et),!1),jt(this,ie,Yn).call(this)};class je extends ut{constructor(Tt){super(Tt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Tt=document.createElement("img");return Tt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Tt.alt="[{{type}} Annotation]",Tt.dataset.l10nId="text_annotation_type",Tt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Tt),this.container}}class Je extends ut{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Tt){var u;this.data.hasOwnCanvas&&(((u=Tt.previousSibling)==null?void 0:u.nodeName)==="CANVAS"&&(Tt.previousSibling.hidden=!0),Tt.hidden=!1)}_getKeyModifier(Tt){const{isWin:u,isMac:Et}=n.FeatureTest.platform;return u&&Tt.ctrlKey||Et&&Tt.metaKey}_setEventListener(Tt,u,Et,Ct,Dt){Et.includes("mouse")?Tt.addEventListener(Et,zt=>{var Zt;(Zt=this.linkService.eventBus)==null||Zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ct,value:Dt(zt),shift:zt.shiftKey,modifier:this._getKeyModifier(zt)}})}):Tt.addEventListener(Et,zt=>{var Zt;if(Et==="blur"){if(!u.focused||!zt.relatedTarget)return;u.focused=!1}else if(Et==="focus"){if(u.focused)return;u.focused=!0}Dt&&((Zt=this.linkService.eventBus)==null||Zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ct,value:Dt(zt)}}))})}_setEventListeners(Tt,u,Et,Ct){var Dt,zt,Zt;for(const[sn,bn]of Et)(bn==="Action"||(Dt=this.data.actions)!=null&&Dt[bn])&&((bn==="Focus"||bn==="Blur")&&(u||(u={focused:!1})),this._setEventListener(Tt,u,sn,bn,Ct),bn==="Focus"&&!((zt=this.data.actions)!=null&&zt.Blur)?this._setEventListener(Tt,u,"blur","Blur",null):bn==="Blur"&&!((Zt=this.data.actions)!=null&&Zt.Focus)&&this._setEventListener(Tt,u,"focus","Focus",null))}_setBackgroundColor(Tt){const u=this.data.backgroundColor||null;Tt.style.backgroundColor=u===null?"transparent":n.Util.makeHexColor(u[0],u[1],u[2])}_setTextStyle(Tt){const u=["left","center","right"],{fontColor:Et}=this.data.defaultAppearanceData,Ct=this.data.defaultAppearanceData.fontSize||b,Dt=Tt.style;let zt;const Zt=2,sn=bn=>Math.round(10*bn)/10;if(this.data.multiLine){const bn=Math.abs(this.data.rect[3]-this.data.rect[1]-Zt),mn=Math.round(bn/(n.LINE_FACTOR*Ct))||1,Dn=bn/mn;zt=Math.min(Ct,sn(Dn/n.LINE_FACTOR))}else{const bn=Math.abs(this.data.rect[3]-this.data.rect[1]-Zt);zt=Math.min(Ct,sn(bn/n.LINE_FACTOR))}Dt.fontSize=`calc(${zt}px * var(--scale-factor))`,Dt.color=n.Util.makeHexColor(Et[0],Et[1],Et[2]),this.data.textAlignment!==null&&(Dt.textAlign=u[this.data.textAlignment])}_setRequired(Tt,u){u?Tt.setAttribute("required",!0):Tt.removeAttribute("required"),Tt.setAttribute("aria-required",u)}}class ht extends Je{constructor(Tt){const u=Tt.renderForms||!Tt.data.hasAppearance&&!!Tt.data.fieldValue;super(Tt,{isRenderable:u})}setPropertyOnSiblings(Tt,u,Et,Ct){const Dt=this.annotationStorage;for(const zt of this._getElementsByName(Tt.name,Tt.id))zt.domElement&&(zt.domElement[u]=Et),Dt.setValue(zt.id,{[Ct]:Et})}render(){var Ct,Dt;const Tt=this.annotationStorage,u=this.data.id;this.container.classList.add("textWidgetAnnotation");let Et=null;if(this.renderForms){const zt=Tt.getValue(u,{value:this.data.fieldValue});let Zt=zt.value||"";const sn=Tt.getValue(u,{charLimit:this.data.maxLen}).charLimit;sn&&Zt.length>sn&&(Zt=Zt.slice(0,sn));let bn=zt.formattedValue||((Ct=this.data.textContent)==null?void 0:Ct.join(`
`))||null;bn&&this.data.comb&&(bn=bn.replaceAll(/\s+/g,""));const mn={userValue:Zt,formattedValue:bn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Et=document.createElement("textarea"),Et.textContent=bn??Zt,this.data.doNotScroll&&(Et.style.overflowY="hidden")):(Et=document.createElement("input"),Et.type="text",Et.setAttribute("value",bn??Zt),this.data.doNotScroll&&(Et.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Et.hidden=!0),_t.add(Et),Et.setAttribute("data-element-id",u),Et.disabled=this.data.readOnly,Et.name=this.data.fieldName,Et.tabIndex=S,this._setRequired(Et,this.data.required),sn&&(Et.maxLength=sn),Et.addEventListener("input",_n=>{Tt.setValue(u,{value:_n.target.value}),this.setPropertyOnSiblings(Et,"value",_n.target.value,"value"),mn.formattedValue=null}),Et.addEventListener("resetform",_n=>{const yn=this.data.defaultFieldValue??"";Et.value=mn.userValue=yn,mn.formattedValue=null});let Dn=_n=>{const{formattedValue:yn}=mn;yn!=null&&(_n.target.value=yn),_n.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Et.addEventListener("focus",yn=>{if(mn.focused)return;const{target:On}=yn;mn.userValue&&(On.value=mn.userValue),mn.lastCommittedValue=On.value,mn.commitKey=1,mn.focused=!0}),Et.addEventListener("updatefromsandbox",yn=>{this.showElementAndHideCanvas(yn.target);const On={value(Mn){mn.userValue=Mn.detail.value??"",Tt.setValue(u,{value:mn.userValue.toString()}),Mn.target.value=mn.userValue},formattedValue(Mn){const{formattedValue:In}=Mn.detail;mn.formattedValue=In,In!=null&&Mn.target!==document.activeElement&&(Mn.target.value=In),Tt.setValue(u,{formattedValue:In})},selRange(Mn){Mn.target.setSelectionRange(...Mn.detail.selRange)},charLimit:Mn=>{var Wn;const{charLimit:In}=Mn.detail,{target:jn}=Mn;if(In===0){jn.removeAttribute("maxLength");return}jn.setAttribute("maxLength",In);let zn=mn.userValue;!zn||zn.length<=In||(zn=zn.slice(0,In),jn.value=mn.userValue=zn,Tt.setValue(u,{value:zn}),(Wn=this.linkService.eventBus)==null||Wn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:u,name:"Keystroke",value:zn,willCommit:!0,commitKey:1,selStart:jn.selectionStart,selEnd:jn.selectionEnd}}))}};this._dispatchEventFromSandbox(On,yn)}),Et.addEventListener("keydown",yn=>{var In;mn.commitKey=1;let On=-1;if(yn.key==="Escape"?On=0:yn.key==="Enter"&&!this.data.multiLine?On=2:yn.key==="Tab"&&(mn.commitKey=3),On===-1)return;const{value:Mn}=yn.target;mn.lastCommittedValue!==Mn&&(mn.lastCommittedValue=Mn,mn.userValue=Mn,(In=this.linkService.eventBus)==null||In.dispatch("dispatcheventinsandbox",{source:this,detail:{id:u,name:"Keystroke",value:Mn,willCommit:!0,commitKey:On,selStart:yn.target.selectionStart,selEnd:yn.target.selectionEnd}}))});const _n=Dn;Dn=null,Et.addEventListener("blur",yn=>{var Mn;if(!mn.focused||!yn.relatedTarget)return;mn.focused=!1;const{value:On}=yn.target;mn.userValue=On,mn.lastCommittedValue!==On&&((Mn=this.linkService.eventBus)==null||Mn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:u,name:"Keystroke",value:On,willCommit:!0,commitKey:mn.commitKey,selStart:yn.target.selectionStart,selEnd:yn.target.selectionEnd}})),_n(yn)}),(Dt=this.data.actions)!=null&&Dt.Keystroke&&Et.addEventListener("beforeinput",yn=>{var qn;mn.lastCommittedValue=null;const{data:On,target:Mn}=yn,{value:In,selectionStart:jn,selectionEnd:zn}=Mn;let Wn=jn,Hn=zn;switch(yn.inputType){case"deleteWordBackward":{const Xn=In.substring(0,jn).match(/\w*[^\w]*$/);Xn&&(Wn-=Xn[0].length);break}case"deleteWordForward":{const Xn=In.substring(jn).match(/^[^\w]*\w*/);Xn&&(Hn+=Xn[0].length);break}case"deleteContentBackward":jn===zn&&(Wn-=1);break;case"deleteContentForward":jn===zn&&(Hn+=1);break}yn.preventDefault(),(qn=this.linkService.eventBus)==null||qn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:u,name:"Keystroke",value:In,change:On||"",willCommit:!1,selStart:Wn,selEnd:Hn}})}),this._setEventListeners(Et,mn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],yn=>yn.target.value)}if(Dn&&Et.addEventListener("blur",Dn),this.data.comb){const yn=(this.data.rect[2]-this.data.rect[0])/sn;Et.classList.add("comb"),Et.style.letterSpacing=`calc(${yn}px * var(--scale-factor) - 1ch)`}}else Et=document.createElement("div"),Et.textContent=this.data.fieldValue,Et.style.verticalAlign="middle",Et.style.display="table-cell";return this._setTextStyle(Et),this._setBackgroundColor(Et),this._setDefaultPropertiesFromJS(Et),this.container.append(Et),this.container}}class bt extends Je{constructor(Tt){super(Tt,{isRenderable:!!Tt.data.hasOwnCanvas})}}class ft extends Je{constructor(Tt){super(Tt,{isRenderable:Tt.renderForms})}render(){const Tt=this.annotationStorage,u=this.data,Et=u.id;let Ct=Tt.getValue(Et,{value:u.exportValue===u.fieldValue}).value;typeof Ct=="string"&&(Ct=Ct!=="Off",Tt.setValue(Et,{value:Ct})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Dt=document.createElement("input");return _t.add(Dt),Dt.setAttribute("data-element-id",Et),Dt.disabled=u.readOnly,this._setRequired(Dt,this.data.required),Dt.type="checkbox",Dt.name=u.fieldName,Ct&&Dt.setAttribute("checked",!0),Dt.setAttribute("exportValue",u.exportValue),Dt.tabIndex=S,Dt.addEventListener("change",zt=>{const{name:Zt,checked:sn}=zt.target;for(const bn of this._getElementsByName(Zt,Et)){const mn=sn&&bn.exportValue===u.exportValue;bn.domElement&&(bn.domElement.checked=mn),Tt.setValue(bn.id,{value:mn})}Tt.setValue(Et,{value:sn})}),Dt.addEventListener("resetform",zt=>{const Zt=u.defaultFieldValue||"Off";zt.target.checked=Zt===u.exportValue}),this.enableScripting&&this.hasJSActions&&(Dt.addEventListener("updatefromsandbox",zt=>{const Zt={value(sn){sn.target.checked=sn.detail.value!=="Off",Tt.setValue(Et,{value:sn.target.checked})}};this._dispatchEventFromSandbox(Zt,zt)}),this._setEventListeners(Dt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],zt=>zt.target.checked)),this._setBackgroundColor(Dt),this._setDefaultPropertiesFromJS(Dt),this.container.append(Dt),this.container}}class p extends Je{constructor(Tt){super(Tt,{isRenderable:Tt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Tt=this.annotationStorage,u=this.data,Et=u.id;let Ct=Tt.getValue(Et,{value:u.fieldValue===u.buttonValue}).value;typeof Ct=="string"&&(Ct=Ct!==u.buttonValue,Tt.setValue(Et,{value:Ct}));const Dt=document.createElement("input");if(_t.add(Dt),Dt.setAttribute("data-element-id",Et),Dt.disabled=u.readOnly,this._setRequired(Dt,this.data.required),Dt.type="radio",Dt.name=u.fieldName,Ct&&Dt.setAttribute("checked",!0),Dt.tabIndex=S,Dt.addEventListener("change",zt=>{const{name:Zt,checked:sn}=zt.target;for(const bn of this._getElementsByName(Zt,Et))Tt.setValue(bn.id,{value:!1});Tt.setValue(Et,{value:sn})}),Dt.addEventListener("resetform",zt=>{const Zt=u.defaultFieldValue;zt.target.checked=Zt!=null&&Zt===u.buttonValue}),this.enableScripting&&this.hasJSActions){const zt=u.buttonValue;Dt.addEventListener("updatefromsandbox",Zt=>{const sn={value:bn=>{const mn=zt===bn.detail.value;for(const Dn of this._getElementsByName(bn.target.name)){const _n=mn&&Dn.id===Et;Dn.domElement&&(Dn.domElement.checked=_n),Tt.setValue(Dn.id,{value:_n})}}};this._dispatchEventFromSandbox(sn,Zt)}),this._setEventListeners(Dt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Zt=>Zt.target.checked)}return this._setBackgroundColor(Dt),this._setDefaultPropertiesFromJS(Dt),this.container.append(Dt),this.container}}class w extends at{constructor(Tt){super(Tt,{ignoreBorder:Tt.data.hasAppearance})}render(){const Tt=super.render();Tt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Tt.title=this.data.alternativeText);const u=Tt.lastChild;return this.enableScripting&&this.hasJSActions&&u&&(this._setDefaultPropertiesFromJS(u),u.addEventListener("updatefromsandbox",Et=>{this._dispatchEventFromSandbox({},Et)})),Tt}}class mt extends Je{constructor(Tt){super(Tt,{isRenderable:Tt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Tt=this.annotationStorage,u=this.data.id,Et=Tt.getValue(u,{value:this.data.fieldValue}),Ct=document.createElement("select");_t.add(Ct),Ct.setAttribute("data-element-id",u),Ct.disabled=this.data.readOnly,this._setRequired(Ct,this.data.required),Ct.name=this.data.fieldName,Ct.tabIndex=S;let Dt=this.data.combo&&this.data.options.length>0;this.data.combo||(Ct.size=this.data.options.length,this.data.multiSelect&&(Ct.multiple=!0)),Ct.addEventListener("resetform",mn=>{const Dn=this.data.defaultFieldValue;for(const _n of Ct.options)_n.selected=_n.value===Dn});for(const mn of this.data.options){const Dn=document.createElement("option");Dn.textContent=mn.displayValue,Dn.value=mn.exportValue,Et.value.includes(mn.exportValue)&&(Dn.setAttribute("selected",!0),Dt=!1),Ct.append(Dn)}let zt=null;if(Dt){const mn=document.createElement("option");mn.value=" ",mn.setAttribute("hidden",!0),mn.setAttribute("selected",!0),Ct.prepend(mn),zt=()=>{mn.remove(),Ct.removeEventListener("input",zt),zt=null},Ct.addEventListener("input",zt)}const Zt=mn=>{const Dn=mn?"value":"textContent",{options:_n,multiple:yn}=Ct;return yn?Array.prototype.filter.call(_n,On=>On.selected).map(On=>On[Dn]):_n.selectedIndex===-1?null:_n[_n.selectedIndex][Dn]};let sn=Zt(!1);const bn=mn=>{const Dn=mn.target.options;return Array.prototype.map.call(Dn,_n=>({displayValue:_n.textContent,exportValue:_n.value}))};return this.enableScripting&&this.hasJSActions?(Ct.addEventListener("updatefromsandbox",mn=>{const Dn={value(_n){zt==null||zt();const yn=_n.detail.value,On=new Set(Array.isArray(yn)?yn:[yn]);for(const Mn of Ct.options)Mn.selected=On.has(Mn.value);Tt.setValue(u,{value:Zt(!0)}),sn=Zt(!1)},multipleSelection(_n){Ct.multiple=!0},remove(_n){const yn=Ct.options,On=_n.detail.remove;yn[On].selected=!1,Ct.remove(On),yn.length>0&&Array.prototype.findIndex.call(yn,In=>In.selected)===-1&&(yn[0].selected=!0),Tt.setValue(u,{value:Zt(!0),items:bn(_n)}),sn=Zt(!1)},clear(_n){for(;Ct.length!==0;)Ct.remove(0);Tt.setValue(u,{value:null,items:[]}),sn=Zt(!1)},insert(_n){const{index:yn,displayValue:On,exportValue:Mn}=_n.detail.insert,In=Ct.children[yn],jn=document.createElement("option");jn.textContent=On,jn.value=Mn,In?In.before(jn):Ct.append(jn),Tt.setValue(u,{value:Zt(!0),items:bn(_n)}),sn=Zt(!1)},items(_n){const{items:yn}=_n.detail;for(;Ct.length!==0;)Ct.remove(0);for(const On of yn){const{displayValue:Mn,exportValue:In}=On,jn=document.createElement("option");jn.textContent=Mn,jn.value=In,Ct.append(jn)}Ct.options.length>0&&(Ct.options[0].selected=!0),Tt.setValue(u,{value:Zt(!0),items:bn(_n)}),sn=Zt(!1)},indices(_n){const yn=new Set(_n.detail.indices);for(const On of _n.target.options)On.selected=yn.has(On.index);Tt.setValue(u,{value:Zt(!0)}),sn=Zt(!1)},editable(_n){_n.target.disabled=!_n.detail.editable}};this._dispatchEventFromSandbox(Dn,mn)}),Ct.addEventListener("input",mn=>{var _n;const Dn=Zt(!0);Tt.setValue(u,{value:Dn}),mn.preventDefault(),(_n=this.linkService.eventBus)==null||_n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:u,name:"Keystroke",value:sn,changeEx:Dn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ct,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],mn=>mn.target.value)):Ct.addEventListener("input",function(mn){Tt.setValue(u,{value:Zt(!0)})}),this.data.combo&&this._setTextStyle(Ct),this._setBackgroundColor(Ct),this._setDefaultPropertiesFromJS(Ct),this.container.append(Ct),this.container}}class d extends ut{constructor(Tt){const{data:u,elements:Et}=Tt;super(Tt,{isRenderable:ut._hasPopupData(u)}),this.elements=Et}render(){this.container.classList.add("popupAnnotation");const Tt=new a({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),u=[];for(const Et of this.elements)Et.popup=Tt,u.push(Et.data.id),Et.addHighlightArea();return this.container.setAttribute("aria-controls",u.map(Et=>`${n.AnnotationPrefix}${Et}`).join(",")),this.container}}class a{constructor({container:Tt,color:u,elements:Et,titleObj:Ct,modificationDate:Dt,contentsObj:zt,richText:Zt,parent:sn,rect:bn,parentRect:mn,open:Dn}){kt(this,wn);kt(this,Pn);kt(this,xn);kt(this,Cn);kt(this,wt,null);kt(this,Ut,jt(this,wn,Si).bind(this));kt(this,Mt,jt(this,Cn,Kr).bind(this));kt(this,$t,jt(this,xn,Yr).bind(this));kt(this,Vt,jt(this,Pn,_r).bind(this));kt(this,Jt,null);kt(this,Yt,null);kt(this,hn,null);kt(this,vn,null);kt(this,an,null);kt(this,pn,null);kt(this,Qt,!1);kt(this,Nt,null);kt(this,Wt,null);kt(this,Xt,null);kt(this,dn,null);kt(this,un,!1);var yn;qt(this,Yt,Tt),qt(this,dn,Ct),qt(this,hn,zt),qt(this,Xt,Zt),qt(this,an,sn),qt(this,Jt,u),qt(this,Wt,bn),qt(this,pn,mn),qt(this,vn,Et);const _n=s.PDFDateString.toDateObject(Dt);_n&&qt(this,wt,sn.l10n.get("annotation_date_string",{date:_n.toLocaleDateString(),time:_n.toLocaleTimeString()})),this.trigger=Et.flatMap(On=>On.getElementsToTriggerPopup());for(const On of this.trigger)On.addEventListener("click",o(this,Vt)),On.addEventListener("mouseenter",o(this,$t)),On.addEventListener("mouseleave",o(this,Mt)),On.classList.add("popupTriggerArea");for(const On of Et)(yn=On.container)==null||yn.addEventListener("keydown",o(this,Ut));o(this,Yt).hidden=!0,Dn&&jt(this,Pn,_r).call(this)}render(){if(o(this,Nt))return;const{page:{view:Tt},viewport:{rawDims:{pageWidth:u,pageHeight:Et,pageX:Ct,pageY:Dt}}}=o(this,an),zt=qt(this,Nt,document.createElement("div"));if(zt.className="popup",o(this,Jt)){const Wn=zt.style.outlineColor=n.Util.makeHexColor(...o(this,Jt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?zt.style.backgroundColor=`color-mix(in srgb, ${Wn} 30%, white)`:zt.style.backgroundColor=n.Util.makeHexColor(...o(this,Jt).map(qn=>Math.floor(.7*(255-qn)+qn)))}const Zt=document.createElement("span");Zt.className="header";const sn=document.createElement("h1");if(Zt.append(sn),{dir:sn.dir,str:sn.textContent}=o(this,dn),zt.append(Zt),o(this,wt)){const Wn=document.createElement("span");Wn.classList.add("popupDate"),o(this,wt).then(Hn=>{Wn.textContent=Hn}),Zt.append(Wn)}const bn=o(this,hn),mn=o(this,Xt);if(mn!=null&&mn.str&&(!(bn!=null&&bn.str)||bn.str===mn.str))m.XfaLayer.render({xfaHtml:mn.html,intent:"richText",div:zt}),zt.lastChild.classList.add("richText","popupContent");else{const Wn=this._formatContents(bn);zt.append(Wn)}let Dn=!!o(this,pn),_n=Dn?o(this,pn):o(this,Wt);for(const Wn of o(this,vn))if(!_n||n.Util.intersect(Wn.data.rect,_n)!==null){_n=Wn.data.rect,Dn=!0;break}const yn=n.Util.normalizeRect([_n[0],Tt[3]-_n[1]+Tt[1],_n[2],Tt[3]-_n[3]+Tt[1]]),On=5,Mn=Dn?_n[2]-_n[0]+On:0,In=yn[0]+Mn,jn=yn[1],{style:zn}=o(this,Yt);zn.left=`${100*(In-Ct)/u}%`,zn.top=`${100*(jn-Dt)/Et}%`,o(this,Yt).append(zt)}_formatContents({str:Tt,dir:u}){const Et=document.createElement("p");Et.classList.add("popupContent"),Et.dir=u;const Ct=Tt.split(/(?:\r\n?|\n)/);for(let Dt=0,zt=Ct.length;Dt<zt;++Dt){const Zt=Ct[Dt];Et.append(document.createTextNode(Zt)),Dt<zt-1&&Et.append(document.createElement("br"))}return Et}forceHide(){qt(this,un,this.isVisible),o(this,un)&&(o(this,Yt).hidden=!0)}maybeShow(){o(this,un)&&(qt(this,un,!1),o(this,Yt).hidden=!1)}get isVisible(){return o(this,Yt).hidden===!1}}wt=new WeakMap,Ut=new WeakMap,Mt=new WeakMap,$t=new WeakMap,Vt=new WeakMap,Jt=new WeakMap,Yt=new WeakMap,hn=new WeakMap,vn=new WeakMap,an=new WeakMap,pn=new WeakMap,Qt=new WeakMap,Nt=new WeakMap,Wt=new WeakMap,Xt=new WeakMap,dn=new WeakMap,un=new WeakMap,wn=new WeakSet,Si=function(Tt){Tt.altKey||Tt.shiftKey||Tt.ctrlKey||Tt.metaKey||(Tt.key==="Enter"||Tt.key==="Escape"&&o(this,Qt))&&jt(this,Pn,_r).call(this)},Pn=new WeakSet,_r=function(){qt(this,Qt,!o(this,Qt)),o(this,Qt)?(jt(this,xn,Yr).call(this),o(this,Yt).addEventListener("click",o(this,Vt)),o(this,Yt).addEventListener("keydown",o(this,Ut))):(jt(this,Cn,Kr).call(this),o(this,Yt).removeEventListener("click",o(this,Vt)),o(this,Yt).removeEventListener("keydown",o(this,Ut)))},xn=new WeakSet,Yr=function(){o(this,Nt)||this.render(),this.isVisible?o(this,Qt)&&o(this,Yt).classList.add("focused"):(o(this,Yt).hidden=!1,o(this,Yt).style.zIndex=parseInt(o(this,Yt).style.zIndex)+1e3)},Cn=new WeakSet,Kr=function(){o(this,Yt).classList.remove("focused"),!(o(this,Qt)||!this.isVisible)&&(o(this,Yt).hidden=!0,o(this,Yt).style.zIndex=parseInt(o(this,Yt).style.zIndex)-1e3)};class Ue extends ut{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Tt.data.textContent,this.textPosition=Tt.data.textPosition,this.annotationEditorType=n.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Tt=document.createElement("div");Tt.classList.add("annotationTextContent"),Tt.setAttribute("role","comment");for(const u of this.textContent){const Et=document.createElement("span");Et.textContent=u,Tt.append(Et)}this.container.append(Tt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=Ue;class xe extends ut{constructor(u){super(u,{isRenderable:!0,ignoreBorder:!0});kt(this,Ht,null)}render(){this.container.classList.add("lineAnnotation");const u=this.data,{width:Et,height:Ct}=vt(u.rect),Dt=this.svgFactory.create(Et,Ct,!0),zt=qt(this,Ht,this.svgFactory.createElement("svg:line"));return zt.setAttribute("x1",u.rect[2]-u.lineCoordinates[0]),zt.setAttribute("y1",u.rect[3]-u.lineCoordinates[1]),zt.setAttribute("x2",u.rect[2]-u.lineCoordinates[2]),zt.setAttribute("y2",u.rect[3]-u.lineCoordinates[3]),zt.setAttribute("stroke-width",u.borderStyle.width||1),zt.setAttribute("stroke","transparent"),zt.setAttribute("fill","transparent"),Dt.append(zt),this.container.append(Dt),!u.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,Ht)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ht=new WeakMap;class St extends ut{constructor(u){super(u,{isRenderable:!0,ignoreBorder:!0});kt(this,Bt,null)}render(){this.container.classList.add("squareAnnotation");const u=this.data,{width:Et,height:Ct}=vt(u.rect),Dt=this.svgFactory.create(Et,Ct,!0),zt=u.borderStyle.width,Zt=qt(this,Bt,this.svgFactory.createElement("svg:rect"));return Zt.setAttribute("x",zt/2),Zt.setAttribute("y",zt/2),Zt.setAttribute("width",Et-zt),Zt.setAttribute("height",Ct-zt),Zt.setAttribute("stroke-width",zt||1),Zt.setAttribute("stroke","transparent"),Zt.setAttribute("fill","transparent"),Dt.append(Zt),this.container.append(Dt),!u.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,Bt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bt=new WeakMap;class Pt extends ut{constructor(u){super(u,{isRenderable:!0,ignoreBorder:!0});kt(this,on,null)}render(){this.container.classList.add("circleAnnotation");const u=this.data,{width:Et,height:Ct}=vt(u.rect),Dt=this.svgFactory.create(Et,Ct,!0),zt=u.borderStyle.width,Zt=qt(this,on,this.svgFactory.createElement("svg:ellipse"));return Zt.setAttribute("cx",Et/2),Zt.setAttribute("cy",Ct/2),Zt.setAttribute("rx",Et/2-zt/2),Zt.setAttribute("ry",Ct/2-zt/2),Zt.setAttribute("stroke-width",zt||1),Zt.setAttribute("stroke","transparent"),Zt.setAttribute("fill","transparent"),Dt.append(Zt),this.container.append(Dt),!u.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,on)}addHighlightArea(){this.container.classList.add("highlightArea")}}on=new WeakMap;class gt extends ut{constructor(u){super(u,{isRenderable:!0,ignoreBorder:!0});kt(this,cn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const u=this.data,{width:Et,height:Ct}=vt(u.rect),Dt=this.svgFactory.create(Et,Ct,!0);let zt=[];for(const sn of u.vertices){const bn=sn.x-u.rect[0],mn=u.rect[3]-sn.y;zt.push(bn+","+mn)}zt=zt.join(" ");const Zt=qt(this,cn,this.svgFactory.createElement(this.svgElementName));return Zt.setAttribute("points",zt),Zt.setAttribute("stroke-width",u.borderStyle.width||1),Zt.setAttribute("stroke","transparent"),Zt.setAttribute("fill","transparent"),Dt.append(Zt),this.container.append(Dt),!u.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,cn)}addHighlightArea(){this.container.classList.add("highlightArea")}}cn=new WeakMap;class Ot extends gt{constructor(Tt){super(Tt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class It extends ut{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ft extends ut{constructor(u){super(u,{isRenderable:!0,ignoreBorder:!0});kt(this,Bn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=n.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const u=this.data,{width:Et,height:Ct}=vt(u.rect),Dt=this.svgFactory.create(Et,Ct,!0);for(const zt of u.inkLists){let Zt=[];for(const bn of zt){const mn=bn.x-u.rect[0],Dn=u.rect[3]-bn.y;Zt.push(`${mn},${Dn}`)}Zt=Zt.join(" ");const sn=this.svgFactory.createElement(this.svgElementName);o(this,Bn).push(sn),sn.setAttribute("points",Zt),sn.setAttribute("stroke-width",u.borderStyle.width||1),sn.setAttribute("stroke","transparent"),sn.setAttribute("fill","transparent"),!u.popupRef&&this.hasPopupData&&this._createPopup(),Dt.append(sn)}return this.container.append(Dt),this.container}getElementsToTriggerPopup(){return o(this,Bn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bn=new WeakMap,e.InkAnnotationElement=Ft;class Rt extends ut{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Lt extends ut{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class tn extends ut{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class rn extends ut{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Kt extends ut{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=Kt;class yt extends ut{constructor(u){var Dt;super(u,{isRenderable:!0});kt(this,Gt);kt(this,$n,null);const{filename:Et,content:Ct}=this.data.file;this.filename=(0,s.getFilenameFromUrl)(Et,!0),this.content=Ct,(Dt=this.linkService.eventBus)==null||Dt.dispatch("fileattachmentannotation",{source:this,filename:Et,content:Ct})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:u,data:Et}=this;let Ct;Et.hasAppearance||Et.fillAlpha===0?Ct=document.createElement("div"):(Ct=document.createElement("img"),Ct.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Et.name)?"paperclip":"pushpin"}.svg`,Et.fillAlpha&&Et.fillAlpha<1&&(Ct.style=`filter: opacity(${Math.round(Et.fillAlpha*100)}%);`)),Ct.addEventListener("dblclick",jt(this,Gt,Zr).bind(this)),qt(this,$n,Ct);const{isMac:Dt}=n.FeatureTest.platform;return u.addEventListener("keydown",zt=>{zt.key==="Enter"&&(Dt?zt.metaKey:zt.ctrlKey)&&jt(this,Gt,Zr).call(this)}),!Et.popupRef&&this.hasPopupData?this._createPopup():Ct.classList.add("popupTriggerArea"),u.append(Ct),u}getElementsToTriggerPopup(){return o(this,$n)}addHighlightArea(){this.container.classList.add("highlightArea")}}$n=new WeakMap,Gt=new WeakSet,Zr=function(){var u;(u=this.downloadManager)==null||u.openOrDownloadData(this.container,this.content,this.filename)};class l{constructor({div:Tt,accessibilityManager:u,annotationCanvasMap:Et,l10n:Ct,page:Dt,viewport:zt}){kt(this,Tn);kt(this,ln);kt(this,An,null);kt(this,gn,null);kt(this,Sn,new Map);this.div=Tt,qt(this,An,u),qt(this,gn,Et),this.l10n=Ct,this.page=Dt,this.viewport=zt,this.zIndex=0,this.l10n||(this.l10n=At.NullL10n)}async render(Tt){const{annotations:u}=Tt,Et=this.div;(0,s.setLayerDimensions)(Et,this.viewport);const Ct=new Map,Dt={data:null,layer:Et,linkService:Tt.linkService,downloadManager:Tt.downloadManager,imageResourcesPath:Tt.imageResourcesPath||"",renderForms:Tt.renderForms!==!1,svgFactory:new s.DOMSVGFactory,annotationStorage:Tt.annotationStorage||new g.AnnotationStorage,enableScripting:Tt.enableScripting===!0,hasJSActions:Tt.hasJSActions,fieldObjects:Tt.fieldObjects,parent:this,elements:null};for(const zt of u){if(zt.noHTML)continue;const Zt=zt.annotationType===n.AnnotationType.POPUP;if(Zt){const mn=Ct.get(zt.id);if(!mn)continue;Dt.elements=mn}else{const{width:mn,height:Dn}=vt(zt.rect);if(mn<=0||Dn<=0)continue}Dt.data=zt;const sn=dt.create(Dt);if(!sn.isRenderable)continue;if(!Zt&&zt.popupRef){const mn=Ct.get(zt.popupRef);mn?mn.push(sn):Ct.set(zt.popupRef,[sn])}sn.annotationEditorType>0&&o(this,Sn).set(sn.data.id,sn);const bn=sn.render();zt.hidden&&(bn.style.visibility="hidden"),jt(this,Tn,wi).call(this,bn,zt.id)}jt(this,ln,Jr).call(this),await this.l10n.translate(Et)}update({viewport:Tt}){const u=this.div;this.viewport=Tt,(0,s.setLayerDimensions)(u,{rotation:Tt.rotation}),jt(this,ln,Jr).call(this),u.hidden=!1}getEditableAnnotations(){return Array.from(o(this,Sn).values())}getEditableAnnotation(Tt){return o(this,Sn).get(Tt)}}An=new WeakMap,gn=new WeakMap,Sn=new WeakMap,Tn=new WeakSet,wi=function(Tt,u){var Ct;const Et=Tt.firstChild||Tt;Et.id=`${n.AnnotationPrefix}${u}`,this.div.append(Tt),(Ct=o(this,An))==null||Ct.moveElementInDOM(this.div,Tt,Et,!1)},ln=new WeakSet,Jr=function(){if(!o(this,gn))return;const Tt=this.div;for(const[u,Et]of o(this,gn)){const Ct=Tt.querySelector(`[data-annotation-id="${u}"]`);if(!Ct)continue;const{firstChild:Dt}=Ct;Dt?Dt.nodeName==="CANVAS"?Dt.replaceWith(Et):Dt.before(Et):Ct.append(Et)}o(this,gn).clear()},e.AnnotationLayer=l},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function i(g){return Math.floor(Math.max(0,Math.min(1,g))*255).toString(16).padStart(2,"0")}function n(g){return Math.max(0,Math.min(255,255*g))}class s{static CMYK_G([ae,At,m,S]){return["G",1-Math.min(1,.3*ae+.59*m+.11*At+S)]}static G_CMYK([ae]){return["CMYK",0,0,0,1-ae]}static G_RGB([ae]){return["RGB",ae,ae,ae]}static G_rgb([ae]){return ae=n(ae),[ae,ae,ae]}static G_HTML([ae]){const At=i(ae);return`#${At}${At}${At}`}static RGB_G([ae,At,m]){return["G",.3*ae+.59*At+.11*m]}static RGB_rgb(ae){return ae.map(n)}static RGB_HTML(ae){return`#${ae.map(i).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([ae,At,m,S]){return["RGB",1-Math.min(1,ae+S),1-Math.min(1,m+S),1-Math.min(1,At+S)]}static CMYK_rgb([ae,At,m,S]){return[n(1-Math.min(1,ae+S)),n(1-Math.min(1,m+S)),n(1-Math.min(1,At+S))]}static CMYK_HTML(ae){const At=this.CMYK_RGB(ae).slice(1);return this.RGB_HTML(At)}static RGB_CMYK([ae,At,m]){const S=1-ae,b=1-At,_t=1-m,vt=Math.min(S,b,_t);return["CMYK",S,b,_t,vt]}}e.ColorConverters=s},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=n;const i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};i.print_progress_percent="{{progress}}%";function n(ae,At){switch(ae){case"find_match_count":ae=`find_match_count[${At.total===1?"one":"other"}]`;break;case"find_match_count_limit":ae=`find_match_count_limit[${At.limit===1?"one":"other"}]`;break}return i[ae]||""}function s(ae,At){return At?ae.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(m,S)=>S in At?At[S]:"{{"+S+"}}"):ae}const g={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(ae,At=null,m=n(ae,At)){return s(m,At)},async translate(ae){}};e.NullL10n=g},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var n=i(25);class s{static setupStorage(ae,At,m,S,b){const _t=S.getValue(At,{value:null});switch(m.name){case"textarea":if(_t.value!==null&&(ae.textContent=_t.value),b==="print")break;ae.addEventListener("input",vt=>{S.setValue(At,{value:vt.target.value})});break;case"input":if(m.attributes.type==="radio"||m.attributes.type==="checkbox"){if(_t.value===m.attributes.xfaOn?ae.setAttribute("checked",!0):_t.value===m.attributes.xfaOff&&ae.removeAttribute("checked"),b==="print")break;ae.addEventListener("change",vt=>{S.setValue(At,{value:vt.target.checked?vt.target.getAttribute("xfaOn"):vt.target.getAttribute("xfaOff")})})}else{if(_t.value!==null&&ae.setAttribute("value",_t.value),b==="print")break;ae.addEventListener("input",vt=>{S.setValue(At,{value:vt.target.value})})}break;case"select":if(_t.value!==null){ae.setAttribute("value",_t.value);for(const vt of m.children)vt.attributes.value===_t.value?vt.attributes.selected=!0:vt.attributes.hasOwnProperty("selected")&&delete vt.attributes.selected}ae.addEventListener("input",vt=>{const dt=vt.target.options,ut=dt.selectedIndex===-1?"":dt[dt.selectedIndex].value;S.setValue(At,{value:ut})});break}}static setAttributes({html:ae,element:At,storage:m=null,intent:S,linkService:b}){const{attributes:_t}=At,vt=ae instanceof HTMLAnchorElement;_t.type==="radio"&&(_t.name=`${_t.name}-${S}`);for(const[dt,ut]of Object.entries(_t))if(ut!=null)switch(dt){case"class":ut.length&&ae.setAttribute(dt,ut.join(" "));break;case"dataId":break;case"id":ae.setAttribute("data-element-id",ut);break;case"style":Object.assign(ae.style,ut);break;case"textContent":ae.textContent=ut;break;default:(!vt||dt!=="href"&&dt!=="newWindow")&&ae.setAttribute(dt,ut)}vt&&b.addLinkAttributes(ae,_t.href,_t.newWindow),m&&_t.dataId&&this.setupStorage(ae,_t.dataId,At,m)}static render(ae){var at;const At=ae.annotationStorage,m=ae.linkService,S=ae.xfaHtml,b=ae.intent||"display",_t=document.createElement(S.name);S.attributes&&this.setAttributes({html:_t,element:S,intent:b,linkService:m});const vt=[[S,-1,_t]],dt=ae.div;if(dt.append(_t),ae.viewport){const je=`matrix(${ae.viewport.transform.join(",")})`;dt.style.transform=je}b!=="richText"&&dt.setAttribute("class","xfaLayer xfaFont");const ut=[];for(;vt.length>0;){const[je,Je,ht]=vt.at(-1);if(Je+1===je.children.length){vt.pop();continue}const bt=je.children[++vt.at(-1)[1]];if(bt===null)continue;const{name:ft}=bt;if(ft==="#text"){const w=document.createTextNode(bt.value);ut.push(w),ht.append(w);continue}const p=(at=bt==null?void 0:bt.attributes)!=null&&at.xmlns?document.createElementNS(bt.attributes.xmlns,ft):document.createElement(ft);if(ht.append(p),bt.attributes&&this.setAttributes({html:p,element:bt,storage:At,intent:b,linkService:m}),bt.children&&bt.children.length>0)vt.push([bt,-1,p]);else if(bt.value){const w=document.createTextNode(bt.value);n.XfaText.shouldBuildText(ft)&&ut.push(w),p.append(w)}}for(const je of dt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))je.setAttribute("readOnly",!0);return{textDivs:ut}}static update(ae){const At=`matrix(${ae.viewport.transform.join(",")})`;ae.div.style.transform=At,ae.div.hidden=!1}}e.XfaLayer=s},(t,e,i)=>{var S,b,_t,vt,dt,ut,at,je,Je,ht,bt,ft,p,w,mt,Pi,a,Ti,xe,Ci,Pt,Ri,Ot,Qr,Ft,ki,Lt,ei,rn,Fi,yt,Oi,h,Di,ie,Mi,lt,Li,wt,Vn,Mt,ti,Vt,yr,Yt,Er,vn,Qn,pn,ni,Nt,Ar,Xt,Ii,un,ri,Rn,Ni,Fn,ji,kn,ii,nn,xr,Bt,er;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var n=i(1),s=i(4),g=i(29),ae=i(6),At=i(5);const cn=class cn extends s.AnnotationEditor{constructor(Gt){super({...Gt,name:"inkEditor"});kt(this,mt);kt(this,a);kt(this,xe);kt(this,Pt);kt(this,Ot);kt(this,Ft);kt(this,Lt);kt(this,rn);kt(this,yt);kt(this,h);kt(this,ie);kt(this,lt);kt(this,wt);kt(this,Mt);kt(this,Vt);kt(this,Yt);kt(this,vn);kt(this,pn);kt(this,Nt);kt(this,Fn);kt(this,kn);kt(this,nn);kt(this,Bt);kt(this,S,0);kt(this,b,0);kt(this,_t,this.canvasPointermove.bind(this));kt(this,vt,this.canvasPointerleave.bind(this));kt(this,dt,this.canvasPointerup.bind(this));kt(this,ut,this.canvasPointerdown.bind(this));kt(this,at,new Path2D);kt(this,je,!1);kt(this,Je,!1);kt(this,ht,!1);kt(this,bt,null);kt(this,ft,0);kt(this,p,0);kt(this,w,null);this.color=Gt.color||null,this.thickness=Gt.thickness||null,this.opacity=Gt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Gt){s.AnnotationEditor.initialize(Gt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Gt,fn){switch(Gt){case n.AnnotationEditorParamsType.INK_THICKNESS:cn._defaultThickness=fn;break;case n.AnnotationEditorParamsType.INK_COLOR:cn._defaultColor=fn;break;case n.AnnotationEditorParamsType.INK_OPACITY:cn._defaultOpacity=fn/100;break}}updateParams(Gt,fn){switch(Gt){case n.AnnotationEditorParamsType.INK_THICKNESS:jt(this,mt,Pi).call(this,fn);break;case n.AnnotationEditorParamsType.INK_COLOR:jt(this,a,Ti).call(this,fn);break;case n.AnnotationEditorParamsType.INK_OPACITY:jt(this,xe,Ci).call(this,fn);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,cn._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,cn._defaultColor||s.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(cn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||cn._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||cn._defaultColor||s.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??cn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(jt(this,Vt,yr).call(this),jt(this,Yt,Er).call(this)),this.isAttachedToDOM||(this.parent.add(this),jt(this,vn,Qn).call(this)),jt(this,Bt,er).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,o(this,bt).disconnect(),qt(this,bt,null),super.remove())}setParent(Gt){!this.parent&&Gt?this._uiManager.removeShouldRescale(this):this.parent&&Gt===null&&this._uiManager.addShouldRescale(this),super.setParent(Gt)}onScaleChanging(){const[Gt,fn]=this.parentDimensions,An=this.width*Gt,gn=this.height*fn;this.setDimensions(An,gn)}enableEditMode(){o(this,je)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",o(this,ut)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",o(this,ut)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){o(this,je)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),qt(this,je,!0),this.div.classList.add("disabled"),jt(this,Bt,er).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Gt){this._focusEventsAllowed&&(super.focusin(Gt),this.enableEditMode())}canvasPointerdown(Gt){Gt.button!==0||!this.isInEditMode()||o(this,je)||(this.setInForeground(),Gt.preventDefault(),Gt.type!=="mouse"&&this.div.focus(),jt(this,Ft,ki).call(this,Gt.offsetX,Gt.offsetY))}canvasPointermove(Gt){Gt.preventDefault(),jt(this,Lt,ei).call(this,Gt.offsetX,Gt.offsetY)}canvasPointerup(Gt){Gt.preventDefault(),jt(this,Mt,ti).call(this,Gt)}canvasPointerleave(Gt){jt(this,Mt,ti).call(this,Gt)}get isResizable(){return!this.isEmpty()&&o(this,je)}render(){if(this.div)return this.div;let Gt,fn;this.width&&(Gt=this.x,fn=this.y),super.render(),s.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Nn=>{var ln;return(ln=this.div)==null?void 0:ln.setAttribute("aria-label",Nn)});const[An,gn,Sn,Tn]=jt(this,Pt,Ri).call(this);if(this.setAt(An,gn,0,0),this.setDims(Sn,Tn),jt(this,Vt,yr).call(this),this.width){const[Nn,ln]=this.parentDimensions;this.setAspectRatio(this.width*Nn,this.height*ln),this.setAt(Gt*Nn,fn*ln,this.width*Nn,this.height*ln),qt(this,ht,!0),jt(this,vn,Qn).call(this),this.setDims(this.width*Nn,this.height*ln),jt(this,wt,Vn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return jt(this,Yt,Er).call(this),this.div}setDimensions(Gt,fn){const An=Math.round(Gt),gn=Math.round(fn);if(o(this,ft)===An&&o(this,p)===gn)return;qt(this,ft,An),qt(this,p,gn),this.canvas.style.visibility="hidden";const[Sn,Tn]=this.parentDimensions;this.width=Gt/Sn,this.height=fn/Tn,this.fixAndSetPosition(),o(this,je)&&jt(this,pn,ni).call(this,Gt,fn),jt(this,vn,Qn).call(this),jt(this,wt,Vn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Gt,fn,An){var Dt,zt,Zt;if(Gt instanceof g.InkAnnotationElement)return null;const gn=super.deserialize(Gt,fn,An);gn.thickness=Gt.thickness,gn.color=n.Util.makeHexColor(...Gt.color),gn.opacity=Gt.opacity;const[Sn,Tn]=gn.pageDimensions,Nn=gn.width*Sn,ln=gn.height*Tn,Ln=gn.parentScale,En=Gt.thickness/2;qt(gn,je,!0),qt(gn,ft,Math.round(Nn)),qt(gn,p,Math.round(ln));const{paths:Tt,rect:u,rotation:Et}=Gt;for(let{bezier:sn}of Tt){sn=jt(Dt=cn,Rn,Ni).call(Dt,sn,u,Et);const bn=[];gn.paths.push(bn);let mn=Ln*(sn[0]-En),Dn=Ln*(sn[1]-En);for(let yn=2,On=sn.length;yn<On;yn+=6){const Mn=Ln*(sn[yn]-En),In=Ln*(sn[yn+1]-En),jn=Ln*(sn[yn+2]-En),zn=Ln*(sn[yn+3]-En),Wn=Ln*(sn[yn+4]-En),Hn=Ln*(sn[yn+5]-En);bn.push([[mn,Dn],[Mn,In],[jn,zn],[Wn,Hn]]),mn=Wn,Dn=Hn}const _n=jt(this,Xt,Ii).call(this,bn);gn.bezierPath2D.push(_n)}const Ct=jt(zt=gn,kn,ii).call(zt);return qt(gn,b,Math.max(s.AnnotationEditor.MIN_SIZE,Ct[2]-Ct[0])),qt(gn,S,Math.max(s.AnnotationEditor.MIN_SIZE,Ct[3]-Ct[1])),jt(Zt=gn,pn,ni).call(Zt,Nn,ln),gn}serialize(){if(this.isEmpty())return null;const Gt=this.getRect(0,0),fn=s.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:fn,thickness:this.thickness,opacity:this.opacity,paths:jt(this,Fn,ji).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Gt),pageIndex:this.pageIndex,rect:Gt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};S=new WeakMap,b=new WeakMap,_t=new WeakMap,vt=new WeakMap,dt=new WeakMap,ut=new WeakMap,at=new WeakMap,je=new WeakMap,Je=new WeakMap,ht=new WeakMap,bt=new WeakMap,ft=new WeakMap,p=new WeakMap,w=new WeakMap,mt=new WeakSet,Pi=function(Gt){const fn=this.thickness;this.addCommands({cmd:()=>{this.thickness=Gt,jt(this,Bt,er).call(this)},undo:()=>{this.thickness=fn,jt(this,Bt,er).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},a=new WeakSet,Ti=function(Gt){const fn=this.color;this.addCommands({cmd:()=>{this.color=Gt,jt(this,wt,Vn).call(this)},undo:()=>{this.color=fn,jt(this,wt,Vn).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},xe=new WeakSet,Ci=function(Gt){Gt/=100;const fn=this.opacity;this.addCommands({cmd:()=>{this.opacity=Gt,jt(this,wt,Vn).call(this)},undo:()=>{this.opacity=fn,jt(this,wt,Vn).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Pt=new WeakSet,Ri=function(){const{parentRotation:Gt,parentDimensions:[fn,An]}=this;switch(Gt){case 90:return[0,An,An,fn];case 180:return[fn,An,fn,An];case 270:return[fn,0,An,fn];default:return[0,0,fn,An]}},Ot=new WeakSet,Qr=function(){const{ctx:Gt,color:fn,opacity:An,thickness:gn,parentScale:Sn,scaleFactor:Tn}=this;Gt.lineWidth=gn*Sn/Tn,Gt.lineCap="round",Gt.lineJoin="round",Gt.miterLimit=10,Gt.strokeStyle=`${fn}${(0,At.opacityToHex)(An)}`},Ft=new WeakSet,ki=function(Gt,fn){this.canvas.addEventListener("contextmenu",ae.noContextMenu),this.canvas.addEventListener("pointerleave",o(this,vt)),this.canvas.addEventListener("pointermove",o(this,_t)),this.canvas.addEventListener("pointerup",o(this,dt)),this.canvas.removeEventListener("pointerdown",o(this,ut)),this.isEditing=!0,o(this,ht)||(qt(this,ht,!0),jt(this,vn,Qn).call(this),this.thickness||(this.thickness=cn._defaultThickness),this.color||(this.color=cn._defaultColor||s.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=cn._defaultOpacity)),this.currentPath.push([Gt,fn]),qt(this,Je,!1),jt(this,Ot,Qr).call(this),qt(this,w,()=>{jt(this,h,Di).call(this),o(this,w)&&window.requestAnimationFrame(o(this,w))}),window.requestAnimationFrame(o(this,w))},Lt=new WeakSet,ei=function(Gt,fn){const[An,gn]=this.currentPath.at(-1);if(this.currentPath.length>1&&Gt===An&&fn===gn)return;const Sn=this.currentPath;let Tn=o(this,at);if(Sn.push([Gt,fn]),qt(this,Je,!0),Sn.length<=2){Tn.moveTo(...Sn[0]),Tn.lineTo(Gt,fn);return}Sn.length===3&&(qt(this,at,Tn=new Path2D),Tn.moveTo(...Sn[0])),jt(this,ie,Mi).call(this,Tn,...Sn.at(-3),...Sn.at(-2),Gt,fn)},rn=new WeakSet,Fi=function(){if(this.currentPath.length===0)return;const Gt=this.currentPath.at(-1);o(this,at).lineTo(...Gt)},yt=new WeakSet,Oi=function(Gt,fn){qt(this,w,null),Gt=Math.min(Math.max(Gt,0),this.canvas.width),fn=Math.min(Math.max(fn,0),this.canvas.height),jt(this,Lt,ei).call(this,Gt,fn),jt(this,rn,Fi).call(this);let An;if(this.currentPath.length!==1)An=jt(this,lt,Li).call(this);else{const ln=[Gt,fn];An=[[ln,ln.slice(),ln.slice(),ln]]}const gn=o(this,at),Sn=this.currentPath;this.currentPath=[],qt(this,at,new Path2D);const Tn=()=>{this.allRawPaths.push(Sn),this.paths.push(An),this.bezierPath2D.push(gn),this.rebuild()},Nn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(jt(this,Vt,yr).call(this),jt(this,Yt,Er).call(this)),jt(this,Bt,er).call(this))};this.addCommands({cmd:Tn,undo:Nn,mustExec:!0})},h=new WeakSet,Di=function(){if(!o(this,Je))return;qt(this,Je,!1);const Gt=Math.ceil(this.thickness*this.parentScale),fn=this.currentPath.slice(-3),An=fn.map(Tn=>Tn[0]),gn=fn.map(Tn=>Tn[1]);Math.min(...An)-Gt,Math.max(...An)+Gt,Math.min(...gn)-Gt,Math.max(...gn)+Gt;const{ctx:Sn}=this;Sn.save(),Sn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Tn of this.bezierPath2D)Sn.stroke(Tn);Sn.stroke(o(this,at)),Sn.restore()},ie=new WeakSet,Mi=function(Gt,fn,An,gn,Sn,Tn,Nn){const ln=(fn+gn)/2,Ln=(An+Sn)/2,En=(gn+Tn)/2,Tt=(Sn+Nn)/2;Gt.bezierCurveTo(ln+2*(gn-ln)/3,Ln+2*(Sn-Ln)/3,En+2*(gn-En)/3,Tt+2*(Sn-Tt)/3,En,Tt)},lt=new WeakSet,Li=function(){const Gt=this.currentPath;if(Gt.length<=2)return[[Gt[0],Gt[0],Gt.at(-1),Gt.at(-1)]];const fn=[];let An,[gn,Sn]=Gt[0];for(An=1;An<Gt.length-2;An++){const[u,Et]=Gt[An],[Ct,Dt]=Gt[An+1],zt=(u+Ct)/2,Zt=(Et+Dt)/2,sn=[gn+2*(u-gn)/3,Sn+2*(Et-Sn)/3],bn=[zt+2*(u-zt)/3,Zt+2*(Et-Zt)/3];fn.push([[gn,Sn],sn,bn,[zt,Zt]]),[gn,Sn]=[zt,Zt]}const[Tn,Nn]=Gt[An],[ln,Ln]=Gt[An+1],En=[gn+2*(Tn-gn)/3,Sn+2*(Nn-Sn)/3],Tt=[ln+2*(Tn-ln)/3,Ln+2*(Nn-Ln)/3];return fn.push([[gn,Sn],En,Tt,[ln,Ln]]),fn},wt=new WeakSet,Vn=function(){if(this.isEmpty()){jt(this,Nt,Ar).call(this);return}jt(this,Ot,Qr).call(this);const{canvas:Gt,ctx:fn}=this;fn.setTransform(1,0,0,1,0,0),fn.clearRect(0,0,Gt.width,Gt.height),jt(this,Nt,Ar).call(this);for(const An of this.bezierPath2D)fn.stroke(An)},Mt=new WeakSet,ti=function(Gt){this.canvas.removeEventListener("pointerleave",o(this,vt)),this.canvas.removeEventListener("pointermove",o(this,_t)),this.canvas.removeEventListener("pointerup",o(this,dt)),this.canvas.addEventListener("pointerdown",o(this,ut)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",ae.noContextMenu)},10),jt(this,yt,Oi).call(this,Gt.offsetX,Gt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Vt=new WeakSet,yr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",s.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Gt=>{var fn;return(fn=this.canvas)==null?void 0:fn.setAttribute("aria-label",Gt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Yt=new WeakSet,Er=function(){qt(this,bt,new ResizeObserver(Gt=>{const fn=Gt[0].contentRect;fn.width&&fn.height&&this.setDimensions(fn.width,fn.height)})),o(this,bt).observe(this.div)},vn=new WeakSet,Qn=function(){if(!o(this,ht))return;const[Gt,fn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Gt),this.canvas.height=Math.ceil(this.height*fn),jt(this,Nt,Ar).call(this)},pn=new WeakSet,ni=function(Gt,fn){const An=jt(this,nn,xr).call(this),gn=(Gt-An)/o(this,b),Sn=(fn-An)/o(this,S);this.scaleFactor=Math.min(gn,Sn)},Nt=new WeakSet,Ar=function(){const Gt=jt(this,nn,xr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Gt,this.translationY*this.scaleFactor+Gt)},Xt=new WeakSet,Ii=function(Gt){const fn=new Path2D;for(let An=0,gn=Gt.length;An<gn;An++){const[Sn,Tn,Nn,ln]=Gt[An];An===0&&fn.moveTo(...Sn),fn.bezierCurveTo(Tn[0],Tn[1],Nn[0],Nn[1],ln[0],ln[1])}return fn},un=new WeakSet,ri=function(Gt,fn,An){const[gn,Sn,Tn,Nn]=fn;switch(An){case 0:for(let ln=0,Ln=Gt.length;ln<Ln;ln+=2)Gt[ln]+=gn,Gt[ln+1]=Nn-Gt[ln+1];break;case 90:for(let ln=0,Ln=Gt.length;ln<Ln;ln+=2){const En=Gt[ln];Gt[ln]=Gt[ln+1]+gn,Gt[ln+1]=En+Sn}break;case 180:for(let ln=0,Ln=Gt.length;ln<Ln;ln+=2)Gt[ln]=Tn-Gt[ln],Gt[ln+1]+=Sn;break;case 270:for(let ln=0,Ln=Gt.length;ln<Ln;ln+=2){const En=Gt[ln];Gt[ln]=Tn-Gt[ln+1],Gt[ln+1]=Nn-En}break;default:throw new Error("Invalid rotation")}return Gt},Rn=new WeakSet,Ni=function(Gt,fn,An){const[gn,Sn,Tn,Nn]=fn;switch(An){case 0:for(let ln=0,Ln=Gt.length;ln<Ln;ln+=2)Gt[ln]-=gn,Gt[ln+1]=Nn-Gt[ln+1];break;case 90:for(let ln=0,Ln=Gt.length;ln<Ln;ln+=2){const En=Gt[ln];Gt[ln]=Gt[ln+1]-Sn,Gt[ln+1]=En-gn}break;case 180:for(let ln=0,Ln=Gt.length;ln<Ln;ln+=2)Gt[ln]=Tn-Gt[ln],Gt[ln+1]-=Sn;break;case 270:for(let ln=0,Ln=Gt.length;ln<Ln;ln+=2){const En=Gt[ln];Gt[ln]=Nn-Gt[ln+1],Gt[ln+1]=Tn-En}break;default:throw new Error("Invalid rotation")}return Gt},Fn=new WeakSet,ji=function(Gt,fn,An,gn){var Ln,En;const Sn=[],Tn=this.thickness/2,Nn=Gt*fn+Tn,ln=Gt*An+Tn;for(const Tt of this.paths){const u=[],Et=[];for(let Ct=0,Dt=Tt.length;Ct<Dt;Ct++){const[zt,Zt,sn,bn]=Tt[Ct],mn=Gt*zt[0]+Nn,Dn=Gt*zt[1]+ln,_n=Gt*Zt[0]+Nn,yn=Gt*Zt[1]+ln,On=Gt*sn[0]+Nn,Mn=Gt*sn[1]+ln,In=Gt*bn[0]+Nn,jn=Gt*bn[1]+ln;Ct===0&&(u.push(mn,Dn),Et.push(mn,Dn)),u.push(_n,yn,On,Mn,In,jn),Et.push(_n,yn),Ct===Dt-1&&Et.push(In,jn)}Sn.push({bezier:jt(Ln=cn,un,ri).call(Ln,u,gn,this.rotation),points:jt(En=cn,un,ri).call(En,Et,gn,this.rotation)})}return Sn},kn=new WeakSet,ii=function(){let Gt=1/0,fn=-1/0,An=1/0,gn=-1/0;for(const Sn of this.paths)for(const[Tn,Nn,ln,Ln]of Sn){const En=n.Util.bezierBoundingBox(...Tn,...Nn,...ln,...Ln);Gt=Math.min(Gt,En[0]),An=Math.min(An,En[1]),fn=Math.max(fn,En[2]),gn=Math.max(gn,En[3])}return[Gt,An,fn,gn]},nn=new WeakSet,xr=function(){return o(this,je)?Math.ceil(this.thickness*this.parentScale):0},Bt=new WeakSet,er=function(Gt=!1){if(this.isEmpty())return;if(!o(this,je)){jt(this,wt,Vn).call(this);return}const fn=jt(this,kn,ii).call(this),An=jt(this,nn,xr).call(this);qt(this,b,Math.max(s.AnnotationEditor.MIN_SIZE,fn[2]-fn[0])),qt(this,S,Math.max(s.AnnotationEditor.MIN_SIZE,fn[3]-fn[1]));const gn=Math.ceil(An+o(this,b)*this.scaleFactor),Sn=Math.ceil(An+o(this,S)*this.scaleFactor),[Tn,Nn]=this.parentDimensions;this.width=gn/Tn,this.height=Sn/Nn,this.setAspectRatio(gn,Sn);const ln=this.translationX,Ln=this.translationY;this.translationX=-fn[0],this.translationY=-fn[1],jt(this,vn,Qn).call(this),jt(this,wt,Vn).call(this),qt(this,ft,gn),qt(this,p,Sn),this.setDims(gn,Sn);const En=Gt?An/this.scaleFactor/2:0;this.translate(ln-this.translationX-En,Ln-this.translationY-En)},kt(cn,Xt),kt(cn,un),kt(cn,Rn),Un(cn,"_defaultColor",null),Un(cn,"_defaultOpacity",1),Un(cn,"_defaultThickness",1),Un(cn,"_type","ink");let m=cn;e.InkEditor=m},(t,e,i)=>{var m,S,b,_t,vt,dt,ut,at,je,Je,ht,cr,ft,ur,w,Sr,d,si,Ue,$i,St,Bi,gt,ai,It,wr,Rt,Ui;Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var n=i(1),s=i(4),g=i(6),ae=i(29);const tn=class tn extends s.AnnotationEditor{constructor(yt){super({...yt,name:"stampEditor"});kt(this,ht);kt(this,ft);kt(this,w);kt(this,d);kt(this,Ue);kt(this,St);kt(this,gt);kt(this,It);kt(this,Rt);kt(this,m,null);kt(this,S,null);kt(this,b,null);kt(this,_t,null);kt(this,vt,null);kt(this,dt,null);kt(this,ut,null);kt(this,at,null);kt(this,je,!1);kt(this,Je,!1);qt(this,_t,yt.bitmapUrl),qt(this,vt,yt.bitmapFile)}static initialize(yt){s.AnnotationEditor.initialize(yt)}static get supportedTypes(){const yt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,n.shadow)(this,"supportedTypes",yt.map(l=>`image/${l}`))}static get supportedTypesStr(){return(0,n.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(yt){return this.supportedTypes.includes(yt)}static paste(yt,l){l.pasteEditor(n.AnnotationEditorType.STAMP,{bitmapFile:yt.getAsFile()})}remove(){var yt,l;o(this,S)&&(qt(this,m,null),this._uiManager.imageManager.deleteId(o(this,S)),(yt=o(this,dt))==null||yt.remove(),qt(this,dt,null),(l=o(this,ut))==null||l.disconnect(),qt(this,ut,null)),super.remove()}rebuild(){if(!this.parent){o(this,S)&&jt(this,w,Sr).call(this);return}super.rebuild(),this.div!==null&&(o(this,S)&&jt(this,w,Sr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(o(this,b)||o(this,m)||o(this,_t)||o(this,vt))}get isResizable(){return!0}render(){if(this.div)return this.div;let yt,l;if(this.width&&(yt=this.x,l=this.y),super.render(),this.div.hidden=!0,o(this,m)?jt(this,d,si).call(this):jt(this,w,Sr).call(this),this.width){const[h,c]=this.parentDimensions;this.setAt(yt*h,l*c,this.width*h,this.height*c)}return this.div}static deserialize(yt,l,h){if(yt instanceof ae.StampAnnotationElement)return null;const c=super.deserialize(yt,l,h),{rect:ie,bitmapUrl:Fe,bitmapId:lt,isSvg:xt,accessibilityData:wt}=yt;lt&&h.imageManager.isValidId(lt)?qt(c,S,lt):qt(c,_t,Fe),qt(c,je,xt);const[Ut,Mt]=c.pageDimensions;return c.width=(ie[2]-ie[0])/Ut,c.height=(ie[3]-ie[1])/Mt,wt&&(c.altTextData=wt),c}serialize(yt=!1,l=null){if(this.isEmpty())return null;const h={annotationType:n.AnnotationEditorType.STAMP,bitmapId:o(this,S),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:o(this,je),structTreeParentId:this._structTreeParentId};if(yt)return h.bitmapUrl=jt(this,It,wr).call(this,!0),h.accessibilityData=this.altTextData,h;const{decorative:c,altText:ie}=this.altTextData;if(!c&&ie&&(h.accessibilityData={type:"Figure",alt:ie}),l===null)return h;l.stamps||(l.stamps=new Map);const Fe=o(this,je)?(h.rect[2]-h.rect[0])*(h.rect[3]-h.rect[1]):null;if(!l.stamps.has(o(this,S)))l.stamps.set(o(this,S),{area:Fe,serialized:h}),h.bitmap=jt(this,It,wr).call(this,!1);else if(o(this,je)){const lt=l.stamps.get(o(this,S));Fe>lt.area&&(lt.area=Fe,lt.serialized.bitmap.close(),lt.serialized.bitmap=jt(this,It,wr).call(this,!1))}return h}};m=new WeakMap,S=new WeakMap,b=new WeakMap,_t=new WeakMap,vt=new WeakMap,dt=new WeakMap,ut=new WeakMap,at=new WeakMap,je=new WeakMap,Je=new WeakMap,ht=new WeakSet,cr=function(yt,l=!1){if(!yt){this.remove();return}qt(this,m,yt.bitmap),l||(qt(this,S,yt.id),qt(this,je,yt.isSvg)),jt(this,d,si).call(this)},ft=new WeakSet,ur=function(){qt(this,b,null),this._uiManager.enableWaiting(!1),o(this,dt)&&this.div.focus()},w=new WeakSet,Sr=function(){if(o(this,S)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(o(this,S)).then(l=>jt(this,ht,cr).call(this,l,!0)).finally(()=>jt(this,ft,ur).call(this));return}if(o(this,_t)){const l=o(this,_t);qt(this,_t,null),this._uiManager.enableWaiting(!0),qt(this,b,this._uiManager.imageManager.getFromUrl(l).then(h=>jt(this,ht,cr).call(this,h)).finally(()=>jt(this,ft,ur).call(this)));return}if(o(this,vt)){const l=o(this,vt);qt(this,vt,null),this._uiManager.enableWaiting(!0),qt(this,b,this._uiManager.imageManager.getFromFile(l).then(h=>jt(this,ht,cr).call(this,h)).finally(()=>jt(this,ft,ur).call(this)));return}const yt=document.createElement("input");yt.type="file",yt.accept=tn.supportedTypesStr,qt(this,b,new Promise(l=>{yt.addEventListener("change",async()=>{if(!yt.files||yt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const h=await this._uiManager.imageManager.getFromFile(yt.files[0]);jt(this,ht,cr).call(this,h)}l()}),yt.addEventListener("cancel",()=>{this.remove(),l()})}).finally(()=>jt(this,ft,ur).call(this))),yt.click()},d=new WeakSet,si=function(){const{div:yt}=this;let{width:l,height:h}=o(this,m);const[c,ie]=this.pageDimensions,Fe=.75;if(this.width)l=this.width*c,h=this.height*ie;else if(l>Fe*c||h>Fe*ie){const Ut=Math.min(Fe*c/l,Fe*ie/h);l*=Ut,h*=Ut}const[lt,xt]=this.parentDimensions;this.setDims(l*lt/c,h*xt/ie),this._uiManager.enableWaiting(!1);const wt=qt(this,dt,document.createElement("canvas"));yt.append(wt),yt.hidden=!1,jt(this,gt,ai).call(this,l,h),jt(this,Rt,Ui).call(this),o(this,Je)||(this.parent.addUndoableEditor(this),qt(this,Je,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Ue=new WeakSet,$i=function(yt,l){var Fe;const[h,c]=this.parentDimensions;this.width=yt/h,this.height=l/c,this.setDims(yt,l),(Fe=this._initialOptions)!=null&&Fe.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,o(this,at)!==null&&clearTimeout(o(this,at)),qt(this,at,setTimeout(()=>{qt(this,at,null),jt(this,gt,ai).call(this,yt,l)},200))},St=new WeakSet,Bi=function(yt,l){const{width:h,height:c}=o(this,m);let ie=h,Fe=c,lt=o(this,m);for(;ie>2*yt||Fe>2*l;){const xt=ie,wt=Fe;ie>2*yt&&(ie=ie>=16384?Math.floor(ie/2)-1:Math.ceil(ie/2)),Fe>2*l&&(Fe=Fe>=16384?Math.floor(Fe/2)-1:Math.ceil(Fe/2));const Ut=new OffscreenCanvas(ie,Fe);Ut.getContext("2d").drawImage(lt,0,0,xt,wt,0,0,ie,Fe),lt=Ut.transferToImageBitmap()}return lt},gt=new WeakSet,ai=function(yt,l){yt=Math.ceil(yt),l=Math.ceil(l);const h=o(this,dt);if(!h||h.width===yt&&h.height===l)return;h.width=yt,h.height=l;const c=o(this,je)?o(this,m):jt(this,St,Bi).call(this,yt,l),ie=h.getContext("2d");ie.filter=this._uiManager.hcmFilter,ie.drawImage(c,0,0,c.width,c.height,0,0,yt,l)},It=new WeakSet,wr=function(yt){if(yt){if(o(this,je)){const c=this._uiManager.imageManager.getSvgUrl(o(this,S));if(c)return c}const l=document.createElement("canvas");return{width:l.width,height:l.height}=o(this,m),l.getContext("2d").drawImage(o(this,m),0,0),l.toDataURL()}if(o(this,je)){const[l,h]=this.pageDimensions,c=Math.round(this.width*l*g.PixelsPerInch.PDF_TO_CSS_UNITS),ie=Math.round(this.height*h*g.PixelsPerInch.PDF_TO_CSS_UNITS),Fe=new OffscreenCanvas(c,ie);return Fe.getContext("2d").drawImage(o(this,m),0,0,o(this,m).width,o(this,m).height,0,0,c,ie),Fe.transferToImageBitmap()}return structuredClone(o(this,m))},Rt=new WeakSet,Ui=function(){qt(this,ut,new ResizeObserver(yt=>{const l=yt[0].contentRect;l.width&&l.height&&jt(this,Ue,$i).call(this,l.width,l.height)})),o(this,ut).observe(this.div)},Un(tn,"_type","stamp");let At=tn;e.StampEditor=At}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var i=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return g.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return ae.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return At.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"DOMSVGFactory",{enumerable:!0,get:function(){return n.DOMSVGFactory}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return m.GlobalWorkerOptions}}),Object.defineProperty(t,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(t,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return S.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return n.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(t,"noContextMenu",{enumerable:!0,get:function(){return n.noContextMenu}}),Object.defineProperty(t,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return n.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return s.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return i.version}});var e=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),n=__w_pdfjs_require__(6),s=__w_pdfjs_require__(26),g=__w_pdfjs_require__(27),ae=__w_pdfjs_require__(5),At=__w_pdfjs_require__(29),m=__w_pdfjs_require__(14),S=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule,pdfjs$1=pdfjs;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function t(n,s,g,ae,At,m){if(m!==ReactPropTypesSecret){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return i.PropTypes=i,i};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=globalThis&&globalThis.__spreadArray||function(t,e,i){if(i||arguments.length===2)for(var n=0,s=e.length,g;n<s;n++)(g||!(n in e))&&(g||(g=Array.prototype.slice.call(e,0,n)),g[n]=e[n]);return t.concat(g||Array.prototype.slice.call(e))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(t,e){var i={};return allEvents.forEach(function(n){var s=t[n];s&&(e?i[n]=function(g){return s(g,e(n))}:i[n]=s)}),i}function makeCancellablePromise(t){var e=!1,i=new Promise(function(n,s){t.then(function(g){return!e&&n(g)}).catch(function(g){return!e&&s(g)})});return{promise:i,cancel:function(){e=!0}}}function r(t){var e,i,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(i=r(t[e]))&&(n&&(n+=" "),n+=i);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function clsx(){for(var t,e,i=0,n="";i<arguments.length;)(t=arguments[i++])&&(e=r(t))&&(n&&(n+=" "),n+=e);return n}var isProduction=!0,prefix="Invariant failed";function invariant(t,e){if(!t){if(isProduction)throw new Error(prefix);var i=typeof e=="function"?e():e,n=i?"".concat(prefix,": ").concat(i):prefix;throw new Error(n)}}function warning(t,e){}const DocumentContext=reactExports.createContext(null);function Message({children:t,type:e}){return React.createElement("div",{className:`react-pdf__message react-pdf__message--${e}`},t)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(i=>{invariant(this.pdfDocument,"PDF document not loaded."),invariant(e,"Destination is not specified."),typeof e=="string"?this.pdfDocument.getDestination(e).then(i):Array.isArray(e)?i(e):e.then(i)}).then(i=>{invariant(Array.isArray(i),`"${i}" is not a valid destination array.`);const n=i[0];new Promise(s=>{invariant(this.pdfDocument,"PDF document not loaded."),n instanceof Object?this.pdfDocument.getPageIndex(n).then(g=>{s(g)}).catch(()=>{invariant(!1,`"${n}" is not a valid page reference.`)}):typeof n=="number"?s(n):invariant(!1,`"${n}" is not a valid destination reference.`)}).then(s=>{const g=s+1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(g>=1&&g<=this.pagesCount,`"${g}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:i,pageIndex:s,pageNumber:g})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const i=e-1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:i,pageNumber:e})}addLinkAttributes(e,i,n){e.href=i,e.rel=this.externalLinkRel||DEFAULT_LINK_REL,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PasswordResponses$1=PasswordResponses,isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(t){return typeof t<"u"}function isProvided(t){return isDefined(t)&&t!==null}function isString(t){return typeof t=="string"}function isArrayBuffer(t){return t instanceof ArrayBuffer}function isBlob(t){return invariant(isBrowser,"isBlob can only be used in a browser environment"),t instanceof Blob}function isDataURI(t){return isString(t)&&/^data:/.test(t)}function dataURItoByteString(t){invariant(isDataURI(t),"Invalid data URI.");const[e="",i=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(i):unescape(i)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}function displayWorkerWarning(){}function cancelRunningTask(t){t&&t.cancel&&t.cancel()}function makePageCallback(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function isCancelException(t){return t.name==="RenderingCancelledException"}function loadFromFile(t){return new Promise((e,i)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return i(new Error("Error while reading a file."));e(n.result)},n.onerror=s=>{if(!s.target)return i(new Error("Error while reading a file."));const{error:g}=s.target;if(!g)return i(new Error("Error while reading a file."));switch(g.code){case g.NOT_FOUND_ERR:return i(new Error("Error while reading a file: File not found."));case g.SECURITY_ERR:return i(new Error("Error while reading a file: Security error."));case g.ABORT_ERR:return i(new Error("Error while reading a file: Aborted."));default:return i(new Error("Error while reading a file."))}},n.readAsArrayBuffer(t)})}function reducer$1(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function useResolver(){return reactExports.useReducer(reducer$1,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs$1,eventProps=(()=>{const t={};return allEvents.forEach(e=>{t[e]=PropTypes.func}),t})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function t(e,i,n){const{[i]:s,pageNumber:g,pdf:ae}=e;if(!isDefined(ae))return null;if(isDefined(s)){if(typeof s!="number")return new Error(`\`${i}\` of type \`${typeof s}\` supplied to \`${n}\`, expected \`number\`.`);if(s<0)return new Error(`Expected \`${i}\` to be greater or equal to 0.`);const{numPages:At}=ae;if(s+1>At)return new Error(`Expected \`${i}\` to be less or equal to ${At-1}.`)}else if(!isDefined(g))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${n}\`.`);return null},isPageNumber=function t(e,i,n){const{[i]:s,pageIndex:g,pdf:ae}=e;if(!isDefined(ae))return null;if(isDefined(s)){if(typeof s!="number")return new Error(`\`${i}\` of type \`${typeof s}\` supplied to \`${n}\`, expected \`number\`.`);if(s<1)return new Error(`Expected \`${i}\` to be greater or equal to 1.`);const{numPages:At}=ae;if(s>At)return new Error(`Expected \`${i}\` to be less or equal to ${At}.`)}else if(!isDefined(g))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${n}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=globalThis&&globalThis.__awaiter||function(t,e,i,n){function s(g){return g instanceof i?g:new i(function(ae){ae(g)})}return new(i||(i=Promise))(function(g,ae){function At(b){try{S(n.next(b))}catch(_t){ae(_t)}}function m(b){try{S(n.throw(b))}catch(_t){ae(_t)}}function S(b){b.done?g(b.value):s(b.value).then(At,m)}S((n=n.apply(t,e||[])).next())})},__rest$1=globalThis&&globalThis.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]]);return i};const{PDFDataRangeTransport}=pdfjs$1,defaultOnPassword=(t,e)=>{switch(e){case PasswordResponses$1.NEED_PASSWORD:{const i=prompt("Enter the password to open this PDF file.");t(i);break}case PasswordResponses$1.INCORRECT_PASSWORD:{const i=prompt("Invalid password. Please try again.");t(i);break}}},Document=reactExports.forwardRef(function t(e,i){var{children:n,className:s,error:g="Failed to load PDF file.",externalLinkRel:ae,externalLinkTarget:At,file:m,inputRef:S,imageResourcesPath:b,loading:_t="Loading PDF…",noData:vt="No PDF file specified.",onItemClick:dt,onLoadError:ut,onLoadProgress:at,onLoadSuccess:je,onPassword:Je=defaultOnPassword,onSourceError:ht,onSourceSuccess:bt,options:ft,renderMode:p,rotate:w}=e,mt=__rest$1(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[d,a]=useResolver(),{value:Ue,error:xe}=d,[St,Pt]=useResolver(),{value:gt,error:Ot}=St,It=reactExports.useRef(new LinkService),Ft=reactExports.useRef([]),Rt=reactExports.useRef({scrollPageIntoView:$t=>{const{dest:Vt,pageNumber:Jt,pageIndex:Yt=Jt-1}=$t;if(dt){dt({dest:Vt,pageIndex:Yt,pageNumber:Jt});return}const hn=Ft.current[Yt];if(hn){hn.scrollIntoView();return}}});reactExports.useImperativeHandle(i,()=>({linkService:It,pages:Ft,viewer:Rt}),[]);function Lt(){bt&&bt()}function tn(){xe&&(xe.toString(),ht&&ht(xe))}function rn(){a({type:"RESET"})}reactExports.useEffect(rn,[m,a]);const Kt=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!m)return null;if(typeof m=="string")return isDataURI(m)?{data:dataURItoByteString(m)}:{url:m};if(m instanceof PDFDataRangeTransport)return{range:m};if(isArrayBuffer(m))return{data:m};if(isBrowser&&isBlob(m))return{data:yield loadFromFile(m)};if(invariant(typeof m=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant("data"in m||"range"in m||"url"in m,"Invalid parameter object: need either .data, .range or .url"),"url"in m&&typeof m.url=="string"&&isDataURI(m.url)){const{url:$t}=m,Vt=__rest$1(m,["url"]),Jt=dataURItoByteString($t);return Object.assign({data:Jt},Vt)}return m}),[m]);reactExports.useEffect(()=>{const $t=makeCancellablePromise(Kt());return $t.promise.then(Vt=>{a({type:"RESOLVE",value:Vt})}).catch(Vt=>{a({type:"REJECT",error:Vt})}),()=>{cancelRunningTask($t)}},[Kt,a]),reactExports.useEffect(()=>{if(!(typeof Ue>"u")){if(Ue===!1){tn();return}Lt()}},[Ue]);function yt(){gt&&(je&&je(gt),Ft.current=new Array(gt.numPages),It.current.setDocument(gt))}function l(){Ot&&(Ot.toString(),ut&&ut(Ot))}function h(){Pt({type:"RESET"})}reactExports.useEffect(h,[Pt,Ue]);function c(){if(!Ue)return;const $t=ft?Object.assign(Object.assign({},Ue),ft):Ue,Vt=pdfjs$1.getDocument($t);at&&(Vt.onProgress=at),Je&&(Vt.onPassword=Je);const Jt=Vt;return Jt.promise.then(Yt=>{Pt({type:"RESOLVE",value:Yt})}).catch(Yt=>{Jt.destroyed||Pt({type:"REJECT",error:Yt})}),()=>{Jt.destroy()}}reactExports.useEffect(c,[ft,Pt,Ue]),reactExports.useEffect(()=>{if(!(typeof gt>"u")){if(gt===!1){l();return}yt()}},[gt]);function ie(){It.current.setViewer(Rt.current),It.current.setExternalLinkRel(ae),It.current.setExternalLinkTarget(At)}reactExports.useEffect(ie,[ae,At]);function Fe($t,Vt){Ft.current[$t]=Vt}function lt($t){delete Ft.current[$t]}const xt=reactExports.useMemo(()=>({imageResourcesPath:b,linkService:It.current,onItemClick:dt,pdf:gt,registerPage:Fe,renderMode:p,rotate:w,unregisterPage:lt}),[b,dt,gt,p,w]),wt=reactExports.useMemo(()=>makeEventProps(mt,()=>gt),[mt,gt]);function Ut(){return React.createElement(DocumentContext.Provider,{value:xt},n)}function Mt(){return m?gt==null?React.createElement(Message,{type:"loading"},typeof _t=="function"?_t():_t):gt===!1?React.createElement(Message,{type:"error"},typeof g=="function"?g():g):Ut():React.createElement(Message,{type:"no-data"},typeof vt=="function"?vt():vt)}return React.createElement("div",Object.assign({className:clsx("react-pdf__Document",s),ref:S,style:{"--scale-factor":"1"}},wt),Mt())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});const Document$1=Document;function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.filter(Boolean);if(i.length<=1){var n=i[0];return n||null}return function(g){i.forEach(function(ae){typeof ae=="function"?ae(g):ae&&(ae.current=g)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(t){return t in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(t){return"children"in t}function isStructTreeNodeWithOnlyContentChild(t){return isStructTreeNode(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function getRoleAttributes(t){const e={};if(isStructTreeNode(t)){const{role:i}=t,n=i.match(HEADING_PATTERN);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(isPdfRole(i)){const s=PDF_ROLE_TO_HTML_ROLE[i];s&&(e.role=s)}}return e}function getBaseAttributes(t){const e={};if(isStructTreeNode(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),isStructTreeNodeWithOnlyContentChild(t)){const[i]=t.children;if(i){const n=getBaseAttributes(i);return Object.assign(Object.assign({},e),n)}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function getAttributes(t){return t?Object.assign(Object.assign({},getRoleAttributes(t)),getBaseAttributes(t)):null}function StructTreeItem({className:t,node:e}){const i=reactExports.useMemo(()=>getAttributes(e),[e]),n=reactExports.useMemo(()=>!isStructTreeNode(e)||isStructTreeNodeWithOnlyContentChild(e)?null:e.children.map((s,g)=>React.createElement(StructTreeItem,{key:g,node:s})),[e]);return React.createElement("span",Object.assign({className:t},i),n)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const t=usePageContext();invariant(t,"Unable to find Page context.");const{onGetStructTreeError:e,onGetStructTreeSuccess:i}=t,[n,s]=useResolver(),{value:g,error:ae}=n,{customTextRenderer:At,page:m}=t;function S(){g&&i&&i(g)}function b(){ae&&(ae.toString(),e&&e(ae))}function _t(){s({type:"RESET"})}reactExports.useEffect(_t,[s,m]);function vt(){if(At||!m)return;const dt=makeCancellablePromise(m.getStructTree()),ut=dt;return dt.promise.then(at=>{s({type:"RESOLVE",value:at})}).catch(at=>{s({type:"REJECT",error:at})}),()=>cancelRunningTask(ut)}return reactExports.useEffect(vt,[At,m,s]),reactExports.useEffect(()=>{if(g!==void 0){if(g===!1){b();return}S()}},[g]),g?React.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:g}):null}const ANNOTATION_MODE=pdfjs$1.AnnotationMode;function PageCanvas(t){const e=usePageContext();invariant(e,"Unable to find Page context.");const i=Object.assign(Object.assign({},e),t),{_className:n,canvasBackground:s,devicePixelRatio:g=getDevicePixelRatio(),onRenderError:ae,onRenderSuccess:At,page:m,renderForms:S,renderTextLayer:b,rotate:_t,scale:vt}=i,{canvasRef:dt}=t;invariant(m,"Attempted to render page canvas, but no page was specified.");const ut=reactExports.useRef(null);function at(){m&&At&&At(makePageCallback(m,vt))}function je(p){isCancelException(p)||(p.toString(),ae&&ae(p))}const Je=reactExports.useMemo(()=>m.getViewport({scale:vt*g,rotation:_t}),[g,m,_t,vt]),ht=reactExports.useMemo(()=>m.getViewport({scale:vt,rotation:_t}),[m,_t,vt]);function bt(){if(!m)return;m.cleanup();const{current:p}=ut;if(!p)return;p.width=Je.width,p.height=Je.height,p.style.width=`${Math.floor(ht.width)}px`,p.style.height=`${Math.floor(ht.height)}px`,p.style.visibility="hidden";const w={annotationMode:S?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:p.getContext("2d",{alpha:!1}),viewport:Je};s&&(w.background=s);const mt=m.render(w),d=mt;return mt.promise.then(()=>{p.style.visibility="",at()}).catch(je),()=>cancelRunningTask(d)}reactExports.useEffect(bt,[s,ut,g,m,S,Je,ht]);const ft=reactExports.useCallback(()=>{const{current:p}=ut;p&&(p.width=0,p.height=0)},[ut]);return reactExports.useEffect(()=>ft,[ft]),React.createElement("canvas",{className:`${n}__canvas`,dir:"ltr",ref:mergeRefs(dt,ut),style:{display:"block",userSelect:"none"}},b?React.createElement(StructTree,null):null)}function PageSVG(){const t=usePageContext();invariant(t,"Unable to find Page context.");const{_className:e,onRenderSuccess:i,onRenderError:n,page:s,rotate:g,scale:ae}=t;invariant(s,"Attempted to render page SVG, but no page was specified.");const[At,m]=useResolver(),{value:S,error:b}=At;function _t(){s&&i&&i(makePageCallback(s,ae))}function vt(){b&&(isCancelException(b)||(b.toString(),n&&n(b)))}const dt=reactExports.useMemo(()=>s.getViewport({scale:ae,rotation:g}),[s,g,ae]);function ut(){m({type:"RESET"})}reactExports.useEffect(ut,[s,m,dt]);function at(){if(!s)return;const bt=makeCancellablePromise(s.getOperatorList());return bt.promise.then(ft=>{new pdfjs$1.SVGGraphics(s.commonObjs,s.objs).getSVG(ft,dt).then(w=>{if(!(w instanceof SVGElement))throw new Error("getSVG returned unexpected result.");m({type:"RESOLVE",value:w})}).catch(w=>{m({type:"REJECT",error:w})})}).catch(ft=>{m({type:"REJECT",error:ft})}),()=>cancelRunningTask(bt)}reactExports.useEffect(at,[s,m,dt]),reactExports.useEffect(()=>{if(S!==void 0){if(S===!1){vt();return}_t()}},[S]);function je(bt){if(!bt||!S)return;bt.firstElementChild||bt.appendChild(S);const{width:ft,height:p}=dt;S.setAttribute("width",`${ft}`),S.setAttribute("height",`${p}`)}const{width:Je,height:ht}=dt;return React.createElement("div",{className:`${e}__svg`,ref:bt=>je(bt),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:Je,height:ht,userSelect:"none"}})}function isTextItem(t){return"str"in t}function TextLayer(){const t=usePageContext();invariant(t,"Unable to find Page context.");const{customTextRenderer:e,onGetTextError:i,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:g,page:ae,pageIndex:At,pageNumber:m,rotate:S,scale:b}=t;invariant(ae,"Attempted to load page text content, but no page was specified.");const[_t,vt]=useResolver(),{value:dt,error:ut}=_t,at=reactExports.useRef(null),je=reactExports.useRef();parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10);function Je(){dt&&n&&n(dt)}function ht(){ut&&(ut.toString(),i&&i(ut))}function bt(){vt({type:"RESET"})}reactExports.useEffect(bt,[ae,vt]);function ft(){if(!ae)return;const xe=makeCancellablePromise(ae.getTextContent()),St=xe;return xe.promise.then(Pt=>{vt({type:"RESOLVE",value:Pt})}).catch(Pt=>{vt({type:"REJECT",error:Pt})}),()=>cancelRunningTask(St)}reactExports.useEffect(ft,[ae,vt]),reactExports.useEffect(()=>{if(dt!==void 0){if(dt===!1){ht();return}Je()}},[dt]);const p=reactExports.useCallback(()=>{g&&g()},[g]),w=reactExports.useCallback(xe=>{xe.toString(),s&&s(xe)},[s]);function mt(){const xe=je.current;xe&&xe.classList.add("active")}function d(){const xe=je.current;xe&&xe.classList.remove("active")}const a=reactExports.useMemo(()=>ae.getViewport({scale:b,rotation:S}),[ae,S,b]);function Ue(){if(!ae||!dt)return;const{current:xe}=at;if(!xe)return;xe.innerHTML="";const St=ae.streamTextContent({includeMarkedContent:!0}),Pt={container:xe,textContentSource:St,viewport:a},gt=pdfjs$1.renderTextLayer(Pt),Ot=gt;return gt.promise.then(()=>{const It=document.createElement("div");It.className="endOfContent",xe.append(It),je.current=It;const Ft=xe.querySelectorAll('[role="presentation"]');if(e){let Rt=0;dt.items.forEach((Lt,tn)=>{if(!isTextItem(Lt))return;const rn=Ft[Rt];if(!rn)return;const Kt=e(Object.assign({pageIndex:At,pageNumber:m,itemIndex:tn},Lt));rn.innerHTML=Kt,Rt+=Lt.str&&Lt.hasEOL?2:1})}p()}).catch(w),()=>cancelRunningTask(Ot)}return reactExports.useLayoutEffect(Ue,[e,w,p,ae,At,m,dt,a]),React.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:d,onMouseDown:mt,ref:at})}function AnnotationLayer(){const t=useDocumentContext();invariant(t,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const e=usePageContext();invariant(e,"Unable to find Page context.");const i=Object.assign(Object.assign({},t),e),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:g,onGetAnnotationsSuccess:ae,onRenderAnnotationLayerError:At,onRenderAnnotationLayerSuccess:m,page:S,pdf:b,renderForms:_t,rotate:vt,scale:dt=1}=i;invariant(S,"Attempted to load page annotations, but no page was specified.");const[ut,at]=useResolver(),{value:je,error:Je}=ut,ht=reactExports.useRef(null);parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10);function bt(){je&&ae&&ae(je)}function ft(){Je&&(Je.toString(),g&&g(Je))}function p(){at({type:"RESET"})}reactExports.useEffect(p,[at,S]);function w(){if(!S)return;const xe=makeCancellablePromise(S.getAnnotations()),St=xe;return xe.promise.then(Pt=>{at({type:"RESOLVE",value:Pt})}).catch(Pt=>{at({type:"REJECT",error:Pt})}),()=>{cancelRunningTask(St)}}reactExports.useEffect(w,[at,S,_t]),reactExports.useEffect(()=>{if(je!==void 0){if(je===!1){ft();return}bt()}},[je]);function mt(){m&&m()}function d(xe){At&&At(xe)}const a=reactExports.useMemo(()=>S.getViewport({scale:dt,rotation:vt}),[S,vt,dt]);function Ue(){if(!b||!S||!je)return;const{current:xe}=ht;if(!xe)return;const St=a.clone({dontFlip:!0}),Pt={accessibilityManager:null,annotationCanvasMap:null,div:xe,l10n:null,page:S,viewport:St},gt={annotations:je,annotationStorage:b.annotationStorage,div:xe,downloadManager:null,imageResourcesPath:n,linkService:s,page:S,renderForms:_t,viewport:St};xe.innerHTML="";try{new pdfjs$1.AnnotationLayer(Pt).render(gt),mt()}catch(Ot){d(Ot)}return()=>{}}return reactExports.useEffect(Ue,[je,n,s,S,_t,a]),React.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:ht})}var __rest=globalThis&&globalThis.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]]);return i};const defaultScale=1,Page=function t(e){const i=useDocumentContext();invariant(i,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const n=Object.assign(Object.assign({},i),e),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:g=!0,canvasBackground:ae,canvasRef:At,children:m,className:S,customRenderer:b,customTextRenderer:_t,devicePixelRatio:vt,error:dt="Failed to load the page.",height:ut,inputRef:at,loading:je="Loading page…",noData:Je="No page specified.",onGetAnnotationsError:ht,onGetAnnotationsSuccess:bt,onGetStructTreeError:ft,onGetStructTreeSuccess:p,onGetTextError:w,onGetTextSuccess:mt,onLoadError:d,onLoadSuccess:a,onRenderAnnotationLayerError:Ue,onRenderAnnotationLayerSuccess:xe,onRenderError:St,onRenderSuccess:Pt,onRenderTextLayerError:gt,onRenderTextLayerSuccess:Ot,pageIndex:It,pageNumber:Ft,pdf:Rt,registerPage:Lt,renderAnnotationLayer:tn=!0,renderForms:rn=!1,renderMode:Kt="canvas",renderTextLayer:yt=!0,rotate:l,scale:h=defaultScale,unregisterPage:c,width:ie}=n,Fe=__rest(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[lt,xt]=useResolver(),{value:wt,error:Ut}=lt,Mt=reactExports.useRef(null);invariant(Rt,"Attempted to load a page, but no document was specified.");const $t=isProvided(Ft)?Ft-1:It??null,Vt=Ft??(isProvided(It)?It+1:null),Jt=l??(wt?wt.rotate:null),Yt=reactExports.useMemo(()=>{if(!wt)return null;let xn=1;const kn=h??defaultScale;if(ie||ut){const Cn=wt.getViewport({scale:1,rotation:Jt});ie?xn=ie/Cn.width:ut&&(xn=ut/Cn.height)}return kn*xn},[ut,wt,Jt,h,ie]);function hn(){return()=>{isProvided($t)&&g&&c&&c($t)}}reactExports.useEffect(hn,[g,Rt,$t,c]);function vn(){if(a){if(!wt||!Yt)return;a(makePageCallback(wt,Yt))}if(g&&Lt){if(!isProvided($t)||!Mt.current)return;Lt($t,Mt.current)}}function an(){Ut&&(Ut.toString(),d&&d(Ut))}function pn(){xt({type:"RESET"})}reactExports.useEffect(pn,[xt,Rt,$t]);function Qt(){if(!Rt||!Vt)return;const xn=makeCancellablePromise(Rt.getPage(Vt)),kn=xn;return xn.promise.then(Cn=>{xt({type:"RESOLVE",value:Cn})}).catch(Cn=>{xt({type:"REJECT",error:Cn})}),()=>cancelRunningTask(kn)}reactExports.useEffect(Qt,[xt,Rt,$t,Vt,Lt]),reactExports.useEffect(()=>{if(wt!==void 0){if(wt===!1){an();return}vn()}},[wt,Yt]);const Nt=reactExports.useMemo(()=>wt&&isProvided($t)&&Vt&&isProvided(Jt)&&isProvided(Yt)?{_className:s,canvasBackground:ae,customTextRenderer:_t,devicePixelRatio:vt,onGetAnnotationsError:ht,onGetAnnotationsSuccess:bt,onGetStructTreeError:ft,onGetStructTreeSuccess:p,onGetTextError:w,onGetTextSuccess:mt,onRenderAnnotationLayerError:Ue,onRenderAnnotationLayerSuccess:xe,onRenderError:St,onRenderSuccess:Pt,onRenderTextLayerError:gt,onRenderTextLayerSuccess:Ot,page:wt,pageIndex:$t,pageNumber:Vt,renderForms:rn,renderTextLayer:yt,rotate:Jt,scale:Yt}:null,[s,ae,_t,vt,ht,bt,ft,p,w,mt,Ue,xe,St,Pt,gt,Ot,wt,$t,Vt,rn,yt,Jt,Yt]),Wt=reactExports.useMemo(()=>makeEventProps(Fe,()=>wt&&(Yt?makePageCallback(wt,Yt):void 0)),[Fe,wt,Yt]),Xt=`${$t}@${Yt}/${Jt}`,dn=`${$t}/${Jt}`;function un(){switch(Kt){case"custom":return invariant(b,'renderMode was set to "custom", but no customRenderer was passed.'),React.createElement(b,{key:`${Xt}_custom`});case"none":return null;case"svg":return React.createElement(PageSVG,{key:`${dn}_svg`});case"canvas":default:return React.createElement(PageCanvas,{key:`${Xt}_canvas`,canvasRef:At})}}function wn(){return yt?React.createElement(TextLayer,{key:`${Xt}_text`}):null}function Rn(){return tn?React.createElement(AnnotationLayer,{key:`${Xt}_annotations`}):null}function Pn(){return React.createElement(PageContext.Provider,{value:Nt},un(),wn(),Rn(),m)}function Fn(){return Vt?Rt===null||wt===void 0||wt===null?React.createElement(Message,{type:"loading"},typeof je=="function"?je():je):Rt===!1||wt===!1?React.createElement(Message,{type:"error"},typeof dt=="function"?dt():dt):Pn():React.createElement(Message,{type:"no-data"},typeof Je=="function"?Je():Je)}return React.createElement("div",Object.assign({className:clsx(s,S),"data-page-number":Vt,ref:mergeRefs(at,Mt),style:{"--scale-factor":`${Yt}`,backgroundColor:ae||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Wt),Fn())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});const Page$1=Page;displayWorkerWarning();pdfjs$1.GlobalWorkerOptions.workerSrc="pdf.worker.js";var SET_ZOOM_LEVEL="SET_ZOOM_LEVEL",setZoomLevel=function(t){return{type:SET_ZOOM_LEVEL,value:t}},SET_PDF_PAGINATED="SET_PDF_PAGINATED",setPDFPaginated=function(t){return{type:SET_PDF_PAGINATED,value:t}},SET_NUM_PAGES="SET_NUM_PAGES",setNumPages=function(t){return{type:SET_NUM_PAGES,value:t}},SET_CURRENT_PAGE="SET_CURRENT_PAGE",setCurrentPage=function(t){return{type:SET_CURRENT_PAGE,value:t}},__assign$6=globalThis&&globalThis.__assign||function(){return __assign$6=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$6.apply(this,arguments)},initialPDFState={defaultZoomLevel:1,zoomLevel:1,zoomJump:.1,paginated:!0,numPages:0,currentPage:1},reducer=function(t,e){switch(t===void 0&&(t=initialPDFState),e.type){case SET_ZOOM_LEVEL:{var i=e.value;return __assign$6(__assign$6({},t),{zoomLevel:i})}case SET_PDF_PAGINATED:{var i=e.value;return __assign$6(__assign$6({},t),{paginated:i})}case SET_NUM_PAGES:{var i=e.value;return __assign$6(__assign$6({},t),{numPages:i})}case SET_CURRENT_PAGE:{var i=e.value;return __assign$6(__assign$6({},t),{currentPage:i})}default:return t}},__assign$5=globalThis&&globalThis.__assign||function(){return __assign$5=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$5.apply(this,arguments)},PDFContext=reactExports.createContext({state:initialPDFState,dispatch:function(){return null}}),PDFProvider=function(t){var e,i,n,s,g,ae,At,m,S,b,_t=t.children,vt=t.mainState,dt=reactExports.useReducer(reducer,__assign$5(__assign$5({},initialPDFState),{defaultZoomLevel:(n=(i=(e=vt.config)===null||e===void 0?void 0:e.pdfZoom)===null||i===void 0?void 0:i.defaultZoom)!==null&&n!==void 0?n:initialPDFState.defaultZoomLevel,zoomLevel:(ae=(g=(s=vt.config)===null||s===void 0?void 0:s.pdfZoom)===null||g===void 0?void 0:g.defaultZoom)!==null&&ae!==void 0?ae:initialPDFState.zoomLevel,zoomJump:(S=(m=(At=vt.config)===null||At===void 0?void 0:At.pdfZoom)===null||m===void 0?void 0:m.zoomJump)!==null&&S!==void 0?S:initialPDFState.zoomJump,paginated:!((b=vt.config)===null||b===void 0)&&b.pdfVerticalScrollByDefault?!1:initialPDFState.paginated,mainState:vt})),ut=dt[0],at=dt[1];return React.createElement(PDFContext.Provider,{value:{state:ut,dispatch:at}},_t)},__makeTemplateObject$a=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},PDFSinglePage=function(t){var e=t.pageNum,i=reactExports.useContext(PDFContext).state,n=i.mainState,s=i.paginated,g=i.zoomLevel,ae=i.numPages,At=i.currentPage,m=useTranslation().t,S=(n==null?void 0:n.rendererRect)||null,b=e||At;return React.createElement(PageWrapper,{id:"pdf-page-wrapper",last:b>=ae},!s&&React.createElement(PageTag$1,{id:"pdf-page-info"},m("pdfPluginPageNumber",{currentPage:b,allPagesCount:ae})),React.createElement(Page$1,{pageNumber:b||At,scale:g,height:((S==null?void 0:S.height)||100)-100,width:((S==null?void 0:S.width)||100)-100,loading:m("pdfPluginLoading")}))},PageWrapper=st.div(templateObject_1$a||(templateObject_1$a=__makeTemplateObject$a([`
  margin: 20px 0;
`],[`
  margin: 20px 0;
`]))),PageTag$1=st.div(templateObject_2$4||(templateObject_2$4=__makeTemplateObject$a([`
  padding: 0 0 10px 10px;
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`],[`
  padding: 0 0 10px 10px;
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`])),function(t){return t.theme.textTertiary}),templateObject_1$a,templateObject_2$4,PDFAllPages=function(){for(var t=reactExports.useContext(PDFContext).state.numPages,e=[],i=0;i<t;i++)e.push(React.createElement(PDFSinglePage,{key:i+1,pageNum:i+1}));return React.createElement(React.Fragment,null,e)},__makeTemplateObject$9=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},PDFPages=function(){var t=reactExports.useContext(PDFContext),e=t.state,i=e.mainState,n=e.paginated,s=t.dispatch,g=useTranslation().t,ae=(i==null?void 0:i.currentDocument)||null;return reactExports.useEffect(function(){s(setNumPages(initialPDFState.numPages))},[ae]),!ae||ae.fileData===void 0?null:React.createElement(DocumentPDF,{file:ae.fileData,onLoadSuccess:function(At){var m=At.numPages;return s(setNumPages(m))},loading:React.createElement("span",null,g("pdfPluginLoading"))},n?React.createElement(PDFSinglePage,null):React.createElement(PDFAllPages,null))},DocumentPDF=st(Document$1)(templateObject_1$9||(templateObject_1$9=__makeTemplateObject$9([`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`],[`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`]))),templateObject_1$9,__assign$4=globalThis&&globalThis.__assign||function(){return __assign$4=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$4.apply(this,arguments)},PrevPDFNavIcon=function(t){return React.createElement(PDFNavArrow,__assign$4({},t,{reverse:!0}))},NextPDFNavIcon=function(t){return React.createElement(PDFNavArrow,__assign$4({},t))},PDFNavArrow=function(t){var e=t.color,i=t.size,n=t.reverse;return React.createElement("svg",{width:i||"100%",height:i||"100%",style:{transform:"".concat(n?"rotate(180deg)":"")},viewBox:"0 0 12 12",version:"1.1"},React.createElement("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{id:"Rounded",transform:"translate(-548.000000, -1000.000000)"},React.createElement("g",{id:"AV",transform:"translate(100.000000, 852.000000)"},React.createElement("g",{id:"-Round-/-AV-/-skip_next",transform:"translate(442.000000, 142.000000)"},React.createElement("g",null,React.createElement("rect",{id:"Rectangle-Copy-52",x:"0",y:"0",width:"24",height:"24"}),React.createElement("path",{d:"M7.58,16.89 L13.35,12.82 C13.91,12.42 13.91,11.58 13.35,11.19 L7.58,7.11 C6.91,6.65 6,7.12 6,7.93 L6,16.07 C6,16.88 6.91,17.35 7.58,16.89 Z M16,7 L16,17 C16,17.55 16.45,18 17,18 C17.55,18 18,17.55 18,17 L18,7 C18,6.45 17.55,6 17,6 C16.45,6 16,6.45 16,7 Z",id:"icon_color",fill:e||"#aaa"})))))))},DownloadPDFIcon=function(t){var e=t.color,i=t.size,n=t.reverse;return React.createElement("svg",{width:i||"100%",height:i||"100%",style:{transform:"".concat(n?"rotate(180deg)":"")},id:"Layer_1",viewBox:"0 0 24 24"},React.createElement("path",{d:"M20.57,9.43A8,8,0,0,0,5.26,10,5,5,0,1,0,5,20h5V18H5a3,3,0,0,1,0-6,3.1,3.1,0,0,1,.79.12l1.12.31.14-1.15a6,6,0,0,1,11.74-.82l.15.54.54.16A3.46,3.46,0,0,1,22,14.5,3.5,3.5,0,0,1,18.5,18H16v2h2.5A5.48,5.48,0,0,0,20.57,9.43Z",fill:e||"#aaa"}),React.createElement("polygon",{points:"12 11 12 15.59 10.71 14.29 9.29 15.71 13 19.41 16.71 15.71 15.29 14.29 14 15.59 14 11 12 11",fill:e||"#aaa"}))},ZoomInPDFIcon=function(t){return React.createElement(ZoomPDFIcon,__assign$4({},t))},ZoomOutPDFIcon=function(t){return React.createElement(ZoomPDFIcon,__assign$4({},t,{reverse:!0}))},ZoomPDFIcon=function(t){var e=t.color,i=t.size,n=t.reverse;return React.createElement("svg",{width:i||"100%",height:i||"100%",viewBox:"0 0 32 32",version:"1.1"},React.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{id:"search-plus-icon",fill:e||"#aaa"},React.createElement("path",{id:"search-plus",d:n?"M 13 13 L 16 13 L 19 13 L 19 16 L 16 16 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z":"M 13 13 L 13 10 L 16 10 L 16 13 L 19 13 L 19 16 L 16 16 L 16 19 L 13 19 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z"}))))},ResetZoomPDFIcon=function(t){var e=t.color,i=t.size;return React.createElement("svg",{width:i||"100%",height:i||"100%",viewBox:"0 0 24 24"},React.createElement("path",{fill:e||"#aaa",d:"M9.29,13.29,4,18.59V17a1,1,0,0,0-2,0v4a1,1,0,0,0,.08.38,1,1,0,0,0,.54.54A1,1,0,0,0,3,22H7a1,1,0,0,0,0-2H5.41l5.3-5.29a1,1,0,0,0-1.42-1.42ZM5.41,4H7A1,1,0,0,0,7,2H3a1,1,0,0,0-.38.08,1,1,0,0,0-.54.54A1,1,0,0,0,2,3V7A1,1,0,0,0,4,7V5.41l5.29,5.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42ZM21,16a1,1,0,0,0-1,1v1.59l-5.29-5.3a1,1,0,0,0-1.42,1.42L18.59,20H17a1,1,0,0,0,0,2h4a1,1,0,0,0,.38-.08,1,1,0,0,0,.54-.54A1,1,0,0,0,22,21V17A1,1,0,0,0,21,16Zm.92-13.38a1,1,0,0,0-.54-.54A1,1,0,0,0,21,2H17a1,1,0,0,0,0,2h1.59l-5.3,5.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L20,5.41V7a1,1,0,0,0,2,0V3A1,1,0,0,0,21.92,2.62Z"}))},TogglePaginationPDFIcon=function(t){var e=t.color,i=t.size,n=t.reverse;return React.createElement("svg",{width:i||"100%",height:i||"100%",style:{transform:"".concat(n?"rotate(90deg)":"")},version:"1.1",id:"Scroll_1",viewBox:"0 0 297 297",xmlSpace:"preserve"},React.createElement("path",{fill:e||"#aaa",d:`M206.004,200.723h-31.231V96.277h31.231c0.005,0,0.014,0,0.019,0c5.289,0,9.575-4.287,9.575-9.574
  c0-2.342-0.841-4.488-2.236-6.151L156.168,3.851C154.36,1.428,151.515,0,148.492,0c-3.023,0-5.868,1.428-7.675,3.851L83.302,80.98
  c-2.166,2.902-2.507,6.779-0.883,10.017c1.624,3.236,4.936,5.28,8.559,5.28h31.231v104.445H90.978c-3.623,0-6.934,2.044-8.559,5.28
  c-1.624,3.237-1.283,7.114,0.883,10.017l57.513,77.129c1.808,2.424,4.652,3.852,7.675,3.852c3.023,0,5.868-1.428,7.676-3.852
  l57.514-77.129c2.164-2.902,2.507-6.779,0.883-10.017C212.938,202.767,209.627,200.723,206.004,200.723z`}))},__makeTemplateObject$8=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},PDFPagination=function(){var t=reactExports.useContext(PDFContext),e=t.state,i=e.currentPage,n=e.numPages,s=t.dispatch,g=useTranslation().t;return React.createElement(Container$6,{id:"pdf-pagination"},React.createElement(PageNavButtonLeft,{id:"pdf-pagination-prev",onClick:function(){return s(setCurrentPage(i-1))},disabled:i===1},React.createElement(PrevPDFNavIcon,{color:"#000",size:"50%"})),React.createElement(PageTag,{id:"pdf-pagination-info"},g("pdfPluginPageNumber",{currentPage:i,allPagesCount:n})),React.createElement(PageNavButtonRight,{id:"pdf-pagination-next",onClick:function(){return s(setCurrentPage(i+1))},disabled:i>=n},React.createElement(NextPDFNavIcon,{color:"#000",size:"50%"})))},Container$6=st.div(templateObject_1$8||(templateObject_1$8=__makeTemplateObject$8([`
  display: flex;
  align-items: center;
`],[`
  display: flex;
  align-items: center;
`]))),PageNavButtonLeft=st(Button)(templateObject_2$3||(templateObject_2$3=__makeTemplateObject$8([`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),PageNavButtonRight=st(PageNavButtonLeft)(templateObject_3$1||(templateObject_3$1=__makeTemplateObject$8([`
  margin: 0 20px 0 5px;
`],[`
  margin: 0 20px 0 5px;
`]))),PageTag=st.div(templateObject_4||(templateObject_4=__makeTemplateObject$8([`
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`],[`
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`])),function(t){return t.theme.textPrimary}),templateObject_1$8,templateObject_2$3,templateObject_3$1,templateObject_4,__makeTemplateObject$7=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},PDFControls=function(){var t=useTranslation().t,e=reactExports.useContext(PDFContext),i=e.state,n=i.mainState,s=i.paginated,g=i.zoomLevel,ae=i.numPages,At=i.zoomJump,m=i.defaultZoomLevel,S=e.dispatch,b=(n==null?void 0:n.currentDocument)||null;return React.createElement(Container$5,{id:"pdf-controls"},s&&ae>1&&React.createElement(PDFPagination,null),(b==null?void 0:b.fileData)&&React.createElement(DownloadButton,{id:"pdf-download",href:b==null?void 0:b.fileData,download:(b==null?void 0:b.fileName)||(b==null?void 0:b.uri),title:t("downloadButtonLabel")},React.createElement(DownloadPDFIcon,{color:"#000",size:"75%"})),React.createElement(ControlButton,{id:"pdf-zoom-out",onMouseDown:function(){return S(setZoomLevel(g-At))}},React.createElement(ZoomOutPDFIcon,{color:"#000",size:"80%"})),React.createElement(ControlButton,{id:"pdf-zoom-in",onMouseDown:function(){return S(setZoomLevel(g+At))}},React.createElement(ZoomInPDFIcon,{color:"#000",size:"80%"})),React.createElement(ControlButton,{id:"pdf-zoom-reset",onMouseDown:function(){return S(setZoomLevel(m))},disabled:g===m},React.createElement(ResetZoomPDFIcon,{color:"#000",size:"70%"})),ae>1&&React.createElement(ControlButton,{id:"pdf-toggle-pagination",onMouseDown:function(){return S(setPDFPaginated(!s))}},React.createElement(TogglePaginationPDFIcon,{color:"#000",size:"70%",reverse:s})))},Container$5=st.div(templateObject_1$7||(templateObject_1$7=__makeTemplateObject$7([`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: `,`;
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`],[`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: `,`;
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`])),function(t){return t.theme.tertiary}),ControlButton=st(Button)(templateObject_2$2||(templateObject_2$2=__makeTemplateObject$7([`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),DownloadButton=st(LinkButton)(templateObject_3||(templateObject_3=__makeTemplateObject$7([`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),templateObject_1$7,templateObject_2$2,templateObject_3,__makeTemplateObject$6=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};pdfjs$1.GlobalWorkerOptions.workerSrc="//unpkg.com/pdfjs-dist@".concat(pdfjs$1.version,"/build/pdf.worker.min.js");var PDFRenderer=function(t){var e=t.mainState;return React.createElement(PDFProvider,{mainState:e},React.createElement(Container$4,{id:"pdf-renderer","data-testid":"pdf-renderer"},React.createElement(PDFControls,null),React.createElement(PDFPages,null)))};PDFRenderer.fileTypes=["pdf","application/pdf"];PDFRenderer.weight=0;var Container$4=st.div(templateObject_1$6||(templateObject_1$6=__makeTemplateObject$6([`
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow-y: auto;

  /* width */
  &::-webkit-scrollbar {
    `,`;
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: `,`; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: `,`;
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: `,`;
  }
`],[`
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow-y: auto;

  /* width */
  &::-webkit-scrollbar {
    `,`;
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: `,`; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: `,`;
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: `,`;
  }
`])),function(t){return t.theme.disableThemeScrollbar?"":"width: 10px"},function(t){return t.theme.secondary},function(t){return t.theme.tertiary},function(t){return t.theme.primary}),templateObject_1$6,__makeTemplateObject$5=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__assign$3=globalThis&&globalThis.__assign||function(){return __assign$3=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$3.apply(this,arguments)},StyledImageRenderer=st(ImageProxyRenderer)(templateObject_1$5||(templateObject_1$5=__makeTemplateObject$5([`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position:
    0 0,
    0 10px,
    10px -10px,
    -10px 0px;
`],[`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position:
    0 0,
    0 10px,
    10px -10px,
    -10px 0px;
`]))),PNGRenderer=function(t){return React.createElement(StyledImageRenderer,__assign$3({},t))};PNGRenderer.fileTypes=["png","image/png"];PNGRenderer.weight=0;var templateObject_1$5,_this=globalThis,tiffDataView=void 0,littleEndian=void 0,fileDirectories=[],isLittleEndian=function(){var t=getBytes(2,0);if(t===18761)littleEndian=!0;else if(t===19789)littleEndian=!1;else throw TypeError("Invalid byte order value.");return littleEndian},hasTowel=function(){if(getBytes(2,2)!==42)throw RangeError("You forgot your towel!");return!0},getFieldTagName=function(t){var e={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop"},i;return t in e?i=e[t]:i="Tag"+t,i},getFieldTypeName=function(t){var e={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE"},i;return t in e&&(i=e[t]),i},getFieldTypeLength=function(t){var e;return["BYTE","ASCII","SBYTE","UNDEFINED"].indexOf(t)!==-1?e=1:["SHORT","SSHORT"].indexOf(t)!==-1?e=2:["LONG","SLONG","FLOAT"].indexOf(t)!==-1?e=4:["RATIONAL","SRATIONAL","DOUBLE"].indexOf(t)!==-1&&(e=8),e},getBits=function(t,e,i){i=i||0;var n=Math.floor(i/8),s=e+n,g=i+t,ae=32-t;if(g<=0)throw RangeError("No bits requested");if(g<=8)var At=24+i,m=tiffDataView.getUint8(s,littleEndian);else if(g<=16)var At=16+i,m=tiffDataView.getUint16(s,littleEndian);else if(g<=32)var At=i,m=tiffDataView.getUint32(s,littleEndian);else throw RangeError("Too many bits requested");var S={bits:m<<At>>>ae,byteOffset:s+Math.floor(g/8),bitOffset:g%8};return S},getBytes=function(t,e){if(t<=0)throw RangeError("No bytes requested");if(t<=1)return tiffDataView.getUint8(e,littleEndian);if(t<=2)return tiffDataView.getUint16(e,littleEndian);if(t<=3)return tiffDataView.getUint32(e,littleEndian)>>>8;if(t<=4)return tiffDataView.getUint32(e,littleEndian);throw RangeError("Too many bytes requested")},getFieldValues=function(t,e,i,n){var s=[],g=getFieldTypeLength(e),ae=g*i;if(ae<=4){if(littleEndian===!1)var At=n>>>(4-g)*8;else var At=n;s.push(At)}else for(var m=0;m<i;m++){var S=g*m;if(g>=8)if(["RATIONAL","SRATIONAL"].indexOf(e)!==-1)s.push(getBytes(4,n+S)),s.push(getBytes(4,n+S+4));else throw TypeError("Can't handle this field type or size");else s.push(getBytes(g,n+S))}return e==="ASCII"&&s.forEach(function(b,_t,vt){vt[_t]=String.fromCharCode(b)}),s},clampColorSample=function(t,e){var i=Math.pow(2,8-e);return Math.floor(t*i+(i-1))},makeRGBAFillValue=function(t,e,i,n){return typeof n>"u"&&(n=1),"rgba("+t+", "+e+", "+i+", "+n+")"},parseFileDirectory=function(t){for(var e=getBytes(2,t),i=[],n=t+2,s=0;s<e;n+=12,s++){var g=getBytes(2,n),ae=getBytes(2,n+2),At=getBytes(4,n+4),m=getBytes(4,n+8),S=getFieldTagName(g),b=getFieldTypeName(ae),_t=getFieldValues(S,b,At,m);i[S]={type:b,values:_t}}fileDirectories.push(i);var vt=getBytes(4,n);return vt===0?fileDirectories:parseFileDirectory(vt)},parseTIFF=function(t,e){var i=e||document.createElement("canvas");if(t&&(tiffDataView=new DataView(t),littleEndian=isLittleEndian(),!!hasTowel())){var n=getBytes(4,4);fileDirectories=parseFileDirectory(n);var s=fileDirectories[0],g=s.ImageWidth.values[0],ae=s.ImageLength.values[0];i.width=g,i.height=ae;var At=[],m=s.Compression?s.Compression.values[0]:1,S=s.SamplesPerPixel.values[0],b=[],_t=0,vt=!1;if(s.BitsPerSample.values.forEach(function(Wt,Xt,dn){b[Xt]={bitsPerSample:Wt,hasBytesPerSample:!1,bytesPerSample:void 0},Wt%8===0&&(b[Xt].hasBytesPerSample=!0,b[Xt].bytesPerSample=Wt/8),_t+=Wt},_this),_t%8===0){vt=!0;var dt=_t/8}var ut=s.StripOffsets.values,at=ut.length;if(s.StripByteCounts)var je=s.StripByteCounts.values;else if(at===1)var je=[Math.ceil(g*ae*_t/8)];else throw Error("Cannot recover from missing StripByteCounts");for(var Je=0;Je<at;Je++){var ht=ut[Je];At[Je]=[];for(var bt=je[Je],ft=0,p=0,w=1,mt=!0,d=[],a=0,Ue=0,xe=0;ft<bt;ft+=w)switch(m){case 1:for(var St=0,d=[];St<S;St++)if(b[St].hasBytesPerSample){var Pt=b[St].bytesPerSample*St;d.push(getBytes(b[St].bytesPerSample,ht+ft+Pt))}else{var gt=getBits(b[St].bitsPerSample,ht+ft,p);throw d.push(gt.bits),ft=gt.byteOffset-ht,p=gt.bitOffset,RangeError("Cannot handle sub-byte bits per sample")}if(At[Je].push(d),vt)w=dt;else throw w=0,RangeError("Cannot handle sub-byte bits per pixel");break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:break;case 7:break;case 32773:if(mt){mt=!1;var Ot=1,It=1,Ft=tiffDataView.getInt8(ht+ft,littleEndian);Ft>=0&&Ft<=127?Ot=Ft+1:Ft>=-127&&Ft<=-1?It=-Ft+1:mt=!0}else{for(var Rt=getBytes(1,ht+ft),St=0;St<It;St++){if(b[Ue].hasBytesPerSample)xe=xe<<8*a|Rt,a++,a===b[Ue].bytesPerSample&&(d.push(xe),xe=a=0,Ue++);else throw RangeError("Cannot handle sub-byte bits per sample");Ue===S&&(At[Je].push(d),d=[],Ue=0)}Ot--,Ot===0&&(mt=!0)}w=1;break}}if(i.getContext){var Lt=i.getContext("2d");if(Lt.fillStyle=makeRGBAFillValue(255,255,255,0),s.RowsPerStrip)var tn=s.RowsPerStrip.values[0];else var tn=ae;var rn=At.length,Kt=ae%tn,yt=Kt===0?tn:Kt,l=tn,h=0,c=s.PhotometricInterpretation.values[0],ie=[],Fe=0;if(s.ExtraSamples&&(ie=s.ExtraSamples.values,Fe=ie.length),s.ColorMap)var lt=s.ColorMap.values,xt=Math.pow(2,b[0].bitsPerSample);for(var Je=0;Je<rn;Je++){Je+1===rn&&(l=yt);for(var wt=At[Je].length,Ut=h*Je,Mt=0,$t=0;$t<wt;Mt++)for(var Vt=0;Vt<g;Vt++,$t++){var Jt=At[Je][$t],Yt=0,hn=0,vn=0,an=1;if(Fe>0){for(var pn=0;pn<Fe;pn++)if(ie[pn]===1||ie[pn]===2){an=Jt[3+pn]/256;break}}switch(c){case 0:if(b[0].hasBytesPerSample)var Qt=Math.pow(16,b[0].bytesPerSample*2);Jt.forEach(function(Xt,dn,un){un[dn]=Qt-Xt});case 1:Yt=hn=vn=clampColorSample(Jt[0],b[0].bitsPerSample);break;case 2:Yt=clampColorSample(Jt[0],b[0].bitsPerSample),hn=clampColorSample(Jt[1],b[1].bitsPerSample),vn=clampColorSample(Jt[2],b[2].bitsPerSample);break;case 3:if(lt===void 0)throw Error("Palette image missing color map");var Nt=Jt[0];Yt=clampColorSample(lt[Nt],16),hn=clampColorSample(lt[xt+Nt],16),vn=clampColorSample(lt[2*xt+Nt],16);break;case 4:throw RangeError("Not Yet Implemented: Transparency mask");case 5:throw RangeError("Not Yet Implemented: CMYK");case 6:throw RangeError("Not Yet Implemented: YCbCr");case 8:throw RangeError("Not Yet Implemented: CIELab");default:throw RangeError("Unknown Photometric Interpretation:",c)}Lt.fillStyle=makeRGBAFillValue(Yt,hn,vn,an),Lt.fillRect(Vt,Ut+Mt,1,1)}h=l}}return i}},__makeTemplateObject$4=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__assign$2=globalThis&&globalThis.__assign||function(){return __assign$2=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$2.apply(this,arguments)},TIFFRenderer=function(t){var e=t.mainState.currentDocument,i=useTranslation().t,n=reactExports.useState(!1),s=n[0],g=n[1],ae=reactExports.useState(!1),At=ae[0],m=ae[1];return reactExports.useEffect(function(){if(!(!e||s)){var S=document.getElementById("tiff-img");try{S&&parseTIFF(e.fileData,S),g(!0)}catch{m(!0)}}},[e,s]),At?React.createElement(ImageProxyRenderer,__assign$2({},t),React.createElement("div",null,i("brokenFile"))):React.createElement(ImageProxyRenderer,__assign$2({},t),React.createElement(Canvas,{id:"tiff-img"}))};TIFFRenderer.fileTypes=["tif","tiff","image/tif","image/tiff"];TIFFRenderer.weight=0;TIFFRenderer.fileLoader=arrayBufferFileLoader;var Canvas=st.canvas(templateObject_1$4||(templateObject_1$4=__makeTemplateObject$4([`
  max-width: 95%;
  max-height: 95%;
`],[`
  max-width: 95%;
  max-height: 95%;
`]))),templateObject_1$4,__makeTemplateObject$3=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},TXTRenderer=function(t){var e=t.mainState.currentDocument;return React.createElement(Container$3,{id:"txt-renderer"},e==null?void 0:e.fileData)};TXTRenderer.fileTypes=["txt","text/plain"];TXTRenderer.weight=0;TXTRenderer.fileLoader=textFileLoader;var Container$3=st.div(templateObject_1$3||(templateObject_1$3=__makeTemplateObject$3([`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`],[`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`]))),templateObject_1$3,papaparse_min={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(i,n){t.exports=n()})(commonjsGlobal,function i(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},s=!n.document&&!!n.postMessage,g=n.IS_PAPA_WORKER||!1,ae={},At=0,m={parse:function(d,a){var Ue=(a=a||{}).dynamicTyping||!1;if(mt(Ue)&&(a.dynamicTypingFunction=Ue,Ue={}),a.dynamicTyping=Ue,a.transform=!!mt(a.transform)&&a.transform,a.worker&&m.WORKERS_SUPPORTED){var xe=function(){if(!m.WORKERS_SUPPORTED)return!1;var Pt=(Ot=n.URL||n.webkitURL||null,It=i.toString(),m.BLOB_URL||(m.BLOB_URL=Ot.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",It,")();"],{type:"text/javascript"})))),gt=new n.Worker(Pt),Ot,It;return gt.onmessage=ht,gt.id=At++,ae[gt.id]=gt}();return xe.userStep=a.step,xe.userChunk=a.chunk,xe.userComplete=a.complete,xe.userError=a.error,a.step=mt(a.step),a.chunk=mt(a.chunk),a.complete=mt(a.complete),a.error=mt(a.error),delete a.worker,void xe.postMessage({input:d,config:a,workerId:xe.id})}var St=null;return m.NODE_STREAM_INPUT,typeof d=="string"?(d=function(Pt){return Pt.charCodeAt(0)===65279?Pt.slice(1):Pt}(d),St=a.download?new _t(a):new dt(a)):d.readable===!0&&mt(d.read)&&mt(d.on)?St=new ut(a):(n.File&&d instanceof File||d instanceof Object)&&(St=new vt(a)),St.stream(d)},unparse:function(d,a){var Ue=!1,xe=!0,St=",",Pt=`\r
`,gt='"',Ot=gt+gt,It=!1,Ft=null,Rt=!1;(function(){if(typeof a=="object"){if(typeof a.delimiter!="string"||m.BAD_DELIMITERS.filter(function(Kt){return a.delimiter.indexOf(Kt)!==-1}).length||(St=a.delimiter),(typeof a.quotes=="boolean"||typeof a.quotes=="function"||Array.isArray(a.quotes))&&(Ue=a.quotes),typeof a.skipEmptyLines!="boolean"&&typeof a.skipEmptyLines!="string"||(It=a.skipEmptyLines),typeof a.newline=="string"&&(Pt=a.newline),typeof a.quoteChar=="string"&&(gt=a.quoteChar),typeof a.header=="boolean"&&(xe=a.header),Array.isArray(a.columns)){if(a.columns.length===0)throw new Error("Option columns is empty");Ft=a.columns}a.escapeChar!==void 0&&(Ot=a.escapeChar+gt),(typeof a.escapeFormulae=="boolean"||a.escapeFormulae instanceof RegExp)&&(Rt=a.escapeFormulae instanceof RegExp?a.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Lt=new RegExp(je(gt),"g");if(typeof d=="string"&&(d=JSON.parse(d)),Array.isArray(d)){if(!d.length||Array.isArray(d[0]))return tn(null,d,It);if(typeof d[0]=="object")return tn(Ft||Object.keys(d[0]),d,It)}else if(typeof d=="object")return typeof d.data=="string"&&(d.data=JSON.parse(d.data)),Array.isArray(d.data)&&(d.fields||(d.fields=d.meta&&d.meta.fields||Ft),d.fields||(d.fields=Array.isArray(d.data[0])?d.fields:typeof d.data[0]=="object"?Object.keys(d.data[0]):[]),Array.isArray(d.data[0])||typeof d.data[0]=="object"||(d.data=[d.data])),tn(d.fields||[],d.data||[],It);throw new Error("Unable to serialize unrecognized input");function tn(Kt,yt,l){var h="";typeof Kt=="string"&&(Kt=JSON.parse(Kt)),typeof yt=="string"&&(yt=JSON.parse(yt));var c=Array.isArray(Kt)&&0<Kt.length,ie=!Array.isArray(yt[0]);if(c&&xe){for(var Fe=0;Fe<Kt.length;Fe++)0<Fe&&(h+=St),h+=rn(Kt[Fe],Fe);0<yt.length&&(h+=Pt)}for(var lt=0;lt<yt.length;lt++){var xt=c?Kt.length:yt[lt].length,wt=!1,Ut=c?Object.keys(yt[lt]).length===0:yt[lt].length===0;if(l&&!c&&(wt=l==="greedy"?yt[lt].join("").trim()==="":yt[lt].length===1&&yt[lt][0].length===0),l==="greedy"&&c){for(var Mt=[],$t=0;$t<xt;$t++){var Vt=ie?Kt[$t]:$t;Mt.push(yt[lt][Vt])}wt=Mt.join("").trim()===""}if(!wt){for(var Jt=0;Jt<xt;Jt++){0<Jt&&!Ut&&(h+=St);var Yt=c&&ie?Kt[Jt]:Jt;h+=rn(yt[lt][Yt],Jt)}lt<yt.length-1&&(!l||0<xt&&!Ut)&&(h+=Pt)}}return h}function rn(Kt,yt){if(Kt==null)return"";if(Kt.constructor===Date)return JSON.stringify(Kt).slice(1,25);var l=!1;Rt&&typeof Kt=="string"&&Rt.test(Kt)&&(Kt="'"+Kt,l=!0);var h=Kt.toString().replace(Lt,Ot);return(l=l||Ue===!0||typeof Ue=="function"&&Ue(Kt,yt)||Array.isArray(Ue)&&Ue[yt]||function(c,ie){for(var Fe=0;Fe<ie.length;Fe++)if(-1<c.indexOf(ie[Fe]))return!0;return!1}(h,m.BAD_DELIMITERS)||-1<h.indexOf(St)||h.charAt(0)===" "||h.charAt(h.length-1)===" ")?gt+h+gt:h}}};if(m.RECORD_SEP=String.fromCharCode(30),m.UNIT_SEP=String.fromCharCode(31),m.BYTE_ORDER_MARK="\uFEFF",m.BAD_DELIMITERS=["\r",`
`,'"',m.BYTE_ORDER_MARK],m.WORKERS_SUPPORTED=!s&&!!n.Worker,m.NODE_STREAM_INPUT=1,m.LocalChunkSize=10485760,m.RemoteChunkSize=5242880,m.DefaultDelimiter=",",m.Parser=Je,m.ParserHandle=at,m.NetworkStreamer=_t,m.FileStreamer=vt,m.StringStreamer=dt,m.ReadableStreamStreamer=ut,n.jQuery){var S=n.jQuery;S.fn.parse=function(d){var a=d.config||{},Ue=[];return this.each(function(Pt){if(!(S(this).prop("tagName").toUpperCase()==="INPUT"&&S(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var gt=0;gt<this.files.length;gt++)Ue.push({file:this.files[gt],inputElem:this,instanceConfig:S.extend({},a)})}),xe(),this;function xe(){if(Ue.length!==0){var Pt,gt,Ot,It,Ft=Ue[0];if(mt(d.before)){var Rt=d.before(Ft.file,Ft.inputElem);if(typeof Rt=="object"){if(Rt.action==="abort")return Pt="AbortError",gt=Ft.file,Ot=Ft.inputElem,It=Rt.reason,void(mt(d.error)&&d.error({name:Pt},gt,Ot,It));if(Rt.action==="skip")return void St();typeof Rt.config=="object"&&(Ft.instanceConfig=S.extend(Ft.instanceConfig,Rt.config))}else if(Rt==="skip")return void St()}var Lt=Ft.instanceConfig.complete;Ft.instanceConfig.complete=function(tn){mt(Lt)&&Lt(tn,Ft.file,Ft.inputElem),St()},m.parse(Ft.file,Ft.instanceConfig)}else mt(d.complete)&&d.complete()}function St(){Ue.splice(0,1),xe()}}}function b(d){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(a){var Ue=p(a);Ue.chunkSize=parseInt(Ue.chunkSize),a.step||a.chunk||(Ue.chunkSize=null),this._handle=new at(Ue),(this._handle.streamer=this)._config=Ue}).call(this,d),this.parseChunk=function(a,Ue){if(this.isFirstChunk&&mt(this._config.beforeFirstChunk)){var xe=this._config.beforeFirstChunk(a);xe!==void 0&&(a=xe)}this.isFirstChunk=!1,this._halted=!1;var St=this._partialLine+a;this._partialLine="";var Pt=this._handle.parse(St,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var gt=Pt.meta.cursor;this._finished||(this._partialLine=St.substring(gt-this._baseIndex),this._baseIndex=gt),Pt&&Pt.data&&(this._rowCount+=Pt.data.length);var Ot=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(g)n.postMessage({results:Pt,workerId:m.WORKER_ID,finished:Ot});else if(mt(this._config.chunk)&&!Ue){if(this._config.chunk(Pt,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Pt=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Pt.data),this._completeResults.errors=this._completeResults.errors.concat(Pt.errors),this._completeResults.meta=Pt.meta),this._completed||!Ot||!mt(this._config.complete)||Pt&&Pt.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Ot||Pt&&Pt.meta.paused||this._nextChunk(),Pt}this._halted=!0},this._sendError=function(a){mt(this._config.error)?this._config.error(a):g&&this._config.error&&n.postMessage({workerId:m.WORKER_ID,error:a,finished:!1})}}function _t(d){var a;(d=d||{}).chunkSize||(d.chunkSize=m.RemoteChunkSize),b.call(this,d),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Ue){this._input=Ue,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(a=new XMLHttpRequest,this._config.withCredentials&&(a.withCredentials=this._config.withCredentials),s||(a.onload=w(this._chunkLoaded,this),a.onerror=w(this._chunkError,this)),a.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var Ue=this._config.downloadRequestHeaders;for(var xe in Ue)a.setRequestHeader(xe,Ue[xe])}if(this._config.chunkSize){var St=this._start+this._config.chunkSize-1;a.setRequestHeader("Range","bytes="+this._start+"-"+St)}try{a.send(this._config.downloadRequestBody)}catch(Pt){this._chunkError(Pt.message)}s&&a.status===0&&this._chunkError()}},this._chunkLoaded=function(){a.readyState===4&&(a.status<200||400<=a.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:a.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(Ue){var xe=Ue.getResponseHeader("Content-Range");return xe===null?-1:parseInt(xe.substring(xe.lastIndexOf("/")+1))}(a),this.parseChunk(a.responseText)))},this._chunkError=function(Ue){var xe=a.statusText||Ue;this._sendError(new Error(xe))}}function vt(d){var a,Ue;(d=d||{}).chunkSize||(d.chunkSize=m.LocalChunkSize),b.call(this,d);var xe=typeof FileReader<"u";this.stream=function(St){this._input=St,Ue=St.slice||St.webkitSlice||St.mozSlice,xe?((a=new FileReader).onload=w(this._chunkLoaded,this),a.onerror=w(this._chunkError,this)):a=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var St=this._input;if(this._config.chunkSize){var Pt=Math.min(this._start+this._config.chunkSize,this._input.size);St=Ue.call(St,this._start,Pt)}var gt=a.readAsText(St,this._config.encoding);xe||this._chunkLoaded({target:{result:gt}})},this._chunkLoaded=function(St){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(St.target.result)},this._chunkError=function(){this._sendError(a.error)}}function dt(d){var a;b.call(this,d=d||{}),this.stream=function(Ue){return a=Ue,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var Ue,xe=this._config.chunkSize;return xe?(Ue=a.substring(0,xe),a=a.substring(xe)):(Ue=a,a=""),this._finished=!a,this.parseChunk(Ue)}}}function ut(d){b.call(this,d=d||{});var a=[],Ue=!0,xe=!1;this.pause=function(){b.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){b.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(St){this._input=St,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){xe&&a.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),a.length?this.parseChunk(a.shift()):Ue=!0},this._streamData=w(function(St){try{a.push(typeof St=="string"?St:St.toString(this._config.encoding)),Ue&&(Ue=!1,this._checkIsFinished(),this.parseChunk(a.shift()))}catch(Pt){this._streamError(Pt)}},this),this._streamError=w(function(St){this._streamCleanUp(),this._sendError(St)},this),this._streamEnd=w(function(){this._streamCleanUp(),xe=!0,this._streamData("")},this),this._streamCleanUp=w(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function at(d){var a,Ue,xe,St=Math.pow(2,53),Pt=-St,gt=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ot=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,It=this,Ft=0,Rt=0,Lt=!1,tn=!1,rn=[],Kt={data:[],errors:[],meta:{}};if(mt(d.step)){var yt=d.step;d.step=function(lt){if(Kt=lt,c())h();else{if(h(),Kt.data.length===0)return;Ft+=lt.data.length,d.preview&&Ft>d.preview?Ue.abort():(Kt.data=Kt.data[0],yt(Kt,It))}}}function l(lt){return d.skipEmptyLines==="greedy"?lt.join("").trim()==="":lt.length===1&&lt[0].length===0}function h(){return Kt&&xe&&(Fe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+m.DefaultDelimiter+"'"),xe=!1),d.skipEmptyLines&&(Kt.data=Kt.data.filter(function(lt){return!l(lt)})),c()&&function(){if(!Kt)return;function lt(wt,Ut){mt(d.transformHeader)&&(wt=d.transformHeader(wt,Ut)),rn.push(wt)}if(Array.isArray(Kt.data[0])){for(var xt=0;c()&&xt<Kt.data.length;xt++)Kt.data[xt].forEach(lt);Kt.data.splice(0,1)}else Kt.data.forEach(lt)}(),function(){if(!Kt||!d.header&&!d.dynamicTyping&&!d.transform)return Kt;function lt(wt,Ut){var Mt,$t=d.header?{}:[];for(Mt=0;Mt<wt.length;Mt++){var Vt=Mt,Jt=wt[Mt];d.header&&(Vt=Mt>=rn.length?"__parsed_extra":rn[Mt]),d.transform&&(Jt=d.transform(Jt,Vt)),Jt=ie(Vt,Jt),Vt==="__parsed_extra"?($t[Vt]=$t[Vt]||[],$t[Vt].push(Jt)):$t[Vt]=Jt}return d.header&&(Mt>rn.length?Fe("FieldMismatch","TooManyFields","Too many fields: expected "+rn.length+" fields but parsed "+Mt,Rt+Ut):Mt<rn.length&&Fe("FieldMismatch","TooFewFields","Too few fields: expected "+rn.length+" fields but parsed "+Mt,Rt+Ut)),$t}var xt=1;return!Kt.data.length||Array.isArray(Kt.data[0])?(Kt.data=Kt.data.map(lt),xt=Kt.data.length):Kt.data=lt(Kt.data,0),d.header&&Kt.meta&&(Kt.meta.fields=rn),Rt+=xt,Kt}()}function c(){return d.header&&rn.length===0}function ie(lt,xt){return wt=lt,d.dynamicTypingFunction&&d.dynamicTyping[wt]===void 0&&(d.dynamicTyping[wt]=d.dynamicTypingFunction(wt)),(d.dynamicTyping[wt]||d.dynamicTyping)===!0?xt==="true"||xt==="TRUE"||xt!=="false"&&xt!=="FALSE"&&(function(Ut){if(gt.test(Ut)){var Mt=parseFloat(Ut);if(Pt<Mt&&Mt<St)return!0}return!1}(xt)?parseFloat(xt):Ot.test(xt)?new Date(xt):xt===""?null:xt):xt;var wt}function Fe(lt,xt,wt,Ut){var Mt={type:lt,code:xt,message:wt};Ut!==void 0&&(Mt.row=Ut),Kt.errors.push(Mt)}this.parse=function(lt,xt,wt){var Ut=d.quoteChar||'"';if(d.newline||(d.newline=function(Vt,Jt){Vt=Vt.substring(0,1048576);var Yt=new RegExp(je(Jt)+"([^]*?)"+je(Jt),"gm"),hn=(Vt=Vt.replace(Yt,"")).split("\r"),vn=Vt.split(`
`),an=1<vn.length&&vn[0].length<hn[0].length;if(hn.length===1||an)return`
`;for(var pn=0,Qt=0;Qt<hn.length;Qt++)hn[Qt][0]===`
`&&pn++;return pn>=hn.length/2?`\r
`:"\r"}(lt,Ut)),xe=!1,d.delimiter)mt(d.delimiter)&&(d.delimiter=d.delimiter(lt),Kt.meta.delimiter=d.delimiter);else{var Mt=function(Vt,Jt,Yt,hn,vn){var an,pn,Qt,Nt;vn=vn||[",","	","|",";",m.RECORD_SEP,m.UNIT_SEP];for(var Wt=0;Wt<vn.length;Wt++){var Xt=vn[Wt],dn=0,un=0,wn=0;Qt=void 0;for(var Rn=new Je({comments:hn,delimiter:Xt,newline:Jt,preview:10}).parse(Vt),Pn=0;Pn<Rn.data.length;Pn++)if(Yt&&l(Rn.data[Pn]))wn++;else{var Fn=Rn.data[Pn].length;un+=Fn,Qt!==void 0?0<Fn&&(dn+=Math.abs(Fn-Qt),Qt=Fn):Qt=Fn}0<Rn.data.length&&(un/=Rn.data.length-wn),(pn===void 0||dn<=pn)&&(Nt===void 0||Nt<un)&&1.99<un&&(pn=dn,an=Xt,Nt=un)}return{successful:!!(d.delimiter=an),bestDelimiter:an}}(lt,d.newline,d.skipEmptyLines,d.comments,d.delimitersToGuess);Mt.successful?d.delimiter=Mt.bestDelimiter:(xe=!0,d.delimiter=m.DefaultDelimiter),Kt.meta.delimiter=d.delimiter}var $t=p(d);return d.preview&&d.header&&$t.preview++,a=lt,Ue=new Je($t),Kt=Ue.parse(a,xt,wt),h(),Lt?{meta:{paused:!0}}:Kt||{meta:{paused:!1}}},this.paused=function(){return Lt},this.pause=function(){Lt=!0,Ue.abort(),a=mt(d.chunk)?"":a.substring(Ue.getCharIndex())},this.resume=function(){It.streamer._halted?(Lt=!1,It.streamer.parseChunk(a,!0)):setTimeout(It.resume,3)},this.aborted=function(){return tn},this.abort=function(){tn=!0,Ue.abort(),Kt.meta.aborted=!0,mt(d.complete)&&d.complete(Kt),a=""}}function je(d){return d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Je(d){var a,Ue=(d=d||{}).delimiter,xe=d.newline,St=d.comments,Pt=d.step,gt=d.preview,Ot=d.fastMode,It=a=d.quoteChar===void 0||d.quoteChar===null?'"':d.quoteChar;if(d.escapeChar!==void 0&&(It=d.escapeChar),(typeof Ue!="string"||-1<m.BAD_DELIMITERS.indexOf(Ue))&&(Ue=","),St===Ue)throw new Error("Comment character same as delimiter");St===!0?St="#":(typeof St!="string"||-1<m.BAD_DELIMITERS.indexOf(St))&&(St=!1),xe!==`
`&&xe!=="\r"&&xe!==`\r
`&&(xe=`
`);var Ft=0,Rt=!1;this.parse=function(Lt,tn,rn){if(typeof Lt!="string")throw new Error("Input must be a string");var Kt=Lt.length,yt=Ue.length,l=xe.length,h=St.length,c=mt(Pt),ie=[],Fe=[],lt=[],xt=Ft=0;if(!Lt)return xn();if(d.header&&!tn){var wt=Lt.split(xe)[0].split(Ue),Ut=[],Mt={},$t=!1;for(var Vt in wt){var Jt=wt[Vt];mt(d.transformHeader)&&(Jt=d.transformHeader(Jt,Vt));var Yt=Jt,hn=Mt[Jt]||0;for(0<hn&&($t=!0,Yt=Jt+"_"+hn),Mt[Jt]=hn+1;Ut.includes(Yt);)Yt=Yt+"_"+hn;Ut.push(Yt)}if($t){var vn=Lt.split(xe);vn[0]=Ut.join(Ue),Lt=vn.join(xe)}}if(Ot||Ot!==!1&&Lt.indexOf(a)===-1){for(var an=Lt.split(xe),pn=0;pn<an.length;pn++){if(lt=an[pn],Ft+=lt.length,pn!==an.length-1)Ft+=xe.length;else if(rn)return xn();if(!St||lt.substring(0,h)!==St){if(c){if(ie=[],wn(lt.split(Ue)),kn(),Rt)return xn()}else wn(lt.split(Ue));if(gt&&gt<=pn)return ie=ie.slice(0,gt),xn(!0)}}return xn()}for(var Qt=Lt.indexOf(Ue,Ft),Nt=Lt.indexOf(xe,Ft),Wt=new RegExp(je(It)+je(a),"g"),Xt=Lt.indexOf(a,Ft);;)if(Lt[Ft]!==a)if(St&&lt.length===0&&Lt.substring(Ft,Ft+h)===St){if(Nt===-1)return xn();Ft=Nt+l,Nt=Lt.indexOf(xe,Ft),Qt=Lt.indexOf(Ue,Ft)}else if(Qt!==-1&&(Qt<Nt||Nt===-1))lt.push(Lt.substring(Ft,Qt)),Ft=Qt+yt,Qt=Lt.indexOf(Ue,Ft);else{if(Nt===-1)break;if(lt.push(Lt.substring(Ft,Nt)),Fn(Nt+l),c&&(kn(),Rt))return xn();if(gt&&ie.length>=gt)return xn(!0)}else for(Xt=Ft,Ft++;;){if((Xt=Lt.indexOf(a,Xt+1))===-1)return rn||Fe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:Ft}),Pn();if(Xt===Kt-1)return Pn(Lt.substring(Ft,Xt).replace(Wt,a));if(a!==It||Lt[Xt+1]!==It){if(a===It||Xt===0||Lt[Xt-1]!==It){Qt!==-1&&Qt<Xt+1&&(Qt=Lt.indexOf(Ue,Xt+1)),Nt!==-1&&Nt<Xt+1&&(Nt=Lt.indexOf(xe,Xt+1));var dn=Rn(Nt===-1?Qt:Math.min(Qt,Nt));if(Lt.substr(Xt+1+dn,yt)===Ue){lt.push(Lt.substring(Ft,Xt).replace(Wt,a)),Lt[Ft=Xt+1+dn+yt]!==a&&(Xt=Lt.indexOf(a,Ft)),Qt=Lt.indexOf(Ue,Ft),Nt=Lt.indexOf(xe,Ft);break}var un=Rn(Nt);if(Lt.substring(Xt+1+un,Xt+1+un+l)===xe){if(lt.push(Lt.substring(Ft,Xt).replace(Wt,a)),Fn(Xt+1+un+l),Qt=Lt.indexOf(Ue,Ft),Xt=Lt.indexOf(a,Ft),c&&(kn(),Rt))return xn();if(gt&&ie.length>=gt)return xn(!0);break}Fe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:Ft}),Xt++}}else Xt++}return Pn();function wn(Cn){ie.push(Cn),xt=Ft}function Rn(Cn){var nn=0;if(Cn!==-1){var Ht=Lt.substring(Xt+1,Cn);Ht&&Ht.trim()===""&&(nn=Ht.length)}return nn}function Pn(Cn){return rn||(Cn===void 0&&(Cn=Lt.substring(Ft)),lt.push(Cn),Ft=Kt,wn(lt),c&&kn()),xn()}function Fn(Cn){Ft=Cn,wn(lt),lt=[],Nt=Lt.indexOf(xe,Ft)}function xn(Cn){return{data:ie,errors:Fe,meta:{delimiter:Ue,linebreak:xe,aborted:Rt,truncated:!!Cn,cursor:xt+(tn||0)}}}function kn(){Pt(xn()),ie=[],Fe=[]}},this.abort=function(){Rt=!0},this.getCharIndex=function(){return Ft}}function ht(d){var a=d.data,Ue=ae[a.workerId],xe=!1;if(a.error)Ue.userError(a.error,a.file);else if(a.results&&a.results.data){var St={abort:function(){xe=!0,bt(a.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ft,resume:ft};if(mt(Ue.userStep)){for(var Pt=0;Pt<a.results.data.length&&(Ue.userStep({data:a.results.data[Pt],errors:a.results.errors,meta:a.results.meta},St),!xe);Pt++);delete a.results}else mt(Ue.userChunk)&&(Ue.userChunk(a.results,St,a.file),delete a.results)}a.finished&&!xe&&bt(a.workerId,a.results)}function bt(d,a){var Ue=ae[d];mt(Ue.userComplete)&&Ue.userComplete(a),Ue.terminate(),delete ae[d]}function ft(){throw new Error("Not implemented.")}function p(d){if(typeof d!="object"||d===null)return d;var a=Array.isArray(d)?[]:{};for(var Ue in d)a[Ue]=p(d[Ue]);return a}function w(d,a){return function(){d.apply(a,arguments)}}function mt(d){return typeof d=="function"}return g&&(n.onmessage=function(d){var a=d.data;if(m.WORKER_ID===void 0&&a&&(m.WORKER_ID=a.workerId),typeof a.input=="string")n.postMessage({workerId:m.WORKER_ID,results:m.parse(a.input,a.config),finished:!0});else if(n.File&&a.input instanceof File||a.input instanceof Object){var Ue=m.parse(a.input,a.config);Ue&&n.postMessage({workerId:m.WORKER_ID,results:Ue,finished:!0})}}),(_t.prototype=Object.create(b.prototype)).constructor=_t,(vt.prototype=Object.create(b.prototype)).constructor=vt,(dt.prototype=Object.create(dt.prototype)).constructor=dt,(ut.prototype=Object.create(b.prototype)).constructor=ut,m})})(papaparse_min);var papaparse_minExports=papaparse_min.exports;const papaparse=getDefaultExportFromCjs(papaparse_minExports);var __makeTemplateObject$2=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},CSVRenderer=function(t){var e=t.mainState,i=e.currentDocument,n=e.config,s=reactExports.useState([]),g=s[0],ae=s[1];return reactExports.useEffect(function(){var At,m;if(i!=null&&i.fileData){var S=papaparse.parse(i.fileData,{delimiter:(At=n==null?void 0:n.csvDelimiter)!==null&&At!==void 0?At:","});!(!((m=S.errors)===null||m===void 0)&&m.length)&&S.data&&ae(S.data)}},[i,n==null?void 0:n.csvDelimiter]),g.length?React.createElement(Container$2,null,React.createElement(Table,null,React.createElement("thead",null,React.createElement("tr",null,g[0].map(function(At){return React.createElement("th",{key:At},At)}))),React.createElement("tbody",null,g.slice(1,g.length).map(function(At){return React.createElement("tr",{key:At.join("")},At.map(function(m){return React.createElement("td",{key:m},m)}))})))):null};CSVRenderer.fileTypes=["csv","text/csv"];CSVRenderer.weight=0;CSVRenderer.fileLoader=textFileLoader;var Container$2=st.div(templateObject_1$2||(templateObject_1$2=__makeTemplateObject$2([`
  width: 100%;
`],[`
  width: 100%;
`]))),Table=st.table(templateObject_2$1||(templateObject_2$1=__makeTemplateObject$2([`
  width: 100%;
  text-align: left;

  th,
  td {
    padding: 5px 10px;

    &:empty {
      display: none;
    }
  }
`],[`
  width: 100%;
  text-align: left;

  th,
  td {
    padding: 5px 10px;

    &:empty {
      display: none;
    }
  }
`]))),templateObject_1$2,templateObject_2$1,__assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$1.apply(this,arguments)},JPGRenderer=function(t){return React.createElement(ImageProxyRenderer,__assign$1({},t))};JPGRenderer.fileTypes=["gif","image/gif"];JPGRenderer.weight=0;var __makeTemplateObject$1=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},VideoRenderer=function(t){var e=t.mainState.currentDocument;return e?React.createElement(Container$1,{id:"video-renderer"},React.createElement(Video,{controls:!0,src:e.uri})):null};VideoRenderer.fileTypes=["video/mp4","video/quicktime","video/x-msvideo"];VideoRenderer.weight=0;var Container$1=st.div(templateObject_1$1||(templateObject_1$1=__makeTemplateObject$1([`
  width: 100%;
`],[`
  width: 100%;
`]))),Video=st.video(templateObject_2||(templateObject_2=__makeTemplateObject$1([`
  width: 100%;
  height: 100%;
  border: 0;
`],[`
  width: 100%;
  height: 100%;
  border: 0;
`]))),templateObject_1$1,templateObject_2,DocViewerRenderers=[BMPRenderer,HTMLRenderer,JPGRenderer$1,MSDocRenderer,PDFRenderer,PNGRenderer,TIFFRenderer,TXTRenderer,CSVRenderer,JPGRenderer,VideoRenderer],__makeTemplateObject=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign.apply(this,arguments)},DocViewer=reactExports.forwardRef(function(t,e){var i=t.documents,n=t.theme;if(!i)throw new Error("Please provide an array of documents to DocViewer!");return React.createElement(DocViewerProvider,__assign({ref:e,pluginRenderers:DocViewerRenderers},t),React.createElement(Xe,{theme:n?__assign(__assign({},defaultTheme),n):defaultTheme},React.createElement(Container,{id:"react-doc-viewer","data-testid":"react-doc-viewer"},React.createElement(HeaderBar,null),React.createElement(ProxyRenderer,null))))});const DocViewer$1=reactExports.memo(DocViewer);var Container=st.div(templateObject_1||(templateObject_1=__makeTemplateObject([`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: #ffffff;
  width: 100%;
  height: 100%;
`],[`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: #ffffff;
  width: 100%;
  height: 100%;
`]))),templateObject_1;function LoadingIcon({hasLoaded:t}){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t?jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 ml-2 mt-2 text-green-500 flex-shrink-0","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:jsxRuntimeExports.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"})}):jsxRuntimeExports.jsxs("svg",{"aria-hidden":"true",className:"w-5 h-5 ml-2 mt-2 text-gray-50 animate-spin fill-accent-secondary-500",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})})}function FileComponent(){const[t,e]=reactExports.useState(!1),[i,n]=reactExports.useState(!1),[s,g]=reactExports.useState(!1),[ae,At]=reactExports.useState([]),m=document.getElementById("file-bytes").getAttribute("content")||"";console.log("File bytes:",m),console.log(typeof m);const S=vt=>{var dt;((dt=vt.target.files)==null?void 0:dt.length)===1&&(e(!0),n(!1),At(Array.from(vt.target.files)))},b=async vt=>{if(vt.preventDefault(),!ae[0]){alert("Please select a file.");return}const dt=new FormData;dt.append("form_file",ae[0]);const ut=window.location.pathname+"/submit_assignment";try{const at=await fetch(ut,{method:"POST",body:dt});console.log("Server response:",at)}catch(at){console.error("Error:",at)}n(!0),e(!1)},_t=async()=>{console.log("Fetching File");try{const vt=await fetch(window.location.pathname+"/fetch_assignment_file");if(vt.status===204)return;const dt=await vt.blob();console.log("Response:",vt,"Blob",dt,"Blob text",dt.text()),console.log("Response headers:",vt.headers);const ut=vt.headers.get("filename")||"default.txt";return new File([dt],ut,{type:vt.headers.get("Content-Type")||void 0})}catch(vt){console.error("Error fetching PDF:",vt)}};return ae.length===0&&_t().then(vt=>{vt!==void 0&&(console.log("Setting selectedDocs to",vt),At([vt]),n(!0)),g(!0)}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold mb-4 mt-5",children:"Submission"}),jsxRuntimeExports.jsx(LoadingIcon,{hasLoaded:s})]}),i?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(UploadPreview,{selectedDocs:ae}),jsxRuntimeExports.jsx("p",{className:"text-base mb-4",children:"Looks Like you've already submitted an assignment. Do you want to submit another one?"})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),t?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(UploadPreview,{selectedDocs:ae}),jsxRuntimeExports.jsxs("form",{onSubmit:b,className:"flex items-center grid grid-cols-1 auto-cols-auto gap-4 mt-10",children:[jsxRuntimeExports.jsx("input",{id:"form_file",name:"form_file",type:"file",className:"hidden",accept:"text/plain"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{id:"link-checkbox1",type:"checkbox",className:"w-4 h-4 rounded",required:!0}),jsxRuntimeExports.jsxs("label",{htmlFor:"link-checkbox1",className:"ml-2 text-sm font-medium",children:["I agree with the ",jsxRuntimeExports.jsx("a",{href:"/privacy_policy",className:"text-blue-600 hover:text-accent-secondary-600 transition duration-200",children:"Privacy Policy"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{id:"link-checkbox2",type:"checkbox",className:"w-4 h-4 rounded",required:!0}),jsxRuntimeExports.jsx("label",{htmlFor:"link-checkbox2",className:"ml-2 text-sm font-medium",children:"I hereby acknowledge that all work submitted in this assignment is my original work, created solely by me, unless otherwise indicated."})]}),jsxRuntimeExports.jsx("button",{className:"rounded-lg px-3 py-3 font-bold text-sm shadow-md hover:shadow-lg custom-form-button",type:"submit",children:"Submit"})]})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Dropzone,{handleUpload:S})})]})}function Dropzone({handleUpload:t}){return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-full",children:jsxRuntimeExports.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[jsxRuntimeExports.jsx("svg",{className:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:jsxRuntimeExports.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Click to upload"})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"TXT or PDF only(MAX. 2MB)"})]}),jsxRuntimeExports.jsx("input",{id:"dropzone-file",type:"file",className:"hidden",accept:".txt, .pdf",onChange:t})]})})}function UploadPreview({selectedDocs:t}){const e=t.map(i=>({uri:window.URL.createObjectURL(i),fileName:i.name,fileType:i.type,f:i}));return console.log(e),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center w-full mb-10 max-h-screen",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold mb-4",children:e[0].fileName}),jsxRuntimeExports.jsx(DocViewer$1,{documents:e,pluginRenderers:DocViewerRenderers,className:"container rounded-lg bg-slate-50 overflow-auto overscroll-auto shadow-inner p-6",style:{height:700},config:{header:{disableHeader:!0,disableFileName:!1,retainURLParams:!0},pdfVerticalScrollByDefault:!1}})]})}function AssignmentPage(){const t=globalThis.template_data,e=t.assignment,i=t.user_type,[n,s]=reactExports.useState(t.showSubmitModal),g=t.verificationSuccess;return e!==void 0&&e.due_date==null&&(e.due_date="None"),console.log("Rendering AssignmentPage with ass, user:",e,i),jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col custom-pages",children:[jsxRuntimeExports.jsx(LoggedInNavbar,{}),jsxRuntimeExports.jsx("main",{className:"container mx-auto flex-grow box-border pt-28 pb-12 w-5/6",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto",children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-semibold mb-4",children:[e.id," - ",e.name]}),jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Due on: ",e.due_date]}),jsxRuntimeExports.jsxs("p",{className:"text-base mb-4",children:["Description: ",e.description]}),jsxRuntimeExports.jsxs("p",{className:"text-base mb-4",children:["Marks: ",e.marks]}),i=="teacher"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold mb-4 mt-5",children:"Student Submissions"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.students.map((ae,At)=>jsxRuntimeExports.jsx(SubjectCard,{stu:ae},At))})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FileComponent,{}),n?jsxRuntimeExports.jsx(VerificationSuccess,{setShowSubmitModal:s,result:g}):null]})]})}),jsxRuntimeExports.jsx(Footer,{})]})}globalThis.template_data===void 0?(globalThis.template_data={assignment:{due_date:"12/31/2023",id:"BSBS873295",name:"Don't Use ChatGPT",link:"/assignment",description:"Write stuff in your own words. Do not use ChatGPT or any AI to assist you. WE CAN TELL!!",marks:"???/100"},user_type:"student"},console.log("Mock data:",globalThis.template_data)):console.log("Received date from server:",globalThis.template_data);client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(AssignmentPage,{})}));
