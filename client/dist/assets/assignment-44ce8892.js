var Xi=Object.defineProperty;var Yi=(t,e,i)=>e in t?Xi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var qn=(t,e,i)=>(Yi(t,typeof e!="symbol"?e+"":e,i),i),Or=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)};var o=(t,e,i)=>(Or(t,e,"read from private field"),i?i.call(t):e.get(t)),It=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},Qt=(t,e,i,n)=>(Or(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i);var cr=(t,e,i,n)=>({set _(s){Qt(t,e,s,i)},get _(){return o(t,e,n)}}),Ht=(t,e,i)=>(Or(t,e,"access private method"),i);import{j as jsxRuntimeExports,R as React,r as reactExports,g as getAugmentedNamespace,a as getDefaultExportFromCjs,b as commonjsGlobal,F as Footer,c as client}from"./Footer-ad97b72b.js";import{L as LoggedInNavbar}from"./LoggedInNavbar-cc47cfbc.js";import{S as SubjectCard}from"./studentCard-5c18faa0.js";function _mergeNamespaces(t,e){for(var i=0;i<e.length;i++){const n=e[i];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const b=Object.getOwnPropertyDescriptor(n,s);b&&Object.defineProperty(t,s,b.get?b:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const assignment="";function Dropzone({handleUpload:t}){return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-full",children:jsxRuntimeExports.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[jsxRuntimeExports.jsx("svg",{className:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:jsxRuntimeExports.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Click to upload"})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"TXT or PDF only(MAX. 2MB)"})]}),jsxRuntimeExports.jsx("input",{id:"dropzone-file",type:"file",className:"hidden",accept:".txt, .pdf",onChange:t})]})})}function UploadButton({handleUpload:t}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("form",{children:jsxRuntimeExports.jsxs("label",{className:"block overflow-visible",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Choose Another File"}),jsxRuntimeExports.jsx("input",{className:"block w-full text-sm text-gray-900 file:custom-upload-button","aria-describedby":"file_input_help",id:"file_input",type:"file",accept:".txt, .pdf",onChange:t})]})}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-300",id:"file_input_help",children:"TXT or PDF only (MAX. 2MB)"})]})}var __assign$f=function(){return __assign$f=Object.assign||function(e){for(var i,n=1,s=arguments.length;n<s;n++){i=arguments[n];for(var b in i)Object.prototype.hasOwnProperty.call(i,b)&&(e[b]=i[b])}return e},__assign$f.apply(this,arguments)};function __spreadArray$2(t,e,i){if(i||arguments.length===2)for(var n=0,s=e.length,b;n<s;n++)(b||!(n in e))&&(b||(b=Array.prototype.slice.call(e,0,n)),b[n]=e[n]);return t.concat(b||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;function memoize(t){var e=Object.create(null);return function(i){return e[i]===void 0&&(e[i]=t(i)),e[i]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(t){return reactPropsRegex.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(t,e){return charat(t,0)^45?(((e<<2^charat(t,0))<<2^charat(t,1))<<2^charat(t,2))<<2^charat(t,3):0}function trim(t){return t.trim()}function match(t,e){return(t=e.exec(t))?t[0]:t}function replace(t,e,i){return t.replace(e,i)}function indexof(t,e){return t.indexOf(e)}function charat(t,e){return t.charCodeAt(e)|0}function substr(t,e,i){return t.slice(e,i)}function strlen(t){return t.length}function sizeof(t){return t.length}function append(t,e){return e.push(t),t}function combine(t,e){return t.map(e).join("")}function filter(t,e){return t.filter(function(i){return!match(i,e)})}var line=1,column=1,length=0,position=0,character=0,characters="";function node(t,e,i,n,s,b,$e,Ct){return{value:t,root:e,parent:i,type:n,props:s,children:b,line,column,length:$e,return:"",siblings:Ct}}function copy(t,e){return assign(node("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function lift(t){for(;t.root;)t=copy(t.root,{children:[t]});append(t,t.siblings)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(t,e){return substr(characters,t,e)}function token(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(t){return line=column=1,length=strlen(characters=t),position=0,[]}function dealloc(t){return characters="",t}function delimit(t){return trim(slice(position-1,delimiter(t===91?t+2:t===40?t+1:t)))}function whitespace(t){for(;(character=peek())&&character<33;)next();return token(t)>2||token(character)>3?"":" "}function escaping(t,e){for(;--e&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(t,caret()+(e<6&&peek()==32&&next()==32))}function delimiter(t){for(;next();)switch(character){case t:return position;case 34:case 39:t!==34&&t!==39&&delimiter(character);break;case 40:t===41&&delimiter(t);break;case 92:next();break}return position}function commenter(t,e){for(;next()&&t+character!==47+10;)if(t+character===42+42&&peek()===47)break;return"/*"+slice(e,position-1)+"*"+from(t===47?t:next())}function identifier(t){for(;!token(peek());)next();return slice(t,position)}function compile(t){return dealloc(parse("",null,null,null,[""],t=alloc(t),0,[0],t))}function parse(t,e,i,n,s,b,$e,Ct,E){for(var N=0,P=0,St=$e,Tt=0,vt=0,bt=0,gt=1,et=1,ft=1,_t=0,xt="",yt=s,p=b,pe=n,At=xt;et;)switch(bt=_t,_t=next()){case 40:if(bt!=108&&charat(At,St-1)==58){indexof(At+=replace(delimit(_t),"&","&\f"),"&\f")!=-1&&(ft=-1);break}case 34:case 39:case 91:At+=delimit(_t);break;case 9:case 10:case 13:case 32:At+=whitespace(bt);break;case 92:At+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),e,i,E),E);break;default:At+="/"}break;case 123*gt:Ct[N++]=strlen(At)*ft;case 125*gt:case 59:case 0:switch(_t){case 0:case 125:et=0;case 59+P:ft==-1&&(At=replace(At,/\f/g,"")),vt>0&&strlen(At)-St&&append(vt>32?declaration(At+";",n,i,St-1,E):declaration(replace(At," ","")+";",n,i,St-2,E),E);break;case 59:At+=";";default:if(append(pe=ruleset(At,e,i,N,P,s,Ct,xt,yt=[],p=[],St,b),b),_t===123)if(P===0)parse(At,e,pe,pe,yt,b,St,Ct,p);else switch(Tt===99&&charat(At,3)===110?100:Tt){case 100:case 108:case 109:case 115:parse(t,pe,pe,n&&append(ruleset(t,pe,pe,0,0,s,Ct,xt,s,yt=[],St,p),p),s,p,St,Ct,n?yt:p);break;default:parse(At,pe,pe,pe,[""],p,0,Ct,p)}}N=P=vt=0,gt=ft=1,xt=At="",St=$e;break;case 58:St=1+strlen(At),vt=bt;default:if(gt<1){if(_t==123)--gt;else if(_t==125&&gt++==0&&prev()==125)continue}switch(At+=from(_t),_t*gt){case 38:ft=P>0?1:(At+="\f",-1);break;case 44:Ct[N++]=(strlen(At)-1)*ft,ft=1;break;case 64:peek()===45&&(At+=delimit(next())),Tt=peek(),P=St=strlen(xt=At+=identifier(caret())),_t++;break;case 45:bt===45&&strlen(At)==2&&(gt=0)}}return b}function ruleset(t,e,i,n,s,b,$e,Ct,E,N,P,St){for(var Tt=s-1,vt=s===0?b:[""],bt=sizeof(vt),gt=0,et=0,ft=0;gt<n;++gt)for(var _t=0,xt=substr(t,Tt+1,Tt=abs(et=$e[gt])),yt=t;_t<bt;++_t)(yt=trim(et>0?vt[_t]+" "+xt:replace(xt,/&\f/g,vt[_t])))&&(E[ft++]=yt);return node(t,e,i,s===0?RULESET:Ct,E,N,P,St)}function comment(t,e,i,n){return node(t,e,i,COMMENT,from(char()),substr(t,2,-2),0,n)}function declaration(t,e,i,n,s){return node(t,e,i,DECLARATION,substr(t,0,n),substr(t,n+1,-1),n,s)}function prefix$1(t,e,i){switch(hash(t,e)){case 5103:return WEBKIT+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+t+t;case 4789:return MOZ+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+t+MOZ+t+MS+t+t;case 5936:switch(charat(t,e+11)){case 114:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return WEBKIT+t+MS+t+t;case 6165:return WEBKIT+t+MS+"flex-"+t+t;case 5187:return WEBKIT+t+replace(t,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+t;case 5443:return WEBKIT+t+MS+"flex-item-"+replace(t,/flex-|-self/g,"")+(match(t,/flex-|baseline/)?"":MS+"grid-row-"+replace(t,/flex-|-self/g,""))+t;case 4675:return WEBKIT+t+MS+"flex-line-pack"+replace(t,/align-content|flex-|-self/g,"")+t;case 5548:return WEBKIT+t+MS+replace(t,"shrink","negative")+t;case 5292:return WEBKIT+t+MS+replace(t,"basis","preferred-size")+t;case 6060:return WEBKIT+"box-"+replace(t,"-grow","")+WEBKIT+t+MS+replace(t,"grow","positive")+t;case 4554:return WEBKIT+replace(t,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+t;case 6187:return replace(replace(replace(t,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),t,"")+t;case 5495:case 3959:return replace(t,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(t,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+t+t;case 4200:if(!match(t,/flex-|baseline/))return MS+"grid-column-align"+substr(t,e)+t;break;case 2592:case 3360:return MS+replace(t,"template-","")+t;case 4384:case 3616:return i&&i.some(function(n,s){return e=s,match(n.props,/grid-\w+-end/)})?~indexof(t+(i=i[e].value),"span")?t:MS+replace(t,"-start","")+t+MS+"grid-row-span:"+(~indexof(i,"span")?match(i,/\d+/):+match(i,/\d+/)-+match(t,/\d+/))+";":MS+replace(t,"-start","")+t;case 4896:case 4128:return i&&i.some(function(n){return match(n.props,/grid-\w+-start/)})?t:MS+replace(replace(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return replace(t,/(.+)-inline(.+)/,WEBKIT+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(t)-1-e>6)switch(charat(t,e+1)){case 109:if(charat(t,e+4)!==45)break;case 102:return replace(t,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~indexof(t,"stretch")?prefix$1(replace(t,"stretch","fill-available"),e,i)+t:t}break;case 5152:case 5920:return replace(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,s,b,$e,Ct,E,N){return MS+s+":"+b+N+($e?MS+s+"-span:"+(Ct?E:+E-+b)+N:"")+t});case 4949:if(charat(t,e+6)===121)return replace(t,":",":"+WEBKIT)+t;break;case 6444:switch(charat(t,charat(t,14)===45?18:11)){case 120:return replace(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+WEBKIT+(charat(t,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+t;case 100:return replace(t,":",":"+MS)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return replace(t,"scroll-","scroll-snap-")+t}return t}function serialize(t,e){for(var i="",n=0;n<t.length;n++)i+=e(t[n],n,t,e)||"";return i}function stringify(t,e,i,n){switch(t.type){case LAYER:if(t.children.length)break;case IMPORT:case DECLARATION:return t.return=t.return||t.value;case COMMENT:return"";case KEYFRAMES:return t.return=t.value+"{"+serialize(t.children,n)+"}";case RULESET:if(!strlen(t.value=t.props.join(",")))return""}return strlen(i=serialize(t.children,n))?t.return=t.value+"{"+i+"}":""}function middleware(t){var e=sizeof(t);return function(i,n,s,b){for(var $e="",Ct=0;Ct<e;Ct++)$e+=t[Ct](i,n,s,b)||"";return $e}}function rulesheet(t){return function(e){e.root||(e=e.return)&&t(e)}}function prefixer(t,e,i,n){if(t.length>-1&&!t.return)switch(t.type){case DECLARATION:t.return=prefix$1(t.value,t.length,i);return;case KEYFRAMES:return serialize([copy(t,{value:replace(t.value,"@","@"+WEBKIT)})],n);case RULESET:if(t.length)return combine(i=t.props,function(s){switch(match(s,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":lift(copy(t,{props:[replace(s,/:(read-\w+)/,":"+MOZ+"$1")]})),lift(copy(t,{props:[s]})),assign(t,{props:filter(i,n)});break;case"::placeholder":lift(copy(t,{props:[replace(s,/:(plac\w+)/,":"+WEBKIT+"input-$1")]})),lift(copy(t,{props:[replace(s,/:(plac\w+)/,":"+MOZ+"$1")]})),lift(copy(t,{props:[replace(s,/:(plac\w+)/,MS+"input-$1")]})),lift(copy(t,{props:[s]})),assign(t,{props:filter(i,n)});break}return""})}}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},f=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",m="active",y="data-styled-version",v="6.0.9",g=`/*!sc*/
`,S=typeof window<"u"&&"HTMLElement"in window,w=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),_=Object.freeze([]),C=Object.freeze({});function I(t,e,i){return i===void 0&&(i=C),t.theme!==i.theme&&t.theme||e||i.theme}var A=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),O=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,D=/(^-|-$)/g;function R(t){return t.replace(O,"-").replace(D,"")}var T=/(a)(d)/gi,k=52,j=function(t){return String.fromCharCode(t+(t>25?39:97))};function x(t){var e,i="";for(e=Math.abs(t);e>k;e=e/k|0)i=j(e%k)+i;return(j(e%k)+i).replace(T,"$1-$2")}var V,F=5381,M=function(t,e){for(var i=e.length;i;)t=33*t^e.charCodeAt(--i);return t},$=function(t){return M(F,t)};function z(t){return x($(t)>>>0)}function B(t){return t.displayName||t.name||"Component"}function L(t){return typeof t=="string"&&!0}var G=typeof Symbol=="function"&&Symbol.for,Y=G?Symbol.for("react.memo"):60115,W=G?Symbol.for("react.forward_ref"):60112,q={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},H={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},U={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},J=((V={})[W]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},V[Y]=U,V);function X(t){return("type"in(e=t)&&e.type.$$typeof)===Y?U:"$$typeof"in t?J[t.$$typeof]:q;var e}var Z=Object.defineProperty,K=Object.getOwnPropertyNames,Q=Object.getOwnPropertySymbols,ee=Object.getOwnPropertyDescriptor,te=Object.getPrototypeOf,ne=Object.prototype;function oe(t,e,i){if(typeof e!="string"){if(ne){var n=te(e);n&&n!==ne&&oe(t,n,i)}var s=K(e);Q&&(s=s.concat(Q(e)));for(var b=X(t),$e=X(e),Ct=0;Ct<s.length;++Ct){var E=s[Ct];if(!(E in H||i&&i[E]||$e&&E in $e||b&&E in b)){var N=ee(e,E);try{Z(t,E,N)}catch{}}}}return t}function re(t){return typeof t=="function"}function se(t){return typeof t=="object"&&"styledComponentId"in t}function ie(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function ae(t,e){if(t.length===0)return"";for(var i=t[0],n=1;n<t.length;n++)i+=e?e+t[n]:t[n];return i}function ce(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function le(t,e,i){if(i===void 0&&(i=!1),!i&&!ce(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=le(t[n],e[n]);else if(ce(e))for(var n in e)t[n]=le(t[n],e[n]);return t}function ue(t,e){Object.defineProperty(t,"toString",{value:e})}function he(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var fe=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var i=0,n=0;n<e;n++)i+=this.groupSizes[n];return i},t.prototype.insertRules=function(e,i){if(e>=this.groupSizes.length){for(var n=this.groupSizes,s=n.length,b=s;e>=b;)if((b<<=1)<0)throw he(16,"".concat(e));this.groupSizes=new Uint32Array(b),this.groupSizes.set(n),this.length=b;for(var $e=s;$e<b;$e++)this.groupSizes[$e]=0}for(var Ct=this.indexOfGroup(e+1),E=($e=0,i.length);$e<E;$e++)this.tag.insertRule(Ct,i[$e])&&(this.groupSizes[e]++,Ct++)},t.prototype.clearGroup=function(e){if(e<this.length){var i=this.groupSizes[e],n=this.indexOfGroup(e),s=n+i;this.groupSizes[e]=0;for(var b=n;b<s;b++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var i="";if(e>=this.length||this.groupSizes[e]===0)return i;for(var n=this.groupSizes[e],s=this.indexOfGroup(e),b=s+n,$e=s;$e<b;$e++)i+="".concat(this.tag.getRule($e)).concat(g);return i},t}(),me=new Map,ye=new Map,ve=1,ge=function(t){if(me.has(t))return me.get(t);for(;ye.has(ve);)ve++;var e=ve++;return me.set(t,e),ye.set(e,t),e},Se=function(t,e){me.set(t,e),ye.set(e,t)},we="style[".concat(f,"][").concat(y,'="').concat(v,'"]'),be=new RegExp("^".concat(f,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ee=function(t,e,i){for(var n,s=i.split(","),b=0,$e=s.length;b<$e;b++)(n=s[b])&&t.registerName(e,n)},Ne=function(t,e){for(var i,n=((i=e.textContent)!==null&&i!==void 0?i:"").split(g),s=[],b=0,$e=n.length;b<$e;b++){var Ct=n[b].trim();if(Ct){var E=Ct.match(be);if(E){var N=0|parseInt(E[1],10),P=E[2];N!==0&&(Se(P,N),Ee(t,P,E[3]),t.getTag().insertRules(N,s)),s.length=0}else s.push(Ct)}}};function Pe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var _e=function(t){var e=document.head,i=t||e,n=document.createElement("style"),s=function(Ct){var E=Array.from(Ct.querySelectorAll("style[".concat(f,"]")));return E[E.length-1]}(i),b=s!==void 0?s.nextSibling:null;n.setAttribute(f,m),n.setAttribute(y,v);var $e=Pe();return $e&&n.setAttribute("nonce",$e),i.insertBefore(n,b),n},Ce=function(){function t(e){this.element=_e(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var n=document.styleSheets,s=0,b=n.length;s<b;s++){var $e=n[s];if($e.ownerNode===i)return $e}throw he(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,i){try{return this.sheet.insertRule(i,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var i=this.sheet.cssRules[e];return i&&i.cssText?i.cssText:""},t}(),Ie=function(){function t(e){this.element=_e(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,i){if(e<=this.length&&e>=0){var n=document.createTextNode(i);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),Ae=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,i){return e<=this.length&&(this.rules.splice(e,0,i),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Oe=S,De={isServer:!S,useCSSOMInjection:!w},Re=function(){function t(e,i,n){e===void 0&&(e=C),i===void 0&&(i={});var s=this;this.options=__assign$f(__assign$f({},De),e),this.gs=i,this.names=new Map(n),this.server=!!e.isServer,!this.server&&S&&Oe&&(Oe=!1,function(b){for(var $e=document.querySelectorAll(we),Ct=0,E=$e.length;Ct<E;Ct++){var N=$e[Ct];N&&N.getAttribute(f)!==m&&(Ne(b,N),N.parentNode&&N.parentNode.removeChild(N))}}(this)),ue(this,function(){return function(b){for(var $e=b.getTag(),Ct=$e.length,E="",N=function(St){var Tt=function(ft){return ye.get(ft)}(St);if(Tt===void 0)return"continue";var vt=b.names.get(Tt),bt=$e.getGroup(St);if(vt===void 0||bt.length===0)return"continue";var gt="".concat(f,".g").concat(St,'[id="').concat(Tt,'"]'),et="";vt!==void 0&&vt.forEach(function(ft){ft.length>0&&(et+="".concat(ft,","))}),E+="".concat(bt).concat(gt,'{content:"').concat(et,'"}').concat(g)},P=0;P<Ct;P++)N(P);return E}(s)})}return t.registerId=function(e){return ge(e)},t.prototype.reconstructWithOptions=function(e,i){return i===void 0&&(i=!0),new t(__assign$f(__assign$f({},this.options),e),this.gs,i&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(i){var n=i.useCSSOMInjection,s=i.target;return i.isServer?new Ae(s):n?new Ce(s):new Ie(s)}(this.options),new fe(e)));var e},t.prototype.hasNameForId=function(e,i){return this.names.has(e)&&this.names.get(e).has(i)},t.prototype.registerName=function(e,i){if(ge(e),this.names.has(e))this.names.get(e).add(i);else{var n=new Set;n.add(i),this.names.set(e,n)}},t.prototype.insertRules=function(e,i,n){this.registerName(e,i),this.getTag().insertRules(ge(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(ge(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Te=/&/g,ke=/^\s*\/\/.*$/gm;function je(t,e){return t.map(function(i){return i.type==="rule"&&(i.value="".concat(e," ").concat(i.value),i.value=i.value.replaceAll(",",",".concat(e," ")),i.props=i.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(i.children)&&i.type!=="@keyframes"&&(i.children=je(i.children,e)),i})}function xe(t){var e,i,n,s=t===void 0?C:t,b=s.options,$e=b===void 0?C:b,Ct=s.plugins,E=Ct===void 0?_:Ct,N=function(Tt,vt,bt){return bt===i||bt.startsWith(i)&&bt.endsWith(i)&&bt.replaceAll(i,"").length>0?".".concat(e):Tt},P=E.slice();P.push(function(Tt){Tt.type===RULESET&&Tt.value.includes("&")&&(Tt.props[0]=Tt.props[0].replace(Te,i).replace(n,N))}),$e.prefix&&P.push(prefixer),P.push(stringify);var St=function(Tt,vt,bt,gt){vt===void 0&&(vt=""),bt===void 0&&(bt=""),gt===void 0&&(gt="&"),e=gt,i=vt,n=new RegExp("\\".concat(i,"\\b"),"g");var et=Tt.replace(ke,""),ft=compile(bt||vt?"".concat(bt," ").concat(vt," { ").concat(et," }"):et);$e.namespace&&(ft=je(ft,$e.namespace));var _t=[];return serialize(ft,middleware(P.concat(rulesheet(function(xt){return _t.push(xt)})))),_t};return St.hash=E.length?E.reduce(function(Tt,vt){return vt.name||he(15),M(Tt,vt.name)},F).toString():"",St}var Ve=new Re,Fe=xe(),Me=React.createContext({shouldForwardProp:void 0,styleSheet:Ve,stylis:Fe});Me.Consumer;React.createContext(void 0);function Be(){return reactExports.useContext(Me)}var Ge=function(){function t(e,i){var n=this;this.inject=function(s,b){b===void 0&&(b=Fe);var $e=n.name+b.hash;s.hasNameForId(n.id,$e)||s.insertRules(n.id,$e,b(n.rules,$e,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=i,ue(this,function(){throw he(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Fe),this.name+e.hash},t}(),Ye=function(t){return t>="A"&&t<="Z"};function We(t){for(var e="",i=0;i<t.length;i++){var n=t[i];if(i===1&&n==="-"&&t[0]==="-")return t;Ye(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var qe=function(t){return t==null||t===!1||t===""},He=function(t){var e,i,n=[];for(var s in t){var b=t[s];t.hasOwnProperty(s)&&!qe(b)&&(Array.isArray(b)&&b.isCss||re(b)?n.push("".concat(We(s),":"),b,";"):ce(b)?n.push.apply(n,__spreadArray$2(__spreadArray$2(["".concat(s," {")],He(b),!1),["}"],!1)):n.push("".concat(We(s),": ").concat((e=s,(i=b)==null||typeof i=="boolean"||i===""?"":typeof i!="number"||i===0||e in unitlessKeys||e.startsWith("--")?String(i).trim():"".concat(i,"px")),";")))}return n};function Ue(t,e,i,n){if(qe(t))return[];if(se(t))return[".".concat(t.styledComponentId)];if(re(t)){if(!re(b=t)||b.prototype&&b.prototype.isReactComponent||!e)return[t];var s=t(e);return Ue(s,e,i,n)}var b;return t instanceof Ge?i?(t.inject(i,n),[t.getName(n)]):[t]:ce(t)?He(t):Array.isArray(t)?Array.prototype.concat.apply(_,t.map(function($e){return Ue($e,e,i,n)})):[t.toString()]}function Je(t){for(var e=0;e<t.length;e+=1){var i=t[e];if(re(i)&&!se(i))return!1}return!0}var Xe=$(v),Ze=function(){function t(e,i,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&Je(e),this.componentId=i,this.baseHash=M(Xe,i),this.baseStyle=n,Re.registerId(i)}return t.prototype.generateAndInjectStyles=function(e,i,n){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,i,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&i.hasNameForId(this.componentId,this.staticRulesId))s=ie(s,this.staticRulesId);else{var b=ae(Ue(this.rules,e,i,n)),$e=x(M(this.baseHash,b)>>>0);if(!i.hasNameForId(this.componentId,$e)){var Ct=n(b,".".concat($e),void 0,this.componentId);i.insertRules(this.componentId,$e,Ct)}s=ie(s,$e),this.staticRulesId=$e}else{for(var E=M(this.baseHash,n.hash),N="",P=0;P<this.rules.length;P++){var St=this.rules[P];if(typeof St=="string")N+=St;else if(St){var Tt=ae(Ue(St,e,i,n));E=M(E,Tt+P),N+=Tt}}if(N){var vt=x(E>>>0);i.hasNameForId(this.componentId,vt)||i.insertRules(this.componentId,vt,n(N,".".concat(vt),void 0,this.componentId)),s=ie(s,vt)}}return s},t}(),Ke=React.createContext(void 0);Ke.Consumer;function tt(t){var e=React.useContext(Ke),i=reactExports.useMemo(function(){return function(n,s){if(!n)throw he(14);if(re(n)){var b=n(s);return b}if(Array.isArray(n)||typeof n!="object")throw he(8);return s?__assign$f(__assign$f({},s),n):n}(t.theme,e)},[t.theme,e]);return t.children?React.createElement(Ke.Provider,{value:i},t.children):null}var nt={},ot=new Set;function rt(t,e,i){var n=se(t),s=t,b=!L(t),$e=e.attrs,Ct=$e===void 0?_:$e,E=e.componentId,N=E===void 0?function(xt,yt){var p=typeof xt!="string"?"sc":R(xt);nt[p]=(nt[p]||0)+1;var pe="".concat(p,"-").concat(z(v+p+nt[p]));return yt?"".concat(yt,"-").concat(pe):pe}(e.displayName,e.parentComponentId):E,P=e.displayName;P===void 0&&function(xt){return L(xt)?"styled.".concat(xt):"Styled(".concat(B(xt),")")}(t);var St=e.displayName&&e.componentId?"".concat(R(e.displayName),"-").concat(e.componentId):e.componentId||N,Tt=n&&s.attrs?s.attrs.concat(Ct).filter(Boolean):Ct,vt=e.shouldForwardProp;if(n&&s.shouldForwardProp){var bt=s.shouldForwardProp;if(e.shouldForwardProp){var gt=e.shouldForwardProp;vt=function(xt,yt){return bt(xt,yt)&&gt(xt,yt)}}else vt=bt}var et=new Ze(i,St,n?s.componentStyle:void 0);function ft(xt,yt){return function(p,pe,At){var d=p.attrs,a=p.componentStyle,dt=p.defaultProps,ze=p.foldedComponentIds,kt=p.styledComponentId,Ot=p.target,Et=React.useContext(Ke),jt=Be(),Wt=p.shouldForwardProp||jt.shouldForwardProp,Nt=function(Pt,l,h){for(var c,Le=__assign$f(__assign$f({},l),{className:void 0,theme:h}),Qe=0;Qe<Pt.length;Qe+=1){var mt=re(c=Pt[Qe])?c(Le):c;for(var Rt in mt)Le[Rt]=Rt==="className"?ie(Le[Rt],mt[Rt]):Rt==="style"?__assign$f(__assign$f({},Le[Rt]),mt[Rt]):mt[Rt]}return l.className&&(Le.className=ie(Le.className,l.className)),Le}(d,pe,I(pe,Et,dt)||C),Lt=Nt.as||Ot,Ut={};for(var ln in Nt)Nt[ln]===void 0||ln[0]==="$"||ln==="as"||ln==="theme"||(ln==="forwardedAs"?Ut.as=Nt.forwardedAs:Wt&&!Wt(ln,Lt)||(Ut[ln]=Nt[ln]));var un=function(Pt,l){var h=Be(),c=Pt.generateAndInjectStyles(l,h.styleSheet,h.stylis);return c}(a,Nt),rn=ie(ze,kt);return un&&(rn+=" "+un),Nt.className&&(rn+=" "+Nt.className),Ut[L(Lt)&&!A.has(Lt)?"class":"className"]=rn,Ut.ref=At,reactExports.createElement(Lt,Ut)}(_t,xt,yt)}var _t=React.forwardRef(ft);return _t.attrs=Tt,_t.componentStyle=et,_t.shouldForwardProp=vt,_t.foldedComponentIds=n?ie(s.foldedComponentIds,s.styledComponentId):"",_t.styledComponentId=St,_t.target=n?s.target:t,Object.defineProperty(_t,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(xt){this._foldedDefaultProps=n?function(yt){for(var p=[],pe=1;pe<arguments.length;pe++)p[pe-1]=arguments[pe];for(var At=0,d=p;At<d.length;At++)le(yt,d[At],!0);return yt}({},s.defaultProps,xt):xt}}),ue(_t,function(){return".".concat(_t.styledComponentId)}),b&&oe(_t,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_t}function st(t,e){for(var i=[t[0]],n=0,s=e.length;n<s;n+=1)i.push(e[n],t[n+1]);return i}var it$1=function(t){return Object.assign(t,{isCss:!0})};function at(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(re(t)||ce(t))return it$1(Ue(st(_,__spreadArray$2([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?Ue(n):it$1(Ue(st(n,e)))}function ct(t,e,i){if(i===void 0&&(i=C),!e)throw he(1,e);var n=function(s){for(var b=[],$e=1;$e<arguments.length;$e++)b[$e-1]=arguments[$e];return t(e,i,at.apply(void 0,__spreadArray$2([s],b,!1)))};return n.attrs=function(s){return ct(t,e,__assign$f(__assign$f({},i),{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},n.withConfig=function(s){return ct(t,e,__assign$f(__assign$f({},i),s))},n}var lt=function(t){return ct(rt,t)},ut=lt;A.forEach(function(t){ut[t]=lt(t)});function ht(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=ae(at.apply(void 0,__spreadArray$2([t],e,!1))),s=z(n);return new Ge(s,n)}const documentNavInfo$a="Document {{ currentFileNo }} of {{ allFilesCount }}",noRendererMessage$a="No renderer for file type: {{{ fileType }}}",downloadButtonLabel$a="Download file",brokenFile$a="Your file is broken. Please check it on your machine.",msgPluginRecipients$a="Recipients",msgPluginSender$a="Sender",pdfPluginLoading$a="Loading...",pdfPluginPageNumber$a="Page {{ currentPage }}/{{ allPagesCount }}",en={documentNavInfo:documentNavInfo$a,noRendererMessage:noRendererMessage$a,downloadButtonLabel:downloadButtonLabel$a,brokenFile:brokenFile$a,msgPluginRecipients:msgPluginRecipients$a,msgPluginSender:msgPluginSender$a,pdfPluginLoading:pdfPluginLoading$a,pdfPluginPageNumber:pdfPluginPageNumber$a},documentNavInfo$9="Dokument {{ currentFileNo }} z {{ allFilesCount }}",noRendererMessage$9="Brak funckji renderującej dla: {{{ fileType }}}",downloadButtonLabel$9="Pobierz plik",brokenFile$9="Twój plik jest uszkodzony. Sprawdź go na swoim komputerze.",msgPluginRecipients$9="Odbiorcy",msgPluginSender$9="Nadawca",pdfPluginLoading$9="Wczytywanie...",pdfPluginPageNumber$9="Strona {{ currentPage }}/{{ allPagesCount }}",pl={documentNavInfo:documentNavInfo$9,noRendererMessage:noRendererMessage$9,downloadButtonLabel:downloadButtonLabel$9,brokenFile:brokenFile$9,msgPluginRecipients:msgPluginRecipients$9,msgPluginSender:msgPluginSender$9,pdfPluginLoading:pdfPluginLoading$9,pdfPluginPageNumber:pdfPluginPageNumber$9},documentNavInfo$8="Documento {{ currentFileNo }} de {{ allFilesCount }}",noRendererMessage$8="No hay procesador para el tipo de archivo: {{{ fileType }}}",downloadButtonLabel$8="Descargar archivo",brokenFile$8="Tu archivo está roto. Compruébalo en tu máquina.",msgPluginRecipients$8="Destinatarios",msgPluginSender$8="Remitente",pdfPluginLoading$8="Cargando...",pdfPluginPageNumber$8="Página {{ currentPage }}/{{ allPagesCount }}",es={documentNavInfo:documentNavInfo$8,noRendererMessage:noRendererMessage$8,downloadButtonLabel:downloadButtonLabel$8,brokenFile:brokenFile$8,msgPluginRecipients:msgPluginRecipients$8,msgPluginSender:msgPluginSender$8,pdfPluginLoading:pdfPluginLoading$8,pdfPluginPageNumber:pdfPluginPageNumber$8},documentNavInfo$7="Dokument {{ currentFileNo }} von {{ allFilesCount }}",noRendererMessage$7="Kein Renderer für Dateityp: {{{ fileType }}}",downloadButtonLabel$7="Datei herunterladen",brokenFile$7="Ihre Datei ist defekt. Bitte überprüfen Sie sie auf Ihrem Rechner.",msgPluginRecipients$7="Empfänger",msgPluginSender$7="Absender",pdfPluginLoading$7="Wird geladen...",pdfPluginPageNumber$7="Seite {{ currentPage }}/{{ allPagesCount }}",de={documentNavInfo:documentNavInfo$7,noRendererMessage:noRendererMessage$7,downloadButtonLabel:downloadButtonLabel$7,brokenFile:brokenFile$7,msgPluginRecipients:msgPluginRecipients$7,msgPluginSender:msgPluginSender$7,pdfPluginLoading:pdfPluginLoading$7,pdfPluginPageNumber:pdfPluginPageNumber$7},documentNavInfo$6="Documento {{ currentFileNo }} di {{ allFilesCount }}",noRendererMessage$6="Nessun renderer per il tipo di file: {{{ fileType }}}",downloadButtonLabel$6="Scarica file",brokenFile$6="Il tuo file è danneggiato. Controllalo sul tuo computer.",msgPluginRecipients$6="Destinatari",msgPluginSender$6="Mittente",pdfPluginLoading$6="Caricamento in corso...",pdfPluginPageNumber$6="Pagina {{ currentPage }}/{{ allPagesCount }}",it={documentNavInfo:documentNavInfo$6,noRendererMessage:noRendererMessage$6,downloadButtonLabel:downloadButtonLabel$6,brokenFile:brokenFile$6,msgPluginRecipients:msgPluginRecipients$6,msgPluginSender:msgPluginSender$6,pdfPluginLoading:pdfPluginLoading$6,pdfPluginPageNumber:pdfPluginPageNumber$6},documentNavInfo$5="Documento {{ currentFileNo }} de {{ allFilesCount }}",noRendererMessage$5="Nenhum renderizador para o tipo de arquivo: {{{ fileType }}}",downloadButtonLabel$5="Baixar arquivo",brokenFile$5="Seu arquivo está quebrado. Por favor, verifique-o em sua máquina.",msgPluginRecipients$5="Destinatários",msgPluginSender$5="Remetente",pdfPluginLoading$5="Carregando...",pdfPluginPageNumber$5="Página {{ currentPage }}/{{ allPagesCount }}",pt={documentNavInfo:documentNavInfo$5,noRendererMessage:noRendererMessage$5,downloadButtonLabel:downloadButtonLabel$5,brokenFile:brokenFile$5,msgPluginRecipients:msgPluginRecipients$5,msgPluginSender:msgPluginSender$5,pdfPluginLoading:pdfPluginLoading$5,pdfPluginPageNumber:pdfPluginPageNumber$5},documentNavInfo$4="Document {{ currentFileNo }} de {{ allFilesCount }}",noRendererMessage$4="Aucun moteur de rendu pour le type de fichier : {{{ fileType }}}",downloadButtonLabel$4="Télécharger le fichier",brokenFile$4="Votre fichier est cassé. Veuillez le vérifier sur votre machine.",msgPluginRecipients$4="Destinataires",msgPluginSender$4="Expéditeur",pdfPluginLoading$4="Chargement...",pdfPluginPageNumber$4="Page {{ currentPage }}/{{ allPagesCount }}",fr={documentNavInfo:documentNavInfo$4,noRendererMessage:noRendererMessage$4,downloadButtonLabel:downloadButtonLabel$4,brokenFile:brokenFile$4,msgPluginRecipients:msgPluginRecipients$4,msgPluginSender:msgPluginSender$4,pdfPluginLoading:pdfPluginLoading$4,pdfPluginPageNumber:pdfPluginPageNumber$4},documentNavInfo$3="مستند {{ currentFileNo }} من {{ allFilesCount }}",noRendererMessage$3="{{{ fileType }}} : لا يمكننا عرض هذا النوع من الملفات",downloadButtonLabel$3="تحميل الملف",brokenFile$3="الملف تالف، يرجى التحقق منه على جهازك الخاص.",msgPluginRecipients$3="المستلمين",msgPluginSender$3="المرسل",pdfPluginLoading$3="تحميل ...",pdfPluginPageNumber$3=" {{ allPagesCount }} \\ {{ currentPage }} صفحة ",ar={documentNavInfo:documentNavInfo$3,noRendererMessage:noRendererMessage$3,downloadButtonLabel:downloadButtonLabel$3,brokenFile:brokenFile$3,msgPluginRecipients:msgPluginRecipients$3,msgPluginSender:msgPluginSender$3,pdfPluginLoading:pdfPluginLoading$3,pdfPluginPageNumber:pdfPluginPageNumber$3},documentNavInfo$2="Dokument {{ currentFileNo }} od {{ allFilesCount }}",noRendererMessage$2="Ne postoji pregledač za tip fajla: {{ fileType }}",downloadButtonLabel$2="Preuzimanje fajla",brokenFile$2="Vaš fajl nije dobar. Molimo Vas da probate da ga otvorite na vašem računaru.",msgPluginRecipients$2="Primaoci",msgPluginSender$2="Pošiljalac",pdfPluginLoading$2="Učitavanje...",pdfPluginPageNumber$2="Strana {{ currentPage }}/{{ allPagesCount }}",sr={documentNavInfo:documentNavInfo$2,noRendererMessage:noRendererMessage$2,downloadButtonLabel:downloadButtonLabel$2,brokenFile:brokenFile$2,msgPluginRecipients:msgPluginRecipients$2,msgPluginSender:msgPluginSender$2,pdfPluginLoading:pdfPluginLoading$2,pdfPluginPageNumber:pdfPluginPageNumber$2},documentNavInfo$1="Документ {{ currentFileNo }} od {{ allFilesCount }}",noRendererMessage$1="Не постоји прегледач за тип фајла: {{ fileType }}",downloadButtonLabel$1="Преузимање фајла",brokenFile$1="Ваш фајл није добар. Молимо Вас да пробате да га отворите на вашем рачунару.",msgPluginRecipients$1="Примаоци",msgPluginSender$1="Пошиљалац",pdfPluginLoading$1="Учитавање...",pdfPluginPageNumber$1="Страна {{ currentPage }}/{{ allPagesCount }}",sr_cyr={documentNavInfo:documentNavInfo$1,noRendererMessage:noRendererMessage$1,downloadButtonLabel:downloadButtonLabel$1,brokenFile:brokenFile$1,msgPluginRecipients:msgPluginRecipients$1,msgPluginSender:msgPluginSender$1,pdfPluginLoading:pdfPluginLoading$1,pdfPluginPageNumber:pdfPluginPageNumber$1},documentNavInfo="ファイル {{ currentFileNo }} / {{ allFilesCount }}",noRendererMessage="ファイルタイプに対応したレンダラーはありません: {{ fileType }}",downloadButtonLabel="ダウンロード",brokenFile="ファイルが壊れています。あなたのマシンでファイルを確認してください。",msgPluginRecipients="受信者",msgPluginSender="送信者",pdfPluginLoading="ローティング中...",pdfPluginPageNumber="ページ {{ currentPage }}/{{ allPagesCount }}",ja={documentNavInfo,noRendererMessage,downloadButtonLabel,brokenFile,msgPluginRecipients,msgPluginSender,pdfPluginLoading,pdfPluginPageNumber};var locales={en,pl,es,de,it,pt,fr,ar,sr,sr_cyr,ja},defaultLanguage="en",SET_ALL_DOCUMENTS="SET_ALL_DOCUMENTS",SET_DOCUMENT_LOADING="SET_DOCUMENT_LOADING",NEXT_DOCUMENT="NEXT_DOCUMENT",PREVIOUS_DOCUMENT="PREVIOUS_DOCUMENT",UPDATE_CURRENT_DOCUMENT="UPDATE_CURRENT_DOCUMENT",SET_RENDERER_RECT="SET_RENDERER_RECT",SET_MAIN_CONFIG="SET_MAIN_CONFIG",setAllDocuments=function(t,e){return{type:SET_ALL_DOCUMENTS,documents:t,initialActiveDocument:e}},setDocumentLoading=function(t){return{type:SET_DOCUMENT_LOADING,value:t}},nextDocument=function(){return{type:NEXT_DOCUMENT}},previousDocument=function(){return{type:PREVIOUS_DOCUMENT}},updateCurrentDocument=function(t){return{type:UPDATE_CURRENT_DOCUMENT,document:t}},setRendererRect=function(t){return{type:SET_RENDERER_RECT,rect:t}},setMainConfig=function(t){return{type:SET_MAIN_CONFIG,config:t}},__assign$e=globalThis&&globalThis.__assign||function(){return __assign$e=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$e.apply(this,arguments)},initialState={currentFileNo:0,documents:[],documentLoading:!0,currentDocument:void 0,rendererRect:void 0,config:{},pluginRenderers:[],language:defaultLanguage},mainStateReducer=function(t,e){switch(t===void 0&&(t=initialState),e.type){case SET_ALL_DOCUMENTS:{var i=e,n=i.documents,s=i.initialActiveDocument;return __assign$e(__assign$e({},t),{documents:n,currentDocument:s||n[0]||null,currentFileNo:s&&n.includes(s)?n.indexOf(s):initialState.currentFileNo})}case SET_DOCUMENT_LOADING:{var b=e.value;return __assign$e(__assign$e({},t),{documentLoading:b})}case NEXT_DOCUMENT:{if(t.currentFileNo>=t.documents.length-1)return t;var $e=t.currentFileNo+1;return t.onDocumentChange&&t.onDocumentChange(t.documents[$e]),__assign$e(__assign$e({},t),{currentFileNo:$e,currentDocument:t.documents[$e],documentLoading:!0})}case PREVIOUS_DOCUMENT:{if(t.currentFileNo<=0)return t;var Ct=t.currentFileNo-1;return t.onDocumentChange&&t.onDocumentChange(t.documents[Ct]),__assign$e(__assign$e({},t),{currentFileNo:t.currentFileNo-1,currentDocument:t.documents[Ct],documentLoading:!0})}case UPDATE_CURRENT_DOCUMENT:{var E=e.document;return __assign$e(__assign$e({},t),{currentDocument:E,currentFileNo:t.documents.findIndex(function(St){return St.uri===E.uri})})}case SET_RENDERER_RECT:{var N=e.rect;return __assign$e(__assign$e({},t),{rendererRect:N})}case SET_MAIN_CONFIG:{var P=e.config;return __assign$e(__assign$e({},t),{config:P})}default:return t}},__assign$d=globalThis&&globalThis.__assign||function(){return __assign$d=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$d.apply(this,arguments)},DocViewerContext=reactExports.createContext({state:initialState,dispatch:function(){return null}}),DocViewerProvider=reactExports.forwardRef(function(t,e){var i,n=t.children,s=t.documents,b=t.config,$e=t.pluginRenderers,Ct=t.prefetchMethod,E=t.requestHeaders,N=t.initialActiveDocument,P=t.language,St=t.activeDocument,Tt=t.onDocumentChange,vt=reactExports.useReducer(mainStateReducer,__assign$d(__assign$d({},initialState),{documents:s||[],currentDocument:s&&s.length?N||s[0]:void 0,config:b,pluginRenderers:$e,prefetchMethod:Ct,requestHeaders:E,currentFileNo:N&&(i=s.findIndex(function(et){return et===N}))!==null&&i!==void 0?i:0,language:P&&locales[P]?P:defaultLanguage,activeDocument:St,onDocumentChange:Tt})),bt=vt[0],gt=vt[1];return reactExports.useEffect(function(){gt(setAllDocuments(s,N)),b&&gt(setMainConfig(b))},[s,b,N]),reactExports.useEffect(function(){St&&gt(updateCurrentDocument(St))},[St]),reactExports.useImperativeHandle(e,function(){return{prev:function(){gt(previousDocument())},next:function(){gt(nextDocument())}}},[gt]),React.createElement(DocViewerContext.Provider,{value:{state:bt,dispatch:gt}},n)}),__makeTemplateObject$i=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},ButtonPrimaryStyle=at(templateObject_1$i||(templateObject_1$i=__makeTemplateObject$i([`
  background-color: `,`;
  color: `,`;
`],[`
  background-color: `,`;
  color: `,`;
`])),function(t){return t.theme.primary},function(t){return t.theme.textPrimary}),ButtonSecondaryStyle=at(templateObject_2$a||(templateObject_2$a=__makeTemplateObject$i([`
  background-color: `,`;
  color: `,`;
`],[`
  background-color: `,`;
  color: `,`;
`])),function(t){return t.theme.secondary},function(t){return t.theme.textSecondary}),Button=ut.button(templateObject_3$4||(templateObject_3$4=__makeTemplateObject$i([`
  `,`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: `,`;
  pointer-events: `,`;
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`],[`
  `,`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: `,`;
  pointer-events: `,`;
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`])),ButtonPrimaryStyle,function(t){return t.disabled?.4:1},function(t){return t.disabled?"none":"all"}),LinkButton=ut.a(templateObject_4$2||(templateObject_4$2=__makeTemplateObject$i([`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: `,`;
  color: `,`;
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`],[`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: `,`;
  color: `,`;
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`])),function(t){return t.theme.primary},function(t){return t.theme.textPrimary});ut(Button)(templateObject_5$1||(templateObject_5$1=__makeTemplateObject$i([""],[""])));var ButtonSecondary=ut(Button)(templateObject_6||(templateObject_6=__makeTemplateObject$i([`
  `,`
`],[`
  `,`
`])),ButtonSecondaryStyle),templateObject_1$i,templateObject_2$a,templateObject_3$4,templateObject_4$2,templateObject_5$1,templateObject_6,__assign$c=globalThis&&globalThis.__assign||function(){return __assign$c=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$c.apply(this,arguments)},PrevDocIcon=function(t){return React.createElement(DocNavIcon,__assign$c({},t))},NextDocIcon=function(t){return React.createElement(DocNavIcon,__assign$c({},t,{reverse:!0}))},DocNavIcon=function(t){var e=t.color,i=t.size,n=t.reverse;return React.createElement("svg",{width:i||"100%",height:i||"100%",style:{transform:"".concat(n?"rotate(180deg)":"")},id:"arrow_left",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve"},React.createElement("path",{clipRule:"evenodd",d:"M31.106,15H3.278l8.325-8.293  c0.391-0.391,0.391-1.024,0-1.414c-0.391-0.391-1.024-0.391-1.414,0l-9.9,9.899c-0.385,0.385-0.385,1.029,0,1.414l9.9,9.9  c0.391,0.391,1.024,0.391,1.414,0c0.391-0.391,0.391-1.024,0-1.414L3.278,17h27.828c0.552,0,1-0.448,1-1  C32.106,15.448,31.658,15,31.106,15z",fill:e||"#aaa",fillRule:"evenodd",id:"Arrow_Back"}))},LoadingIcon=function(t){var e=t.color,i=t.size;return React.createElement("svg",{width:i||"100%",height:i||"100%",version:"1.1",id:"Icons",viewBox:"0 0 32 32",xmlSpace:"preserve",style:{alignSelf:"center",justifySelf:"center"}},React.createElement("g",null,React.createElement("path",{fill:e||"#aaa",d:"M16,2c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1V3C17,2.4,16.6,2,16,2z"}),React.createElement("path",{fill:e||"#aaa",d:`M7.5,6.1c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.5,6.1
		z`}),React.createElement("path",{fill:e||"#aaa",d:"M9,16c0-0.6-0.4-1-1-1H3c-0.6,0-1,0.4-1,1s0.4,1,1,1h5C8.6,17,9,16.6,9,16z"}),React.createElement("path",{fill:e||"#aaa",d:`M9.6,20.9l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4
		S10,20.6,9.6,20.9z`}),React.createElement("path",{fill:e||"#aaa",d:"M16,23c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1v-5C17,23.4,16.6,23,16,23z"}),React.createElement("path",{fill:e||"#aaa",d:`M22.4,20.9c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4
		L22.4,20.9z`}),React.createElement("path",{fill:e||"#aaa",d:"M29,15h-5c-0.6,0-1,0.4-1,1s0.4,1,1,1h5c0.6,0,1-0.4,1-1S29.6,15,29,15z"}),React.createElement("path",{fill:e||"#aaa",d:`M21.7,11.3c0.3,0,0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4
		C21.1,11.2,21.4,11.3,21.7,11.3z`})))};/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var objectToString=Object.prototype.toString,isArray=Array.isArray||function(e){return objectToString.call(e)==="[object Array]"};function isFunction(t){return typeof t=="function"}function typeStr(t){return isArray(t)?"array":typeof t}function escapeRegExp(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(t,e){return t!=null&&typeof t=="object"&&e in t}function primitiveHasOwnProperty(t,e){return t!=null&&typeof t!="object"&&t.hasOwnProperty&&t.hasOwnProperty(e)}var regExpTest=RegExp.prototype.test;function testRegExp(t,e){return regExpTest.call(t,e)}var nonSpaceRe=/\S/;function isWhitespace(t){return!testRegExp(nonSpaceRe,t)}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function escapeHtml(t){return String(t).replace(/[&<>"'`=\/]/g,function(i){return entityMap[i]})}var whiteRe=/\s*/,spaceRe=/\s+/,equalsRe=/\s*=/,curlyRe=/\s*\}/,tagRe=/#|\^|\/|>|\{|&|=|!/;function parseTemplate(t,e){if(!t)return[];var i=!1,n=[],s=[],b=[],$e=!1,Ct=!1,E="",N=0;function P(){if($e&&!Ct)for(;b.length;)delete s[b.pop()];else b=[];$e=!1,Ct=!1}var St,Tt,vt;function bt(d){if(typeof d=="string"&&(d=d.split(spaceRe,2)),!isArray(d)||d.length!==2)throw new Error("Invalid tags: "+d);St=new RegExp(escapeRegExp(d[0])+"\\s*"),Tt=new RegExp("\\s*"+escapeRegExp(d[1])),vt=new RegExp("\\s*"+escapeRegExp("}"+d[1]))}bt(e||mustache.tags);for(var gt=new Scanner(t),et,ft,_t,xt,yt,p;!gt.eos();){if(et=gt.pos,_t=gt.scanUntil(St),_t)for(var pe=0,At=_t.length;pe<At;++pe)xt=_t.charAt(pe),isWhitespace(xt)?(b.push(s.length),E+=xt):(Ct=!0,i=!0,E+=" "),s.push(["text",xt,et,et+1]),et+=1,xt===`
`&&(P(),E="",N=0,i=!1);if(!gt.scan(St))break;if($e=!0,ft=gt.scan(tagRe)||"name",gt.scan(whiteRe),ft==="="?(_t=gt.scanUntil(equalsRe),gt.scan(equalsRe),gt.scanUntil(Tt)):ft==="{"?(_t=gt.scanUntil(vt),gt.scan(curlyRe),gt.scanUntil(Tt),ft="&"):_t=gt.scanUntil(Tt),!gt.scan(Tt))throw new Error("Unclosed tag at "+gt.pos);if(ft==">"?yt=[ft,_t,et,gt.pos,E,N,i]:yt=[ft,_t,et,gt.pos],N++,s.push(yt),ft==="#"||ft==="^")n.push(yt);else if(ft==="/"){if(p=n.pop(),!p)throw new Error('Unopened section "'+_t+'" at '+et);if(p[1]!==_t)throw new Error('Unclosed section "'+p[1]+'" at '+et)}else ft==="name"||ft==="{"||ft==="&"?Ct=!0:ft==="="&&bt(_t)}if(P(),p=n.pop(),p)throw new Error('Unclosed section "'+p[1]+'" at '+gt.pos);return nestTokens(squashTokens(s))}function squashTokens(t){for(var e=[],i,n,s=0,b=t.length;s<b;++s)i=t[s],i&&(i[0]==="text"&&n&&n[0]==="text"?(n[1]+=i[1],n[3]=i[3]):(e.push(i),n=i));return e}function nestTokens(t){for(var e=[],i=e,n=[],s,b,$e=0,Ct=t.length;$e<Ct;++$e)switch(s=t[$e],s[0]){case"#":case"^":i.push(s),n.push(s),i=s[4]=[];break;case"/":b=n.pop(),b[5]=s[2],i=n.length>0?n[n.length-1][4]:e;break;default:i.push(s)}return e}function Scanner(t){this.string=t,this.tail=t,this.pos=0}Scanner.prototype.eos=function(){return this.tail===""};Scanner.prototype.scan=function(e){var i=this.tail.match(e);if(!i||i.index!==0)return"";var n=i[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n};Scanner.prototype.scanUntil=function(e){var i=this.tail.search(e),n;switch(i){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=n.length,n};function Context(t,e){this.view=t,this.cache={".":this.view},this.parent=e}Context.prototype.push=function(e){return new Context(e,this)};Context.prototype.lookup=function(e){var i=this.cache,n;if(i.hasOwnProperty(e))n=i[e];else{for(var s=this,b,$e,Ct,E=!1;s;){if(e.indexOf(".")>0)for(b=s.view,$e=e.split("."),Ct=0;b!=null&&Ct<$e.length;)Ct===$e.length-1&&(E=hasProperty(b,$e[Ct])||primitiveHasOwnProperty(b,$e[Ct])),b=b[$e[Ct++]];else b=s.view[e],E=hasProperty(s.view,e);if(E){n=b;break}s=s.parent}i[e]=n}return isFunction(n)&&(n=n.call(this.view)),n};function Writer(){this.templateCache={_cache:{},set:function(e,i){this._cache[e]=i},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}Writer.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};Writer.prototype.parse=function(e,i){var n=this.templateCache,s=e+":"+(i||mustache.tags).join(":"),b=typeof n<"u",$e=b?n.get(s):void 0;return $e==null&&($e=parseTemplate(e,i),b&&n.set(s,$e)),$e};Writer.prototype.render=function(e,i,n,s){var b=this.getConfigTags(s),$e=this.parse(e,b),Ct=i instanceof Context?i:new Context(i,void 0);return this.renderTokens($e,Ct,n,e,s)};Writer.prototype.renderTokens=function(e,i,n,s,b){for(var $e="",Ct,E,N,P=0,St=e.length;P<St;++P)N=void 0,Ct=e[P],E=Ct[0],E==="#"?N=this.renderSection(Ct,i,n,s,b):E==="^"?N=this.renderInverted(Ct,i,n,s,b):E===">"?N=this.renderPartial(Ct,i,n,b):E==="&"?N=this.unescapedValue(Ct,i):E==="name"?N=this.escapedValue(Ct,i,b):E==="text"&&(N=this.rawValue(Ct)),N!==void 0&&($e+=N);return $e};Writer.prototype.renderSection=function(e,i,n,s,b){var $e=this,Ct="",E=i.lookup(e[1]);function N(Tt){return $e.render(Tt,i,n,b)}if(E){if(isArray(E))for(var P=0,St=E.length;P<St;++P)Ct+=this.renderTokens(e[4],i.push(E[P]),n,s,b);else if(typeof E=="object"||typeof E=="string"||typeof E=="number")Ct+=this.renderTokens(e[4],i.push(E),n,s,b);else if(isFunction(E)){if(typeof s!="string")throw new Error("Cannot use higher-order sections without the original template");E=E.call(i.view,s.slice(e[3],e[5]),N),E!=null&&(Ct+=E)}else Ct+=this.renderTokens(e[4],i,n,s,b);return Ct}};Writer.prototype.renderInverted=function(e,i,n,s,b){var $e=i.lookup(e[1]);if(!$e||isArray($e)&&$e.length===0)return this.renderTokens(e[4],i,n,s,b)};Writer.prototype.indentPartial=function(e,i,n){for(var s=i.replace(/[^ \t]/g,""),b=e.split(`
`),$e=0;$e<b.length;$e++)b[$e].length&&($e>0||!n)&&(b[$e]=s+b[$e]);return b.join(`
`)};Writer.prototype.renderPartial=function(e,i,n,s){if(n){var b=this.getConfigTags(s),$e=isFunction(n)?n(e[1]):n[e[1]];if($e!=null){var Ct=e[6],E=e[5],N=e[4],P=$e;E==0&&N&&(P=this.indentPartial($e,N,Ct));var St=this.parse(P,b);return this.renderTokens(St,i,n,P,s)}}};Writer.prototype.unescapedValue=function(e,i){var n=i.lookup(e[1]);if(n!=null)return n};Writer.prototype.escapedValue=function(e,i,n){var s=this.getConfigEscape(n)||mustache.escape,b=i.lookup(e[1]);if(b!=null)return typeof b=="number"&&s===mustache.escape?String(b):s(b)};Writer.prototype.rawValue=function(e){return e[1]};Writer.prototype.getConfigTags=function(e){return isArray(e)?e:e&&typeof e=="object"?e.tags:void 0};Writer.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!isArray(e))return e.escape};var mustache={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){defaultWriter.templateCache=t},get templateCache(){return defaultWriter.templateCache}},defaultWriter=new Writer;mustache.clearCache=function(){return defaultWriter.clearCache()};mustache.parse=function(e,i){return defaultWriter.parse(e,i)};mustache.render=function(e,i,n,s){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+typeStr(e)+'" was given as the first argument for mustache#render(template, view, partials)');return defaultWriter.render(e,i,n,s)};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;var useTranslation=function(){var t=reactExports.useContext(DocViewerContext).state.language,e=locales[defaultLanguage],i=reactExports.useCallback(function(n,s){var b=locales[t];return b[n]?mustache.render(b[n],s):e[n]?mustache.render(e[n],s):n},[t,e]);return{t:i}},__makeTemplateObject$h=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},DocumentNav=function(){var t=reactExports.useContext(DocViewerContext),e=t.state,i=e.currentDocument,n=e.currentFileNo,s=e.documents,b=t.dispatch,$e=useTranslation().t;if(s.length<=1||!i)return null;var Ct=i.uri||"",E=Ct.split("/");return E.length&&(Ct=E[E.length-1]),React.createElement(Container$d,{id:"doc-nav"},React.createElement("p",{id:"doc-nav-info"},$e("documentNavInfo",{currentFileNo:n+1,allFilesCount:s.length})),React.createElement(ButtonPrev,{id:"doc-nav-prev",onClick:function(){return b(previousDocument())},disabled:n===0},React.createElement(PrevDocIcon,{color:"#fff",size:"60%"})),React.createElement(ButtonNext,{id:"doc-nav-next",onClick:function(){return b(nextDocument())},disabled:n>=s.length-1},React.createElement(NextDocIcon,{color:"#fff",size:"60%"})))},Container$d=ut.div(templateObject_1$h||(templateObject_1$h=__makeTemplateObject$h([`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: `,`;
`],[`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: `,`;
`])),function(t){return t.theme.textPrimary}),ButtonPrev=ut(ButtonSecondary)(templateObject_2$9||(templateObject_2$9=__makeTemplateObject$h([`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),ButtonNext=ut(ButtonPrev)(templateObject_3$3||(templateObject_3$3=__makeTemplateObject$h([`
  margin: 0 5px;
`],[`
  margin: 0 5px;
`]))),templateObject_1$h,templateObject_2$9,templateObject_3$3,getFileName=function(t,e){if(!t)return"";var i="";if(t.fileName)i=t.fileName;else{i=t.uri||"",i=decodeURI(i),e||(i=i.split("?")[0]);var n=i.split("/");n.length&&(i=n[n.length-1])}return i},__makeTemplateObject$g=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},FileName=function(){var t,e,i=reactExports.useContext(DocViewerContext).state,n=i.config,s=i.currentDocument;if(!s||!((t=n==null?void 0:n.header)===null||t===void 0)&&t.disableFileName)return null;var b=getFileName(s,((e=n==null?void 0:n.header)===null||e===void 0?void 0:e.retainURLParams)||!1);return React.createElement(Container$c,{id:"file-name","data-testid":"file-name"},b)},Container$c=ut.div(templateObject_1$g||(templateObject_1$g=__makeTemplateObject$g([`
  flex: 1;
  text-align: left;
  color: `,`;
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`],[`
  flex: 1;
  text-align: left;
  color: `,`;
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`])),function(t){return t.theme.textPrimary}),templateObject_1$g,__makeTemplateObject$f=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},HeaderBar=function(){var t,e,i,n=reactExports.useContext(DocViewerContext),s=n.state,b=n.dispatch,$e=s.config;if(!((t=$e==null?void 0:$e.header)===null||t===void 0)&&t.disableHeader)return null;var Ct=(i=(e=$e==null?void 0:$e.header)===null||e===void 0?void 0:e.overrideComponent)===null||i===void 0?void 0:i.call(e,s,function(){return b(previousDocument())},function(){return b(nextDocument())});return Ct||React.createElement(Container$b,{id:"header-bar","data-testid":"header-bar"},React.createElement(FileName,null),React.createElement(DocumentNav,null))},Container$b=ut.div(templateObject_1$f||(templateObject_1$f=__makeTemplateObject$f([`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: `,`;
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`],[`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: `,`;
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`])),function(t){return t.theme.primary}),templateObject_1$f,__assign$b=globalThis&&globalThis.__assign||function(){return __assign$b=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$b.apply(this,arguments)},__awaiter$1=globalThis&&globalThis.__awaiter||function(t,e,i,n){function s(b){return b instanceof i?b:new i(function($e){$e(b)})}return new(i||(i=Promise))(function(b,$e){function Ct(P){try{N(n.next(P))}catch(St){$e(St)}}function E(P){try{N(n.throw(P))}catch(St){$e(St)}}function N(P){P.done?b(P.value):s(P.value).then(Ct,E)}N((n=n.apply(t,e||[])).next())})},__generator=globalThis&&globalThis.__generator||function(t,e){var i={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},n,s,b,$e;return $e={next:Ct(0),throw:Ct(1),return:Ct(2)},typeof Symbol=="function"&&($e[Symbol.iterator]=function(){return this}),$e;function Ct(N){return function(P){return E([N,P])}}function E(N){if(n)throw new TypeError("Generator is already executing.");for(;$e&&($e=0,N[0]&&(i=0)),i;)try{if(n=1,s&&(b=N[0]&2?s.return:N[0]?s.throw||((b=s.return)&&b.call(s),0):s.next)&&!(b=b.call(s,N[1])).done)return b;switch(s=0,b&&(N=[N[0]&2,b.value]),N[0]){case 0:case 1:b=N;break;case 4:return i.label++,{value:N[1],done:!1};case 5:i.label++,s=N[1],N=[0];continue;case 7:N=i.ops.pop(),i.trys.pop();continue;default:if(b=i.trys,!(b=b.length>0&&b[b.length-1])&&(N[0]===6||N[0]===2)){i=0;continue}if(N[0]===3&&(!b||N[1]>b[0]&&N[1]<b[3])){i.label=N[1];break}if(N[0]===6&&i.label<b[1]){i.label=b[1],b=N;break}if(b&&i.label<b[2]){i.label=b[2],i.ops.push(N);break}b[2]&&i.ops.pop(),i.trys.pop();continue}N=e.call(t,i)}catch(P){N=[6,P],s=0}finally{n=b=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}},_fileLoader=function(t){var e=t.documentURI,i=t.signal,n=t.fileLoaderComplete,s=t.readerTypeFunction,b=t.headers;return fetch(e,{signal:i,headers:b}).then(function($e){return __awaiter$1(void 0,void 0,void 0,function(){var Ct,E;return __generator(this,function(N){switch(N.label){case 0:return[4,$e.blob()];case 1:switch(Ct=N.sent(),E=new FileReader,E.addEventListener("loadend",function(){return n(E)}),s){case"arrayBuffer":E.readAsArrayBuffer(Ct);break;case"binaryString":E.readAsBinaryString(Ct);break;case"dataURL":E.readAsDataURL(Ct);break;case"text":E.readAsText(Ct);break}return[2]}})})}).catch(function($e){return $e})},arrayBufferFileLoader=function(t){return _fileLoader(__assign$b(__assign$b({},t),{readerTypeFunction:"arrayBuffer"}))},dataURLFileLoader=function(t){return _fileLoader(__assign$b(__assign$b({},t),{readerTypeFunction:"dataURL"}))},textFileLoader=function(t){return _fileLoader(__assign$b(__assign$b({},t),{readerTypeFunction:"text"}))},defaultFileLoader=dataURLFileLoader,useRendererSelector=function(){var t=reactExports.useContext(DocViewerContext).state,e=t.currentDocument,i=t.pluginRenderers,n=reactExports.useState(),s=n[0],b=n[1];return reactExports.useEffect(function(){if(e){if(!e.fileType){b(void 0);return}var $e=[];i==null||i.forEach(function(E){e.fileType!==void 0&&E.fileTypes.indexOf(e.fileType)>=0&&$e.push(E)});var Ct=$e.sort(function(E,N){return N.weight-E.weight})[0];b(Ct&&Ct!==void 0?function(){return Ct}:null)}},[e,i]),{CurrentRenderer:s}},__assign$a=globalThis&&globalThis.__assign||function(){return __assign$a=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$a.apply(this,arguments)},useDocumentLoader=function(){var t=reactExports.useContext(DocViewerContext),e=t.state,i=t.dispatch,n=e.currentFileNo,s=e.currentDocument,b=e.prefetchMethod,$e=useRendererSelector().CurrentRenderer,Ct=(s==null?void 0:s.uri)||"";return reactExports.useEffect(function(){if(s&&s.fileType===void 0){var E=new AbortController,N=E.signal;return fetch(Ct,{method:b||Ct.startsWith("blob:")?"GET":"HEAD",signal:N,headers:e==null?void 0:e.requestHeaders}).then(function(P){var St=P.headers.get("content-type"),Tt=(St==null?void 0:St.split(";"))||[],vt=Tt.length?Tt[0]:void 0;i(updateCurrentDocument(__assign$a(__assign$a({},s),{fileType:vt||void 0})))}).catch(function(P){if((P==null?void 0:P.name)!=="AbortError")throw P}),function(){E.abort()}}},[n,Ct,s]),reactExports.useEffect(function(){var E;if(!(!s||$e===void 0)){var N=new AbortController,P=N.signal,St=function(vt){if(!s||!vt){i(setDocumentLoading(!1));return}var bt=__assign$a({},s);vt.result!==null&&(bt.fileData=vt.result),i(updateCurrentDocument(bt)),i(setDocumentLoading(!1))},Tt={documentURI:Ct,signal:P,fileLoaderComplete:St,headers:e==null?void 0:e.requestHeaders};return $e===null?i(setDocumentLoading(!1)):$e.fileLoader!==void 0?(E=$e.fileLoader)===null||E===void 0||E.call($e,Tt):defaultFileLoader(Tt),function(){N.abort()}}},[$e,n]),{state:e,dispatch:i,CurrentRenderer:$e}},useWindowSize=function(){var t=reactExports.useState({width:void 0,height:void 0}),e=t[0],i=t[1];return reactExports.useEffect(function(){function n(){i({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",n),n(),function(){return window.removeEventListener("resize",n)}},[]),e},LoadingTimeout=function(t){var e,i,n=t.children,s=reactExports.useContext(DocViewerContext).state,b=s.config,$e=reactExports.useState(((e=b==null?void 0:b.loadingRenderer)===null||e===void 0?void 0:e.showLoadingTimeout)===!1),Ct=$e[0],E=$e[1];return reactExports.useEffect(function(){var N;setTimeout(function(){E(!0)},typeof((N=b==null?void 0:b.loadingRenderer)===null||N===void 0?void 0:N.showLoadingTimeout)=="number"?b.loadingRenderer.showLoadingTimeout:500)},[(i=b==null?void 0:b.loadingRenderer)===null||i===void 0?void 0:i.showLoadingTimeout]),Ct?React.createElement(React.Fragment,null,n):null},__makeTemplateObject$e=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},ProxyRenderer=function(){var t,e=useDocumentLoader(),i=e.state,n=e.dispatch,s=e.CurrentRenderer,b=i.documents,$e=i.documentLoading,Ct=i.currentDocument,E=i.config,N=useWindowSize(),P=useTranslation().t,St=reactExports.useCallback(function(bt){bt&&n(setRendererRect(bt==null?void 0:bt.getBoundingClientRect()))},[N]),Tt=getFileName(Ct,((t=E==null?void 0:E.header)===null||t===void 0?void 0:t.retainURLParams)||!1),vt=function(){var bt,gt,et;if(b.length)if($e){if(E&&(!((bt=E==null?void 0:E.loadingRenderer)===null||bt===void 0)&&bt.overrideComponent)){var ft=E.loadingRenderer.overrideComponent;return React.createElement(LoadingTimeout,null,React.createElement(ft,{document:Ct,fileName:Tt}))}return React.createElement(LoadingTimeout,null,React.createElement(LoadingContainer,{id:"loading-renderer","data-testid":"loading-renderer"},React.createElement(LoadingIconContainer,null,React.createElement(LoadingIcon,{color:"#444",size:40}))))}else{if(s)return React.createElement(s,{mainState:i});if(s===void 0)return null;if(E&&(!((gt=E==null?void 0:E.noRenderer)===null||gt===void 0)&&gt.overrideComponent)){var ft=E.noRenderer.overrideComponent;return React.createElement(ft,{document:Ct,fileName:Tt})}return React.createElement("div",{id:"no-renderer","data-testid":"no-renderer"},P("noRendererMessage",{fileType:(et=Ct==null?void 0:Ct.fileType)!==null&&et!==void 0?et:""}),React.createElement(DownloadButton$1,{id:"no-renderer-download",href:Ct==null?void 0:Ct.uri,download:Ct==null?void 0:Ct.uri},P("downloadButtonLabel")))}else return React.createElement("div",{id:"no-documents"})};return React.createElement(Container$a,{id:"proxy-renderer","data-testid":"proxy-renderer",ref:St},React.createElement(vt,null))},Container$a=ut.div(templateObject_1$e||(templateObject_1$e=__makeTemplateObject$e([`
  display: flex;
  flex: 1;
  overflow-y: auto;
`],[`
  display: flex;
  flex: 1;
  overflow-y: auto;
`]))),LoadingContainer=ut.div(templateObject_2$8||(templateObject_2$8=__makeTemplateObject$e([`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`],[`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`]))),spinAnim=ht(templateObject_3$2||(templateObject_3$2=__makeTemplateObject$e([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`],[`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),LoadingIconContainer=ut.div(templateObject_4$1||(templateObject_4$1=__makeTemplateObject$e([`
  animation-name: `,`;
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`],[`
  animation-name: `,`;
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`])),spinAnim),DownloadButton$1=ut(LinkButton)(templateObject_5||(templateObject_5=__makeTemplateObject$e([`
  width: 130px;
  height: 30px;
  background-color: `,`;
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`],[`
  width: 130px;
  height: 30px;
  background-color: `,`;
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`])),function(t){return t.theme.primary}),templateObject_1$e,templateObject_2$8,templateObject_3$2,templateObject_4$1,templateObject_5,defaultTheme={primary:"#fff",secondary:"#000",tertiary:"#ffffff99",textPrimary:"#000",textSecondary:"#fff",textTertiary:"#00000044",disableThemeScrollbar:!1},__makeTemplateObject$d=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__assign$9=globalThis&&globalThis.__assign||function(){return __assign$9=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$9.apply(this,arguments)},ImageProxyRenderer=function(t){var e=t.mainState.currentDocument,i=t.children;return e?React.createElement(Container$9,__assign$9({id:"image-renderer"},t),i||React.createElement(Img,{id:"image-img",src:e.fileData})):null};ImageProxyRenderer.fileTypes=[];ImageProxyRenderer.weight=0;var Container$9=ut.div(templateObject_1$d||(templateObject_1$d=__makeTemplateObject$d([`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`],[`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`]))),Img=ut.img(templateObject_2$7||(templateObject_2$7=__makeTemplateObject$d([`
  max-width: 95%;
  max-height: 95%;
`],[`
  max-width: 95%;
  max-height: 95%;
`]))),templateObject_1$d,templateObject_2$7,__assign$8=globalThis&&globalThis.__assign||function(){return __assign$8=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$8.apply(this,arguments)},BMPRenderer=function(t){return React.createElement(ImageProxyRenderer,__assign$8({},t))};BMPRenderer.fileTypes=["bmp","image/bmp"];BMPRenderer.weight=0;var __makeTemplateObject$c=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},HTMLRenderer=function(t){var e=t.mainState.currentDocument;return reactExports.useEffect(function(){var i=e==null?void 0:e.fileData,n=(i==null?void 0:i.replace("data:text/html;base64,",""))||"",s=window.atob(n),b=document.getElementById("html-body"),$e=(b==null?void 0:b.contentWindow)&&b.contentWindow;if($e){var Ct=$e.document;Ct.open(),Ct.write("".concat(s)),Ct.close()}},[e]),React.createElement(Container$8,{id:"html-renderer"},React.createElement(BodyIFrame,{id:"html-body",sandbox:"allow-same-origin"}))};HTMLRenderer.fileTypes=["htm","html","text/htm","text/html"];HTMLRenderer.weight=0;HTMLRenderer.fileLoader=dataURLFileLoader;var Container$8=ut.div(templateObject_1$c||(templateObject_1$c=__makeTemplateObject$c([`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`],[`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`]))),BodyIFrame=ut.iframe(templateObject_2$6||(templateObject_2$6=__makeTemplateObject$c([`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`],[`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`])),function(t){return t.theme.secondary}),templateObject_1$c,templateObject_2$6,__assign$7=globalThis&&globalThis.__assign||function(){return __assign$7=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$7.apply(this,arguments)},JPGRenderer$1=function(t){return React.createElement(ImageProxyRenderer,__assign$7({},t))};JPGRenderer$1.fileTypes=["jpg","jpeg","image/jpg","image/jpeg"];JPGRenderer$1.weight=0;var __makeTemplateObject$b=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__spreadArray$1=globalThis&&globalThis.__spreadArray||function(t,e,i){if(i||arguments.length===2)for(var n=0,s=e.length,b;n<s;n++)(b||!(n in e))&&(b||(b=Array.prototype.slice.call(e,0,n)),b[n]=e[n]);return t.concat(b||Array.prototype.slice.call(e))},MSDocRenderer=function(t){var e=t.mainState.currentDocument;return e?React.createElement(Container$7,{id:"msdoc-renderer"},React.createElement(IFrame,{id:"msdoc-iframe",title:"msdoc-iframe",src:"https://view.officeapps.live.com/op/embed.aspx?src=".concat(encodeURIComponent(e.uri)),frameBorder:"0"})):null},MSDocFTMaps={odt:["odt","application/vnd.oasis.opendocument.text"],doc:["doc","application/msword"],docx:["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/octet-stream"],xls:["xls","application/vnd.ms-excel"],xlsx:["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],ppt:["ppt","application/vnd.ms-powerpoint"],pptx:["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"]};MSDocRenderer.fileTypes=__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1([],MSDocFTMaps.odt,!0),MSDocFTMaps.doc,!0),MSDocFTMaps.docx,!0),MSDocFTMaps.xls,!0),MSDocFTMaps.xlsx,!0),MSDocFTMaps.ppt,!0),MSDocFTMaps.pptx,!0);MSDocRenderer.weight=0;MSDocRenderer.fileLoader=function(t){var e=t.fileLoaderComplete;return e()};var Container$7=ut.div(templateObject_1$b||(templateObject_1$b=__makeTemplateObject$b([`
  width: 100%;
`],[`
  width: 100%;
`]))),IFrame=ut.iframe(templateObject_2$5||(templateObject_2$5=__makeTemplateObject$b([`
  width: 100%;
  height: 100%;
  border: 0;
`],[`
  width: 100%;
  height: 100%;
  border: 0;
`]))),templateObject_1$b,templateObject_2$5;function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(e,i){module.exports=e.pdfjsLib=i()})(globalThis,()=>(()=>{var __webpack_modules__=[,(t,e)=>{var Mn;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=Ut,e.bytesToString=Ft,e.createValidAbsoluteUrl=un,e.getModificationDate=mn,e.getUuid=Rn,e.getVerbosityLevel=jt,e.info=Wt,e.isArrayBuffer=tn,e.isArrayEqual=bn,e.isNodeJS=void 0,e.normalizeUnicode=Nn,e.objectFromMap=Zt,e.objectSize=Gt,e.setVerbosityLevel=Et,e.shadow=rn,e.string32=Bt,e.stringToBytes=qt,e.stringToPDFString=on,e.stringToUTF8String=zt,e.unreachable=Lt,e.utf8StringToString=Xt,e.warn=Nt;const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=i;const n=[1,0,0,1,0,0];e.IDENTITY_MATRIX=n;const s=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=s;const b=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=b;const $e=1.35;e.LINE_FACTOR=$e;const Ct=.35;e.LINE_DESCENT_FACTOR=Ct;const E=Ct/$e;e.BASELINE_FACTOR=E;const N={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=N;const P={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=P;const St="pdfjs_internal_editor_";e.AnnotationEditorPrefix=St;const Tt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=Tt;const vt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=vt;const bt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=bt;const gt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=gt;const et={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=et;const ft={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=ft;const _t={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=_t;const xt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=xt;const yt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=yt;const p={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=p;const pe={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=pe;const At={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=At;const d={O:"PageOpen",C:"PageClose"};e.PageActionEventType=d;const a={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=a;const dt={NONE:0,BINARY:1};e.CMapCompressionType=dt;const ze={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=ze;const kt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=kt;let Ot=a.WARNINGS;function Et(cn){Number.isInteger(cn)&&(Ot=cn)}function jt(){return Ot}function Wt(cn){Ot>=a.INFOS&&console.log(`Info: ${cn}`)}function Nt(cn){Ot>=a.WARNINGS&&console.log(`Warning: ${cn}`)}function Lt(cn){throw new Error(cn)}function Ut(cn,Kt){cn||Lt(Kt)}function ln(cn){switch(cn==null?void 0:cn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function un(cn,Kt=null,Vt=null){if(!cn)return null;try{if(Vt&&typeof cn=="string"){if(Vt.addDefaultProtocol&&cn.startsWith("www.")){const gn=cn.match(/\./g);(gn==null?void 0:gn.length)>=2&&(cn=`http://${cn}`)}if(Vt.tryConvertEncoding)try{cn=zt(cn)}catch{}}const fn=Kt?new URL(cn,Kt):new URL(cn);if(ln(fn))return fn}catch{}return null}function rn(cn,Kt,Vt,fn=!1){return Object.defineProperty(cn,Kt,{value:Vt,enumerable:!fn,configurable:!0,writable:!1}),Vt}const Pt=function(){function Kt(Vt,fn){this.constructor===Kt&&Lt("Cannot initialize BaseException."),this.message=Vt,this.name=fn}return Kt.prototype=new Error,Kt.constructor=Kt,Kt}();e.BaseException=Pt;class l extends Pt{constructor(Kt,Vt){super(Kt,"PasswordException"),this.code=Vt}}e.PasswordException=l;class h extends Pt{constructor(Kt,Vt){super(Kt,"UnknownErrorException"),this.details=Vt}}e.UnknownErrorException=h;class c extends Pt{constructor(Kt){super(Kt,"InvalidPDFException")}}e.InvalidPDFException=c;class Le extends Pt{constructor(Kt){super(Kt,"MissingPDFException")}}e.MissingPDFException=Le;class Qe extends Pt{constructor(Kt,Vt){super(Kt,"UnexpectedResponseException"),this.status=Vt}}e.UnexpectedResponseException=Qe;class mt extends Pt{constructor(Kt){super(Kt,"FormatError")}}e.FormatError=mt;class Rt extends Pt{constructor(Kt){super(Kt,"AbortException")}}e.AbortException=Rt;function Ft(cn){(typeof cn!="object"||(cn==null?void 0:cn.length)===void 0)&&Lt("Invalid argument for bytesToString");const Kt=cn.length,Vt=8192;if(Kt<Vt)return String.fromCharCode.apply(null,cn);const fn=[];for(let gn=0;gn<Kt;gn+=Vt){const Vn=Math.min(gn+Vt,Kt),Gn=cn.subarray(gn,Vn);fn.push(String.fromCharCode.apply(null,Gn))}return fn.join("")}function qt(cn){typeof cn!="string"&&Lt("Invalid argument for stringToBytes");const Kt=cn.length,Vt=new Uint8Array(Kt);for(let fn=0;fn<Kt;++fn)Vt[fn]=cn.charCodeAt(fn)&255;return Vt}function Bt(cn){return String.fromCharCode(cn>>24&255,cn>>16&255,cn>>8&255,cn&255)}function Gt(cn){return Object.keys(cn).length}function Zt(cn){const Kt=Object.create(null);for(const[Vt,fn]of cn)Kt[Vt]=fn;return Kt}function an(){const cn=new Uint8Array(4);return cn[0]=1,new Uint32Array(cn.buffer,0,1)[0]===1}function nn(){try{return new Function(""),!0}catch{return!1}}class vn{static get isLittleEndian(){return rn(this,"isLittleEndian",an())}static get isEvalSupported(){return rn(this,"isEvalSupported",nn())}static get isOffscreenCanvasSupported(){return rn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?rn(this,"platform",{isWin:!1,isMac:!1}):rn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Kt,Vt;return rn(this,"isCSSRoundSupported",(Vt=(Kt=globalThis.CSS)==null?void 0:Kt.supports)==null?void 0:Vt.call(Kt,"width: round(1.5px, 1px)"))}}e.FeatureTest=vn;const Sn=[...Array(256).keys()].map(cn=>cn.toString(16).padStart(2,"0"));class hn{static makeHexColor(Kt,Vt,fn){return`#${Sn[Kt]}${Sn[Vt]}${Sn[fn]}`}static scaleMinMax(Kt,Vt){let fn;Kt[0]?(Kt[0]<0&&(fn=Vt[0],Vt[0]=Vt[1],Vt[1]=fn),Vt[0]*=Kt[0],Vt[1]*=Kt[0],Kt[3]<0&&(fn=Vt[2],Vt[2]=Vt[3],Vt[3]=fn),Vt[2]*=Kt[3],Vt[3]*=Kt[3]):(fn=Vt[0],Vt[0]=Vt[2],Vt[2]=fn,fn=Vt[1],Vt[1]=Vt[3],Vt[3]=fn,Kt[1]<0&&(fn=Vt[2],Vt[2]=Vt[3],Vt[3]=fn),Vt[2]*=Kt[1],Vt[3]*=Kt[1],Kt[2]<0&&(fn=Vt[0],Vt[0]=Vt[1],Vt[1]=fn),Vt[0]*=Kt[2],Vt[1]*=Kt[2]),Vt[0]+=Kt[4],Vt[1]+=Kt[4],Vt[2]+=Kt[5],Vt[3]+=Kt[5]}static transform(Kt,Vt){return[Kt[0]*Vt[0]+Kt[2]*Vt[1],Kt[1]*Vt[0]+Kt[3]*Vt[1],Kt[0]*Vt[2]+Kt[2]*Vt[3],Kt[1]*Vt[2]+Kt[3]*Vt[3],Kt[0]*Vt[4]+Kt[2]*Vt[5]+Kt[4],Kt[1]*Vt[4]+Kt[3]*Vt[5]+Kt[5]]}static applyTransform(Kt,Vt){const fn=Kt[0]*Vt[0]+Kt[1]*Vt[2]+Vt[4],gn=Kt[0]*Vt[1]+Kt[1]*Vt[3]+Vt[5];return[fn,gn]}static applyInverseTransform(Kt,Vt){const fn=Vt[0]*Vt[3]-Vt[1]*Vt[2],gn=(Kt[0]*Vt[3]-Kt[1]*Vt[2]+Vt[2]*Vt[5]-Vt[4]*Vt[3])/fn,Vn=(-Kt[0]*Vt[1]+Kt[1]*Vt[0]+Vt[4]*Vt[1]-Vt[5]*Vt[0])/fn;return[gn,Vn]}static getAxialAlignedBoundingBox(Kt,Vt){const fn=this.applyTransform(Kt,Vt),gn=this.applyTransform(Kt.slice(2,4),Vt),Vn=this.applyTransform([Kt[0],Kt[3]],Vt),Gn=this.applyTransform([Kt[2],Kt[1]],Vt);return[Math.min(fn[0],gn[0],Vn[0],Gn[0]),Math.min(fn[1],gn[1],Vn[1],Gn[1]),Math.max(fn[0],gn[0],Vn[0],Gn[0]),Math.max(fn[1],gn[1],Vn[1],Gn[1])]}static inverseTransform(Kt){const Vt=Kt[0]*Kt[3]-Kt[1]*Kt[2];return[Kt[3]/Vt,-Kt[1]/Vt,-Kt[2]/Vt,Kt[0]/Vt,(Kt[2]*Kt[5]-Kt[4]*Kt[3])/Vt,(Kt[4]*Kt[1]-Kt[5]*Kt[0])/Vt]}static singularValueDecompose2dScale(Kt){const Vt=[Kt[0],Kt[2],Kt[1],Kt[3]],fn=Kt[0]*Vt[0]+Kt[1]*Vt[2],gn=Kt[0]*Vt[1]+Kt[1]*Vt[3],Vn=Kt[2]*Vt[0]+Kt[3]*Vt[2],Gn=Kt[2]*Vt[1]+Kt[3]*Vt[3],Jt=(fn+Gn)/2,_n=Math.sqrt((fn+Gn)**2-4*(fn*Gn-Vn*gn))/2,Cn=Jt+_n||1,En=Jt-_n||1;return[Math.sqrt(Cn),Math.sqrt(En)]}static normalizeRect(Kt){const Vt=Kt.slice(0);return Kt[0]>Kt[2]&&(Vt[0]=Kt[2],Vt[2]=Kt[0]),Kt[1]>Kt[3]&&(Vt[1]=Kt[3],Vt[3]=Kt[1]),Vt}static intersect(Kt,Vt){const fn=Math.max(Math.min(Kt[0],Kt[2]),Math.min(Vt[0],Vt[2])),gn=Math.min(Math.max(Kt[0],Kt[2]),Math.max(Vt[0],Vt[2]));if(fn>gn)return null;const Vn=Math.max(Math.min(Kt[1],Kt[3]),Math.min(Vt[1],Vt[3])),Gn=Math.min(Math.max(Kt[1],Kt[3]),Math.max(Vt[1],Vt[3]));return Vn>Gn?null:[fn,Vn,gn,Gn]}static bezierBoundingBox(Kt,Vt,fn,gn,Vn,Gn,Jt,_n){const Cn=[],En=[[],[]];let kn,Dn,zn,pn,Un,Tn,Dt,u;for(let Yt=0;Yt<2;++Yt){if(Yt===0?(Dn=6*Kt-12*fn+6*Vn,kn=-3*Kt+9*fn-9*Vn+3*Jt,zn=3*fn-3*Kt):(Dn=6*Vt-12*gn+6*Gn,kn=-3*Vt+9*gn-9*Gn+3*_n,zn=3*gn-3*Vt),Math.abs(kn)<1e-12){if(Math.abs(Dn)<1e-12)continue;pn=-zn/Dn,0<pn&&pn<1&&Cn.push(pn);continue}Dt=Dn*Dn-4*zn*kn,u=Math.sqrt(Dt),!(Dt<0)&&(Un=(-Dn+u)/(2*kn),0<Un&&Un<1&&Cn.push(Un),Tn=(-Dn-u)/(2*kn),0<Tn&&Tn<1&&Cn.push(Tn))}let wt=Cn.length,Mt;const $t=wt;for(;wt--;)pn=Cn[wt],Mt=1-pn,En[0][wt]=Mt*Mt*Mt*Kt+3*Mt*Mt*pn*fn+3*Mt*pn*pn*Vn+pn*pn*pn*Jt,En[1][wt]=Mt*Mt*Mt*Vt+3*Mt*Mt*pn*gn+3*Mt*pn*pn*Gn+pn*pn*pn*_n;return En[0][$t]=Kt,En[1][$t]=Vt,En[0][$t+1]=Jt,En[1][$t+1]=_n,En[0].length=En[1].length=$t+2,[Math.min(...En[0]),Math.min(...En[1]),Math.max(...En[0]),Math.max(...En[1])]}}e.Util=hn;const yn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function on(cn){if(cn[0]>="ï"){let Vt;if(cn[0]==="þ"&&cn[1]==="ÿ"?Vt="utf-16be":cn[0]==="ÿ"&&cn[1]==="þ"?Vt="utf-16le":cn[0]==="ï"&&cn[1]==="»"&&cn[2]==="¿"&&(Vt="utf-8"),Vt)try{const fn=new TextDecoder(Vt,{fatal:!0}),gn=qt(cn);return fn.decode(gn)}catch(fn){Nt(`stringToPDFString: "${fn}".`)}}const Kt=[];for(let Vt=0,fn=cn.length;Vt<fn;Vt++){const gn=yn[cn.charCodeAt(Vt)];Kt.push(gn?String.fromCharCode(gn):cn.charAt(Vt))}return Kt.join("")}function zt(cn){return decodeURIComponent(escape(cn))}function Xt(cn){return unescape(encodeURIComponent(cn))}function tn(cn){return typeof cn=="object"&&(cn==null?void 0:cn.byteLength)!==void 0}function bn(cn,Kt){if(cn.length!==Kt.length)return!1;for(let Vt=0,fn=cn.length;Vt<fn;Vt++)if(cn[Vt]!==Kt[Vt])return!1;return!0}function mn(cn=new Date){return[cn.getUTCFullYear().toString(),(cn.getUTCMonth()+1).toString().padStart(2,"0"),cn.getUTCDate().toString().padStart(2,"0"),cn.getUTCHours().toString().padStart(2,"0"),cn.getUTCMinutes().toString().padStart(2,"0"),cn.getUTCSeconds().toString().padStart(2,"0")].join("")}class Fn{constructor(){It(this,Mn,!1);this.promise=new Promise((Kt,Vt)=>{this.resolve=fn=>{Qt(this,Mn,!0),Kt(fn)},this.reject=fn=>{Qt(this,Mn,!0),Vt(fn)}})}get settled(){return o(this,Mn)}}Mn=new WeakMap,e.PromiseCapability=Fn;let Ln=null,On=null;function Nn(cn){return Ln||(Ln=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,On=new Map([["ﬅ","ſt"]])),cn.replaceAll(Ln,(Kt,Vt,fn)=>Vt?Vt.normalize("NFKC"):On.get(fn))}function Rn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const cn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(cn);else for(let Kt=0;Kt<32;Kt++)cn[Kt]=Math.floor(Math.random()*255);return Ft(cn)}const In="pdfjs_internal_id_";e.AnnotationPrefix=In},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var t,i,n,s,nr,$e,vr,E,N,P,St,Tt,vt,bt,gt,et,_r,_t,xt,Dr,p,pe;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(d){if(typeof d=="string"||d instanceof URL?d={url:d}:(0,_util.isArrayBuffer)(d)&&(d={data:d}),typeof d!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!d.url&&!d.data&&!d.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const a=new PDFDocumentLoadingTask,{docId:dt}=a,ze=d.url?getUrlProp(d.url):null,kt=d.data?getDataProp(d.data):null,Ot=d.httpHeaders||null,Et=d.withCredentials===!0,jt=d.password??null,Wt=d.range instanceof PDFDataRangeTransport?d.range:null,Nt=Number.isInteger(d.rangeChunkSize)&&d.rangeChunkSize>0?d.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Lt=d.worker instanceof PDFWorker?d.worker:null;const Ut=d.verbosity,ln=typeof d.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(d.docBaseUrl)?d.docBaseUrl:null,un=typeof d.cMapUrl=="string"?d.cMapUrl:null,rn=d.cMapPacked!==!1,Pt=d.CMapReaderFactory||DefaultCMapReaderFactory,l=typeof d.standardFontDataUrl=="string"?d.standardFontDataUrl:null,h=d.StandardFontDataFactory||DefaultStandardFontDataFactory,c=d.stopAtErrors!==!0,Le=Number.isInteger(d.maxImageSize)&&d.maxImageSize>-1?d.maxImageSize:-1,Qe=d.isEvalSupported!==!1,mt=typeof d.isOffscreenCanvasSupported=="boolean"?d.isOffscreenCanvasSupported:!_util.isNodeJS,Rt=Number.isInteger(d.canvasMaxAreaInBytes)?d.canvasMaxAreaInBytes:-1,Ft=typeof d.disableFontFace=="boolean"?d.disableFontFace:_util.isNodeJS,qt=d.fontExtraProperties===!0,Bt=d.enableXfa===!0,Gt=d.ownerDocument||globalThis.document,Zt=d.disableRange===!0,an=d.disableStream===!0,nn=d.disableAutoFetch===!0,vn=d.pdfBug===!0,Sn=Wt?Wt.length:d.length??NaN,hn=typeof d.useSystemFonts=="boolean"?d.useSystemFonts:!_util.isNodeJS&&!Ft,yn=typeof d.useWorkerFetch=="boolean"?d.useWorkerFetch:Pt===_display_utils.DOMCMapReaderFactory&&h===_display_utils.DOMStandardFontDataFactory&&un&&l&&(0,_display_utils.isValidFetchUrl)(un,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(l,document.baseURI),on=d.canvasFactory||new DefaultCanvasFactory({ownerDocument:Gt}),zt=d.filterFactory||new DefaultFilterFactory({docId:dt,ownerDocument:Gt}),Xt=null;(0,_util.setVerbosityLevel)(Ut);const tn={canvasFactory:on,filterFactory:zt};if(yn||(tn.cMapReaderFactory=new Pt({baseUrl:un,isCompressed:rn}),tn.standardFontDataFactory=new h({baseUrl:l})),!Lt){const Fn={verbosity:Ut,port:_worker_options.GlobalWorkerOptions.workerPort};Lt=Fn.port?PDFWorker.fromPort(Fn):new PDFWorker(Fn),a._worker=Lt}const bn={docId:dt,apiVersion:"3.11.174",data:kt,password:jt,disableAutoFetch:nn,rangeChunkSize:Nt,length:Sn,docBaseUrl:ln,enableXfa:Bt,evaluatorOptions:{maxImageSize:Le,disableFontFace:Ft,ignoreErrors:c,isEvalSupported:Qe,isOffscreenCanvasSupported:mt,canvasMaxAreaInBytes:Rt,fontExtraProperties:qt,useSystemFonts:hn,cMapUrl:yn?un:null,standardFontDataUrl:yn?l:null}},mn={ignoreErrors:c,isEvalSupported:Qe,disableFontFace:Ft,fontExtraProperties:qt,enableXfa:Bt,ownerDocument:Gt,disableAutoFetch:nn,pdfBug:vn,styleElement:Xt};return Lt.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const Fn=_fetchDocument(Lt,bn),Ln=new Promise(function(On){let Nn;Wt?Nn=new _transport_stream.PDFDataTransportStream({length:Sn,initialData:Wt.initialData,progressiveDone:Wt.progressiveDone,contentDispositionFilename:Wt.contentDispositionFilename,disableRange:Zt,disableStream:an},Wt):kt||(Nn=(In=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(In):(0,_display_utils.isValidFetchUrl)(In.url)?new _displayFetch_stream.PDFFetchStream(In):new _displayNetwork.PDFNetworkStream(In))({url:ze,length:Sn,httpHeaders:Ot,withCredentials:Et,rangeChunkSize:Nt,disableRange:Zt,disableStream:an})),On(Nn)});return Promise.all([Fn,Ln]).then(function([On,Nn]){if(a.destroyed)throw new Error("Loading aborted");const Rn=new _message_handler.MessageHandler(dt,On,Lt.port),In=new WorkerTransport(Rn,a,Nn,mn,tn);a._transport=In,Rn.send("Ready",null)})}).catch(a._capability.reject),a}async function _fetchDocument(d,a){if(d.destroyed)throw new Error("Worker was destroyed");const dt=await d.messageHandler.sendWithPromise("GetDocRequest",a,a.data?[a.data.buffer]:null);if(d.destroyed)throw new Error("Worker was destroyed");return dt}function getUrlProp(d){if(d instanceof URL)return d.href;try{return new URL(d,window.location).href}catch{if(_util.isNodeJS&&typeof d=="string")return d}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(d){if(_util.isNodeJS&&typeof Buffer<"u"&&d instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength)return d;if(typeof d=="string")return(0,_util.stringToBytes)(d);if(typeof d=="object"&&!isNaN(d==null?void 0:d.length)||(0,_util.isArrayBuffer)(d))return new Uint8Array(d);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${cr(e,t)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var a,dt,ze;this.destroyed=!0;try{(a=this._worker)!=null&&a.port&&(this._worker._pendingDestroy=!0),await((dt=this._transport)==null?void 0:dt.destroy())}catch(kt){throw(ze=this._worker)!=null&&ze.port&&delete this._worker._pendingDestroy,kt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};t=new WeakMap,It(e,t,0);let PDFDocumentLoadingTask=e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,dt,ze=!1,kt=null){this.length=a,this.initialData=dt,this.progressiveDone=ze,this.contentDispositionFilename=kt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,dt){for(const ze of this._rangeListeners)ze(a,dt)}onDataProgress(a,dt){this._readyCapability.promise.then(()=>{for(const ze of this._progressListeners)ze(a,dt)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const dt of this._progressiveReadListeners)dt(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,dt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,dt){this._pdfInfo=a,this._transport=dt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(ze=>{if(!ze)return ze;const kt=[];for(const Ot in ze)kt.push(...ze[Ot]);return kt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,dt,ze,kt=!1){It(this,s);It(this,$e);It(this,i,null);It(this,n,!1);this._pageIndex=a,this._pageInfo=dt,this._transport=ze,this._stats=kt?new _display_utils.StatTimer:null,this._pdfBug=kt,this.commonObjs=ze.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:dt=this.rotate,offsetX:ze=0,offsetY:kt=0,dontFlip:Ot=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:dt,offsetX:ze,offsetY:kt,dontFlip:Ot})}getAnnotations({intent:a="display"}={}){const dt=this._transport.getRenderingIntent(a);return this._transport.getAnnotations(this._pageIndex,dt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var a;return((a=this._transport._htmlForXfa)==null?void 0:a.children[this._pageIndex])||null}render({canvasContext:a,viewport:dt,intent:ze="display",annotationMode:kt=_util.AnnotationMode.ENABLE,transform:Ot=null,background:Et=null,optionalContentConfigPromise:jt=null,annotationCanvasMap:Wt=null,pageColors:Nt=null,printAnnotationStorage:Lt=null}){var h,c;(h=this._stats)==null||h.time("Overall");const Ut=this._transport.getRenderingIntent(ze,kt,Lt);Qt(this,n,!1),Ht(this,$e,vr).call(this),jt||(jt=this._transport.getOptionalContentConfig());let ln=this._intentStates.get(Ut.cacheKey);ln||(ln=Object.create(null),this._intentStates.set(Ut.cacheKey,ln)),ln.streamReaderCancelTimeout&&(clearTimeout(ln.streamReaderCancelTimeout),ln.streamReaderCancelTimeout=null);const un=!!(Ut.renderingIntent&_util.RenderingIntentFlag.PRINT);ln.displayReadyCapability||(ln.displayReadyCapability=new _util.PromiseCapability,ln.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(Ut));const rn=Le=>{var Qe,mt;ln.renderTasks.delete(Pt),(this._maybeCleanupAfterRender||un)&&Qt(this,n,!0),Ht(this,s,nr).call(this,!un),Le?(Pt.capability.reject(Le),this._abortOperatorList({intentState:ln,reason:Le instanceof Error?Le:new Error(Le)})):Pt.capability.resolve(),(Qe=this._stats)==null||Qe.timeEnd("Rendering"),(mt=this._stats)==null||mt.timeEnd("Overall")},Pt=new InternalRenderTask({callback:rn,params:{canvasContext:a,viewport:dt,transform:Ot,background:Et},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Wt,operatorList:ln.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!un,pdfBug:this._pdfBug,pageColors:Nt});(ln.renderTasks||(ln.renderTasks=new Set)).add(Pt);const l=Pt.task;return Promise.all([ln.displayReadyCapability.promise,jt]).then(([Le,Qe])=>{var mt;if(this.destroyed){rn();return}(mt=this._stats)==null||mt.time("Rendering"),Pt.initializeGraphics({transparency:Le,optionalContentConfig:Qe}),Pt.operatorListChanged()}).catch(rn),l}getOperatorList({intent:a="display",annotationMode:dt=_util.AnnotationMode.ENABLE,printAnnotationStorage:ze=null}={}){var Wt;function kt(){Et.operatorList.lastChunk&&(Et.opListReadCapability.resolve(Et.operatorList),Et.renderTasks.delete(jt))}const Ot=this._transport.getRenderingIntent(a,dt,ze,!0);let Et=this._intentStates.get(Ot.cacheKey);Et||(Et=Object.create(null),this._intentStates.set(Ot.cacheKey,Et));let jt;return Et.opListReadCapability||(jt=Object.create(null),jt.operatorListChanged=kt,Et.opListReadCapability=new _util.PromiseCapability,(Et.renderTasks||(Et.renderTasks=new Set)).add(jt),Et.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Wt=this._stats)==null||Wt.time("Page Request"),this._pumpOperatorList(Ot)),Et.opListReadCapability.promise}streamTextContent({includeMarkedContent:a=!1,disableNormalization:dt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:a===!0,disableNormalization:dt===!0},{highWaterMark:100,size(kt){return kt.items.length}})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(ze=>_xfa_text.XfaText.textContent(ze));const dt=this.streamTextContent(a);return new Promise(function(ze,kt){function Ot(){Et.read().then(function({value:Wt,done:Nt}){if(Nt){ze(jt);return}Object.assign(jt.styles,Wt.styles),jt.items.push(...Wt.items),Ot()},kt)}const Et=dt.getReader(),jt={items:[],styles:Object.create(null)};Ot()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const a=[];for(const dt of this._intentStates.values())if(this._abortOperatorList({intentState:dt,reason:new Error("Page was destroyed."),force:!0}),!dt.opListReadCapability)for(const ze of dt.renderTasks)a.push(ze.completed),ze.cancel();return this.objs.clear(),Qt(this,n,!1),Ht(this,$e,vr).call(this),Promise.all(a)}cleanup(a=!1){Qt(this,n,!0);const dt=Ht(this,s,nr).call(this,!1);return a&&dt&&this._stats&&(this._stats=new _display_utils.StatTimer),dt}_startRenderPage(a,dt){var kt,Ot;const ze=this._intentStates.get(dt);ze&&((kt=this._stats)==null||kt.timeEnd("Page Request"),(Ot=ze.displayReadyCapability)==null||Ot.resolve(a))}_renderPageChunk(a,dt){for(let ze=0,kt=a.length;ze<kt;ze++)dt.operatorList.fnArray.push(a.fnArray[ze]),dt.operatorList.argsArray.push(a.argsArray[ze]);dt.operatorList.lastChunk=a.lastChunk,dt.operatorList.separateAnnots=a.separateAnnots;for(const ze of dt.renderTasks)ze.operatorListChanged();a.lastChunk&&Ht(this,s,nr).call(this,!0)}_pumpOperatorList({renderingIntent:a,cacheKey:dt,annotationStorageSerializable:ze}){const{map:kt,transfers:Ot}=ze,jt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:dt,annotationStorage:kt},Ot).getReader(),Wt=this._intentStates.get(dt);Wt.streamReader=jt;const Nt=()=>{jt.read().then(({value:Lt,done:Ut})=>{if(Ut){Wt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Lt,Wt),Nt())},Lt=>{if(Wt.streamReader=null,!this._transport.destroyed){if(Wt.operatorList){Wt.operatorList.lastChunk=!0;for(const Ut of Wt.renderTasks)Ut.operatorListChanged();Ht(this,s,nr).call(this,!0)}if(Wt.displayReadyCapability)Wt.displayReadyCapability.reject(Lt);else if(Wt.opListReadCapability)Wt.opListReadCapability.reject(Lt);else throw Lt}})};Nt()}_abortOperatorList({intentState:a,reason:dt,force:ze=!1}){if(a.streamReader){if(a.streamReaderCancelTimeout&&(clearTimeout(a.streamReaderCancelTimeout),a.streamReaderCancelTimeout=null),!ze){if(a.renderTasks.size>0)return;if(dt instanceof _display_utils.RenderingCancelledException){let kt=RENDERING_CANCELLED_TIMEOUT;dt.extraDelay>0&&dt.extraDelay<1e3&&(kt+=dt.extraDelay),a.streamReaderCancelTimeout=setTimeout(()=>{a.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:a,reason:dt,force:!0})},kt);return}}if(a.streamReader.cancel(new _util.AbortException(dt.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[kt,Ot]of this._intentStates)if(Ot===a){this._intentStates.delete(kt);break}this.cleanup()}}}get stats(){return this._stats}}i=new WeakMap,n=new WeakMap,s=new WeakSet,nr=function(a=!1){if(Ht(this,$e,vr).call(this),!o(this,n)||this.destroyed)return!1;if(a)return Qt(this,i,setTimeout(()=>{Qt(this,i,null),Ht(this,s,nr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:dt,operatorList:ze}of this._intentStates.values())if(dt.size>0||!ze.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Qt(this,n,!1),!0},$e=new WeakSet,vr=function(){o(this,i)&&(clearTimeout(o(this,i)),Qt(this,i,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){It(this,E,new Set);It(this,N,Promise.resolve())}postMessage(a,dt){const ze={data:structuredClone(a,dt?{transfer:dt}:null)};o(this,N).then(()=>{for(const kt of o(this,E))kt.call(this,ze)})}addEventListener(a,dt){o(this,E).add(dt)}removeEventListener(a,dt){o(this,E).delete(dt)}terminate(){o(this,E).clear()}}E=new WeakMap,N=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const d=(P=document==null?void 0:document.currentScript)==null?void 0:P.src;d&&(PDFWorkerUtil.fallbackWorkerSrc=d.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(d,a){let dt;try{if(dt=new URL(d),!dt.origin||dt.origin==="null")return!1}catch{return!1}const ze=new URL(a,dt);return dt.origin===ze.origin},PDFWorkerUtil.createCDNWrapper=function(d){const a=`importScripts("${d}");`;return URL.createObjectURL(new Blob([a]))}}const _PDFWorker=class _PDFWorker{constructor({name:d=null,port:a=null,verbosity:dt=(0,_util.getVerbosityLevel)()}={}){var ze;if(this.name=d,this.destroyed=!1,this.verbosity=dt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,a){if((ze=o(_PDFWorker,St))!=null&&ze.has(a))throw new Error("Cannot use more than one PDFWorker per port.");(o(_PDFWorker,St)||Qt(_PDFWorker,St,new WeakMap)).set(a,this),this._initializeFromPort(a);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(d){this._port=d,this._messageHandler=new _message_handler.MessageHandler("main","worker",d),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:d}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,d)||(d=PDFWorkerUtil.createCDNWrapper(new URL(d,window.location).href));const a=new Worker(d),dt=new _message_handler.MessageHandler("main","worker",a),ze=()=>{a.removeEventListener("error",kt),dt.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},kt=()=>{this._webWorker||ze()};a.addEventListener("error",kt),dt.on("test",Et=>{if(a.removeEventListener("error",kt),this.destroyed){ze();return}Et?(this._messageHandler=dt,this._port=a,this._webWorker=a,this._readyCapability.resolve(),dt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),dt.destroy(),a.terminate())}),dt.on("ready",Et=>{if(a.removeEventListener("error",kt),this.destroyed){ze();return}try{Ot()}catch{this._setupFakeWorker()}});const Ot=()=>{const Et=new Uint8Array;dt.send("test",Et,[Et.buffer])};Ot();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(d=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const a=new LoopbackPort;this._port=a;const dt=`fake${PDFWorkerUtil.fakeWorkerId++}`,ze=new _message_handler.MessageHandler(dt+"_worker",dt,a);d.setup(ze,a);const kt=new _message_handler.MessageHandler(dt,dt+"_worker",a);this._messageHandler=kt,this._readyCapability.resolve(),kt.send("configure",{verbosity:this.verbosity})}).catch(d=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${d.message}".`))})}destroy(){var d;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(d=o(_PDFWorker,St))==null||d.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(d){var dt;if(!(d!=null&&d.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const a=(dt=o(this,St))==null?void 0:dt.get(d.port);if(a){if(a._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return a}return new _PDFWorker(d)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var d;try{return((d=globalThis.pdfjsWorker)==null?void 0:d.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};St=new WeakMap,It(_PDFWorker,St,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(a,dt,ze,kt,Ot){It(this,et);It(this,Tt,new Map);It(this,vt,new Map);It(this,bt,new Map);It(this,gt,null);this.messageHandler=a,this.loadingTask=dt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:kt.ownerDocument,styleElement:kt.styleElement}),this._params=kt,this.canvasFactory=Ot.canvasFactory,this.filterFactory=Ot.filterFactory,this.cMapReaderFactory=Ot.cMapReaderFactory,this.standardFontDataFactory=Ot.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=ze,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(a,dt=_util.AnnotationMode.ENABLE,ze=null,kt=!1){let Ot=_util.RenderingIntentFlag.DISPLAY,Et=_annotation_storage.SerializableEmpty;switch(a){case"any":Ot=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Ot=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(dt){case _util.AnnotationMode.DISABLE:Ot+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Ot+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Ot+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Et=(Ot&_util.RenderingIntentFlag.PRINT&&ze instanceof _annotation_storage.PrintAnnotationStorage?ze:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${dt}`)}return kt&&(Ot+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Ot,cacheKey:`${Ot}_${Et.hash}`,annotationStorageSerializable:Et}}destroy(){var ze;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(ze=o(this,gt))==null||ze.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const kt of o(this,vt).values())a.push(kt._destroy());o(this,vt).clear(),o(this,bt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const dt=this.messageHandler.sendWithPromise("Terminate",null);return a.push(dt),Promise.all(a).then(()=>{var kt;this.commonObjs.clear(),this.fontLoader.clear(),o(this,Tt).clear(),this.filterFactory.destroy(),(kt=this._networkStream)==null||kt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:dt}=this;a.on("GetReader",(ze,kt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Ot=>{this._lastProgress={loaded:Ot.loaded,total:Ot.total}},kt.onPull=()=>{this._fullReader.read().then(function({value:Ot,done:Et}){if(Et){kt.close();return}(0,_util.assert)(Ot instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),kt.enqueue(new Uint8Array(Ot),1,[Ot])}).catch(Ot=>{kt.error(Ot)})},kt.onCancel=Ot=>{this._fullReader.cancel(Ot),kt.ready.catch(Et=>{if(!this.destroyed)throw Et})}}),a.on("ReaderHeadersReady",ze=>{const kt=new _util.PromiseCapability,Ot=this._fullReader;return Ot.headersReady.then(()=>{var Et;(!Ot.isStreamingSupported||!Ot.isRangeSupported)&&(this._lastProgress&&((Et=dt.onProgress)==null||Et.call(dt,this._lastProgress)),Ot.onProgress=jt=>{var Wt;(Wt=dt.onProgress)==null||Wt.call(dt,{loaded:jt.loaded,total:jt.total})}),kt.resolve({isStreamingSupported:Ot.isStreamingSupported,isRangeSupported:Ot.isRangeSupported,contentLength:Ot.contentLength})},kt.reject),kt.promise}),a.on("GetRangeReader",(ze,kt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Ot=this._networkStream.getRangeReader(ze.begin,ze.end);if(!Ot){kt.close();return}kt.onPull=()=>{Ot.read().then(function({value:Et,done:jt}){if(jt){kt.close();return}(0,_util.assert)(Et instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),kt.enqueue(new Uint8Array(Et),1,[Et])}).catch(Et=>{kt.error(Et)})},kt.onCancel=Et=>{Ot.cancel(Et),kt.ready.catch(jt=>{if(!this.destroyed)throw jt})}}),a.on("GetDoc",({pdfInfo:ze})=>{this._numPages=ze.numPages,this._htmlForXfa=ze.htmlForXfa,delete ze.htmlForXfa,dt._capability.resolve(new PDFDocumentProxy(ze,this))}),a.on("DocException",function(ze){let kt;switch(ze.name){case"PasswordException":kt=new _util.PasswordException(ze.message,ze.code);break;case"InvalidPDFException":kt=new _util.InvalidPDFException(ze.message);break;case"MissingPDFException":kt=new _util.MissingPDFException(ze.message);break;case"UnexpectedResponseException":kt=new _util.UnexpectedResponseException(ze.message,ze.status);break;case"UnknownErrorException":kt=new _util.UnknownErrorException(ze.message,ze.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}dt._capability.reject(kt)}),a.on("PasswordRequest",ze=>{if(Qt(this,gt,new _util.PromiseCapability),dt.onPassword){const kt=Ot=>{Ot instanceof Error?o(this,gt).reject(Ot):o(this,gt).resolve({password:Ot})};try{dt.onPassword(kt,ze.code)}catch(Ot){o(this,gt).reject(Ot)}}else o(this,gt).reject(new _util.PasswordException(ze.message,ze.code));return o(this,gt).promise}),a.on("DataLoaded",ze=>{var kt;(kt=dt.onProgress)==null||kt.call(dt,{loaded:ze.length,total:ze.length}),this.downloadInfoCapability.resolve(ze)}),a.on("StartRenderPage",ze=>{if(this.destroyed)return;o(this,vt).get(ze.pageIndex)._startRenderPage(ze.transparency,ze.cacheKey)}),a.on("commonobj",([ze,kt,Ot])=>{var Et;if(!this.destroyed&&!this.commonObjs.has(ze))switch(kt){case"Font":const jt=this._params;if("error"in Ot){const Lt=Ot.error;(0,_util.warn)(`Error during font loading: ${Lt}`),this.commonObjs.resolve(ze,Lt);break}const Wt=jt.pdfBug&&((Et=globalThis.FontInspector)!=null&&Et.enabled)?(Lt,Ut)=>globalThis.FontInspector.fontAdded(Lt,Ut):null,Nt=new _font_loader.FontFaceObject(Ot,{isEvalSupported:jt.isEvalSupported,disableFontFace:jt.disableFontFace,ignoreErrors:jt.ignoreErrors,inspectFont:Wt});this.fontLoader.bind(Nt).catch(Lt=>a.sendWithPromise("FontFallback",{id:ze})).finally(()=>{!jt.fontExtraProperties&&Nt.data&&(Nt.data=null),this.commonObjs.resolve(ze,Nt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(ze,Ot);break;default:throw new Error(`Got unknown common object type ${kt}`)}}),a.on("obj",([ze,kt,Ot,Et])=>{var Wt;if(this.destroyed)return;const jt=o(this,vt).get(kt);if(!jt.objs.has(ze))switch(Ot){case"Image":if(jt.objs.resolve(ze,Et),Et){let Nt;if(Et.bitmap){const{width:Lt,height:Ut}=Et;Nt=Lt*Ut*4}else Nt=((Wt=Et.data)==null?void 0:Wt.length)||0;Nt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(jt._maybeCleanupAfterRender=!0)}break;case"Pattern":jt.objs.resolve(ze,Et);break;default:throw new Error(`Got unknown object type ${Ot}`)}}),a.on("DocProgress",ze=>{var kt;this.destroyed||(kt=dt.onProgress)==null||kt.call(dt,{loaded:ze.loaded,total:ze.total})}),a.on("FetchBuiltInCMap",ze=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(ze):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",ze=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(ze):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var ze;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:a,transfers:dt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:a,filename:((ze=this._fullReader)==null?void 0:ze.filename)??null},dt).finally(()=>{this.annotationStorage.resetModified()})}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const dt=a-1,ze=o(this,bt).get(dt);if(ze)return ze;const kt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:dt}).then(Ot=>{if(this.destroyed)throw new Error("Transport destroyed");const Et=new PDFPageProxy(dt,Ot,this,this._params.pdfBug);return o(this,vt).set(dt,Et),Et});return o(this,bt).set(dt,kt),kt}getPageIndex(a){return typeof a!="object"||a===null||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,dt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:dt})}getFieldObjects(){return Ht(this,et,_r).call(this,"GetFieldObjects")}hasJSActions(){return Ht(this,et,_r).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return typeof a!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ht(this,et,_r).call(this,"GetDocJSActions")}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const a="GetMetadata",dt=o(this,Tt).get(a);if(dt)return dt;const ze=this.messageHandler.sendWithPromise(a,null).then(kt=>{var Ot,Et;return{info:kt[0],metadata:kt[1]?new _metadata.Metadata(kt[1]):null,contentDispositionFilename:((Ot=this._fullReader)==null?void 0:Ot.filename)??null,contentLength:((Et=this._fullReader)==null?void 0:Et.contentLength)??null}});return o(this,Tt).set(a,ze),ze}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(a=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const dt of o(this,vt).values())if(!dt.cleanup())throw new Error(`startCleanup: Page ${dt.pageNumber} is currently rendering.`);this.commonObjs.clear(),a||this.fontLoader.clear(),o(this,Tt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:a,enableXfa:dt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a,enableXfa:dt})}}Tt=new WeakMap,vt=new WeakMap,bt=new WeakMap,gt=new WeakMap,et=new WeakSet,_r=function(a,dt=null){const ze=o(this,Tt).get(a);if(ze)return ze;const kt=this.messageHandler.sendWithPromise(a,dt);return o(this,Tt).set(a,kt),kt};class PDFObjects{constructor(){It(this,xt);It(this,_t,Object.create(null))}get(a,dt=null){if(dt){const kt=Ht(this,xt,Dr).call(this,a);return kt.capability.promise.then(()=>dt(kt.data)),null}const ze=o(this,_t)[a];if(!(ze!=null&&ze.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${a}.`);return ze.data}has(a){const dt=o(this,_t)[a];return(dt==null?void 0:dt.capability.settled)||!1}resolve(a,dt=null){const ze=Ht(this,xt,Dr).call(this,a);ze.data=dt,ze.capability.resolve()}clear(){var a;for(const dt in o(this,_t)){const{data:ze}=o(this,_t)[dt];(a=ze==null?void 0:ze.bitmap)==null||a.close()}Qt(this,_t,Object.create(null))}}_t=new WeakMap,xt=new WeakSet,Dr=function(a){var dt;return(dt=o(this,_t))[a]||(dt[a]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(a){It(this,p,null);Qt(this,p,a),this.onContinue=null}get promise(){return o(this,p).capability.promise}cancel(a=0){o(this,p).cancel(null,a)}get separateAnnots(){const{separateAnnots:a}=o(this,p).operatorList;if(!a)return!1;const{annotationCanvasMap:dt}=o(this,p);return a.form||a.canvas&&(dt==null?void 0:dt.size)>0}}p=new WeakMap,exports.RenderTask=RenderTask;const At=class At{constructor({callback:a,params:dt,objs:ze,commonObjs:kt,annotationCanvasMap:Ot,operatorList:Et,pageIndex:jt,canvasFactory:Wt,filterFactory:Nt,useRequestAnimationFrame:Lt=!1,pdfBug:Ut=!1,pageColors:ln=null}){this.callback=a,this.params=dt,this.objs=ze,this.commonObjs=kt,this.annotationCanvasMap=Ot,this.operatorListIdx=null,this.operatorList=Et,this._pageIndex=jt,this.canvasFactory=Wt,this.filterFactory=Nt,this._pdfBug=Ut,this.pageColors=ln,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Lt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=dt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:dt}){var jt,Wt;if(this.cancelled)return;if(this._canvas){if(o(At,pe).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");o(At,pe).add(this._canvas)}this._pdfBug&&((jt=globalThis.StepperManager)!=null&&jt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:ze,viewport:kt,transform:Ot,background:Et}=this.params;this.gfx=new _canvas.CanvasGraphics(ze,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:dt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ot,viewport:kt,transparency:a,background:Et}),this.operatorListIdx=0,this.graphicsReady=!0,(Wt=this.graphicsReadyCallback)==null||Wt.call(this)}cancel(a=null,dt=0){var ze;this.running=!1,this.cancelled=!0,(ze=this.gfx)==null||ze.endDrawing(),o(At,pe).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,dt))}operatorListChanged(){var a;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(a=this.stepper)==null||a.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),o(At,pe).delete(this._canvas),this.callback())))}};pe=new WeakMap,It(At,pe,new WeakSet);let InternalRenderTask=At;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(t,e,i)=>{var N,P,St,pi,vt;Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var n=i(1),s=i(4),b=i(8);const $e=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=$e;class Ct{constructor(){It(this,St);It(this,N,!1);It(this,P,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(gt,et){const ft=o(this,P).get(gt);return ft===void 0?et:Object.assign(et,ft)}getRawValue(gt){return o(this,P).get(gt)}remove(gt){if(o(this,P).delete(gt),o(this,P).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const et of o(this,P).values())if(et instanceof s.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(gt,et){const ft=o(this,P).get(gt);let _t=!1;if(ft!==void 0)for(const[xt,yt]of Object.entries(et))ft[xt]!==yt&&(_t=!0,ft[xt]=yt);else _t=!0,o(this,P).set(gt,et);_t&&Ht(this,St,pi).call(this),et instanceof s.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(et.constructor._type)}has(gt){return o(this,P).has(gt)}getAll(){return o(this,P).size>0?(0,n.objectFromMap)(o(this,P)):null}setAll(gt){for(const[et,ft]of Object.entries(gt))this.setValue(et,ft)}get size(){return o(this,P).size}resetModified(){o(this,N)&&(Qt(this,N,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new E(this)}get serializable(){if(o(this,P).size===0)return $e;const gt=new Map,et=new b.MurmurHash3_64,ft=[],_t=Object.create(null);let xt=!1;for(const[yt,p]of o(this,P)){const pe=p instanceof s.AnnotationEditor?p.serialize(!1,_t):p;pe&&(gt.set(yt,pe),et.update(`${yt}:${JSON.stringify(pe)}`),xt||(xt=!!pe.bitmap))}if(xt)for(const yt of gt.values())yt.bitmap&&ft.push(yt.bitmap);return gt.size>0?{map:gt,hash:et.hexdigest(),transfers:ft}:$e}}N=new WeakMap,P=new WeakMap,St=new WeakSet,pi=function(){o(this,N)||(Qt(this,N,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=Ct;class E extends Ct{constructor(et){super();It(this,vt,void 0);const{map:ft,hash:_t,transfers:xt}=et.serializable,yt=structuredClone(ft,xt?{transfer:xt}:null);Qt(this,vt,{map:yt,hash:_t,transfers:xt})}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return o(this,vt)}}vt=new WeakMap,e.PrintAnnotationStorage=E},(t,e,i)=>{var E,N,P,St,Tt,vt,bt,gt,et,ft,_t,xt,yt,p,pe,Mr,d,Lr,dt,Ir,kt,Nr,Et,gi,Wt,mi,Lt,bi,ln,jr,rn,vi;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var n=i(5),s=i(1),b=i(6);const l=class l{constructor(c){It(this,pe);It(this,d);It(this,kt);It(this,Et);It(this,Wt);It(this,Lt);It(this,ln);It(this,rn);It(this,E,"");It(this,N,!1);It(this,P,null);It(this,St,null);It(this,Tt,null);It(this,vt,!1);It(this,bt,null);It(this,gt,this.focusin.bind(this));It(this,et,this.focusout.bind(this));It(this,ft,!1);It(this,_t,!1);It(this,xt,!1);qn(this,"_initialOptions",Object.create(null));qn(this,"_uiManager",null);qn(this,"_focusEventsAllowed",!0);qn(this,"_l10nPromise",null);It(this,yt,!1);It(this,p,l._zIndex++);this.constructor===l&&(0,s.unreachable)("Cannot initialize AnnotationEditor."),this.parent=c.parent,this.id=c.id,this.width=this.height=null,this.pageIndex=c.parent.pageIndex,this.name=c.name,this.div=null,this._uiManager=c.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=c.isCentered,this._structTreeParentId=null;const{rotation:Le,rawDims:{pageWidth:Qe,pageHeight:mt,pageX:Rt,pageY:Ft}}=this.parent.viewport;this.rotation=Le,this.pageRotation=(360+Le-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Qe,mt],this.pageTranslation=[Rt,Ft];const[qt,Bt]=this.parentDimensions;this.x=c.x/qt,this.y=c.y/Bt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,s.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(c){const Le=new Ct({id:c.parent.getNextId(),parent:c.parent,uiManager:c._uiManager});Le.annotationElementId=c.annotationElementId,Le.deleted=!0,Le._uiManager.addToAnnotationStorage(Le)}static initialize(c,Le=null){if(l._l10nPromise||(l._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(mt=>[mt,c.get(mt)]))),Le!=null&&Le.strings)for(const mt of Le.strings)l._l10nPromise.set(mt,c.get(mt));if(l._borderLineWidth!==-1)return;const Qe=getComputedStyle(document.documentElement);l._borderLineWidth=parseFloat(Qe.getPropertyValue("--outline-width"))||0}static updateDefaultParams(c,Le){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(c){return!1}static paste(c,Le){(0,s.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return o(this,yt)}set _isDraggable(c){var Le;Qt(this,yt,c),(Le=this.div)==null||Le.classList.toggle("draggable",c)}center(){const[c,Le]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Le/(c*2),this.y+=this.width*c/(Le*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Le/(c*2),this.y-=this.width*c/(Le*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(c){this._uiManager.addCommands(c)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=o(this,p)}setParent(c){c!==null&&(this.pageIndex=c.pageIndex,this.pageDimensions=c.pageDimensions),this.parent=c}focusin(c){this._focusEventsAllowed&&(o(this,ft)?Qt(this,ft,!1):this.parent.setSelected(this))}focusout(c){var Qe;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Le=c.relatedTarget;Le!=null&&Le.closest(`#${this.id}`)||(c.preventDefault(),(Qe=this.parent)!=null&&Qe.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(c,Le,Qe,mt){const[Rt,Ft]=this.parentDimensions;[Qe,mt]=this.screenToPageTranslation(Qe,mt),this.x=(c+Qe)/Rt,this.y=(Le+mt)/Ft,this.fixAndSetPosition()}translate(c,Le){Ht(this,pe,Mr).call(this,this.parentDimensions,c,Le)}translateInPage(c,Le){Ht(this,pe,Mr).call(this,this.pageDimensions,c,Le),this.div.scrollIntoView({block:"nearest"})}drag(c,Le){const[Qe,mt]=this.parentDimensions;if(this.x+=c/Qe,this.y+=Le/mt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Gt,y:Zt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Gt,Zt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Rt,y:Ft}=this;const[qt,Bt]=Ht(this,d,Lr).call(this);Rt+=qt,Ft+=Bt,this.div.style.left=`${(100*Rt).toFixed(2)}%`,this.div.style.top=`${(100*Ft).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[c,Le]=this.pageDimensions;let{x:Qe,y:mt,width:Rt,height:Ft}=this;switch(Rt*=c,Ft*=Le,Qe*=c,mt*=Le,this.rotation){case 0:Qe=Math.max(0,Math.min(c-Rt,Qe)),mt=Math.max(0,Math.min(Le-Ft,mt));break;case 90:Qe=Math.max(0,Math.min(c-Ft,Qe)),mt=Math.min(Le,Math.max(Rt,mt));break;case 180:Qe=Math.min(c,Math.max(Rt,Qe)),mt=Math.min(Le,Math.max(Ft,mt));break;case 270:Qe=Math.min(c,Math.max(Ft,Qe)),mt=Math.max(0,Math.min(Le-Rt,mt));break}this.x=Qe/=c,this.y=mt/=Le;const[qt,Bt]=Ht(this,d,Lr).call(this);Qe+=qt,mt+=Bt;const{style:Gt}=this.div;Gt.left=`${(100*Qe).toFixed(2)}%`,Gt.top=`${(100*mt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(c,Le){var Qe;return Ht(Qe=l,dt,Ir).call(Qe,c,Le,this.parentRotation)}pageTranslationToScreen(c,Le){var Qe;return Ht(Qe=l,dt,Ir).call(Qe,c,Le,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:c,pageDimensions:[Le,Qe]}=this,mt=Le*c,Rt=Qe*c;return s.FeatureTest.isCSSRoundSupported?[Math.round(mt),Math.round(Rt)]:[mt,Rt]}setDims(c,Le){var Rt;const[Qe,mt]=this.parentDimensions;this.div.style.width=`${(100*c/Qe).toFixed(2)}%`,o(this,vt)||(this.div.style.height=`${(100*Le/mt).toFixed(2)}%`),(Rt=o(this,P))==null||Rt.classList.toggle("small",c<l.SMALL_EDITOR_SIZE||Le<l.SMALL_EDITOR_SIZE)}fixDims(){const{style:c}=this.div,{height:Le,width:Qe}=c,mt=Qe.endsWith("%"),Rt=!o(this,vt)&&Le.endsWith("%");if(mt&&Rt)return;const[Ft,qt]=this.parentDimensions;mt||(c.width=`${(100*parseFloat(Qe)/Ft).toFixed(2)}%`),!o(this,vt)&&!Rt&&(c.height=`${(100*parseFloat(Le)/qt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(o(this,P))return;const c=Qt(this,P,document.createElement("button"));c.className="altText";const Le=await l._l10nPromise.get("editor_alt_text_button_label");c.textContent=Le,c.setAttribute("aria-label",Le),c.tabIndex="0",c.addEventListener("contextmenu",b.noContextMenu),c.addEventListener("pointerdown",Qe=>Qe.stopPropagation()),c.addEventListener("click",Qe=>{Qe.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),c.addEventListener("keydown",Qe=>{Qe.target===c&&Qe.key==="Enter"&&(Qe.preventDefault(),this._uiManager.editAltText(this))}),Ht(this,ln,jr).call(this),this.div.append(c),l.SMALL_EDITOR_SIZE||(l.SMALL_EDITOR_SIZE=Math.min(128,Math.round(c.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:o(this,E),decorative:o(this,N)}}set altTextData({altText:c,decorative:Le}){o(this,E)===c&&o(this,N)===Le||(Qt(this,E,c),Qt(this,N,Le),Ht(this,ln,jr).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",o(this,gt)),this.div.addEventListener("focusout",o(this,et));const[c,Le]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Le/c).toFixed(2)}%`,this.div.style.maxHeight=`${(100*c/Le).toFixed(2)}%`);const[Qe,mt]=this.getInitialTranslation();return this.translate(Qe,mt),(0,n.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(c){const{isMac:Le}=s.FeatureTest.platform;if(c.button!==0||c.ctrlKey&&Le){c.preventDefault();return}Qt(this,ft,!0),Ht(this,rn,vi).call(this,c)}moveInDOM(){var c;(c=this.parent)==null||c.moveEditorInDOM(this)}_setParentAndPosition(c,Le,Qe){c.changeParent(this),this.x=Le,this.y=Qe,this.fixAndSetPosition()}getRect(c,Le){const Qe=this.parentScale,[mt,Rt]=this.pageDimensions,[Ft,qt]=this.pageTranslation,Bt=c/Qe,Gt=Le/Qe,Zt=this.x*mt,an=this.y*Rt,nn=this.width*mt,vn=this.height*Rt;switch(this.rotation){case 0:return[Zt+Bt+Ft,Rt-an-Gt-vn+qt,Zt+Bt+nn+Ft,Rt-an-Gt+qt];case 90:return[Zt+Gt+Ft,Rt-an+Bt+qt,Zt+Gt+vn+Ft,Rt-an+Bt+nn+qt];case 180:return[Zt-Bt-nn+Ft,Rt-an+Gt+qt,Zt-Bt+Ft,Rt-an+Gt+vn+qt];case 270:return[Zt-Gt-vn+Ft,Rt-an-Bt-nn+qt,Zt-Gt+Ft,Rt-an-Bt+qt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(c,Le){const[Qe,mt,Rt,Ft]=c,qt=Rt-Qe,Bt=Ft-mt;switch(this.rotation){case 0:return[Qe,Le-Ft,qt,Bt];case 90:return[Qe,Le-mt,Bt,qt];case 180:return[Rt,Le-mt,qt,Bt];case 270:return[Rt,Le-Ft,Bt,qt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Qt(this,xt,!0)}disableEditMode(){Qt(this,xt,!1)}isInEditMode(){return o(this,xt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var c,Le;(c=this.div)==null||c.addEventListener("focusin",o(this,gt)),(Le=this.div)==null||Le.addEventListener("focusout",o(this,et))}serialize(c=!1,Le=null){(0,s.unreachable)("An editor must be serializable")}static deserialize(c,Le,Qe){const mt=new this.prototype.constructor({parent:Le,id:Le.getNextId(),uiManager:Qe});mt.rotation=c.rotation;const[Rt,Ft]=mt.pageDimensions,[qt,Bt,Gt,Zt]=mt.getRectInCurrentCoords(c.rect,Ft);return mt.x=qt/Rt,mt.y=Bt/Ft,mt.width=Gt/Rt,mt.height=Zt/Ft,mt}remove(){var c;this.div.removeEventListener("focusin",o(this,gt)),this.div.removeEventListener("focusout",o(this,et)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(c=o(this,P))==null||c.remove(),Qt(this,P,null),Qt(this,St,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ht(this,Et,gi).call(this),o(this,bt).classList.remove("hidden"))}select(){var c;this.makeResizable(),(c=this.div)==null||c.classList.add("selectedEditor")}unselect(){var c,Le,Qe;(c=o(this,bt))==null||c.classList.add("hidden"),(Le=this.div)==null||Le.classList.remove("selectedEditor"),(Qe=this.div)!=null&&Qe.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(c,Le){}disableEditing(){o(this,P)&&(o(this,P).hidden=!0)}enableEditing(){o(this,P)&&(o(this,P).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return o(this,_t)}set isEditing(c){Qt(this,_t,c),this.parent&&(c?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(c,Le){Qt(this,vt,!0);const Qe=c/Le,{style:mt}=this.div;mt.aspectRatio=Qe,mt.height="auto"}static get MIN_SIZE(){return 16}};E=new WeakMap,N=new WeakMap,P=new WeakMap,St=new WeakMap,Tt=new WeakMap,vt=new WeakMap,bt=new WeakMap,gt=new WeakMap,et=new WeakMap,ft=new WeakMap,_t=new WeakMap,xt=new WeakMap,yt=new WeakMap,p=new WeakMap,pe=new WeakSet,Mr=function([c,Le],Qe,mt){[Qe,mt]=this.screenToPageTranslation(Qe,mt),this.x+=Qe/c,this.y+=mt/Le,this.fixAndSetPosition()},d=new WeakSet,Lr=function(){const[c,Le]=this.parentDimensions,{_borderLineWidth:Qe}=l,mt=Qe/c,Rt=Qe/Le;switch(this.rotation){case 90:return[-mt,Rt];case 180:return[mt,Rt];case 270:return[mt,-Rt];default:return[-mt,-Rt]}},dt=new WeakSet,Ir=function(c,Le,Qe){switch(Qe){case 90:return[Le,-c];case 180:return[-c,-Le];case 270:return[-Le,c];default:return[c,Le]}},kt=new WeakSet,Nr=function(c){switch(c){case 90:{const[Le,Qe]=this.pageDimensions;return[0,-Le/Qe,Qe/Le,0]}case 180:return[-1,0,0,-1];case 270:{const[Le,Qe]=this.pageDimensions;return[0,Le/Qe,-Qe/Le,0]}default:return[1,0,0,1]}},Et=new WeakSet,gi=function(){if(o(this,bt))return;Qt(this,bt,document.createElement("div")),o(this,bt).classList.add("resizers");const c=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||c.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Le of c){const Qe=document.createElement("div");o(this,bt).append(Qe),Qe.classList.add("resizer",Le),Qe.addEventListener("pointerdown",Ht(this,Wt,mi).bind(this,Le)),Qe.addEventListener("contextmenu",b.noContextMenu)}this.div.prepend(o(this,bt))},Wt=new WeakSet,mi=function(c,Le){Le.preventDefault();const{isMac:Qe}=s.FeatureTest.platform;if(Le.button!==0||Le.ctrlKey&&Qe)return;const mt=Ht(this,Lt,bi).bind(this,c),Rt=this._isDraggable;this._isDraggable=!1;const Ft={passive:!0,capture:!0};window.addEventListener("pointermove",mt,Ft);const qt=this.x,Bt=this.y,Gt=this.width,Zt=this.height,an=this.parent.div.style.cursor,nn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Le.target).cursor;const vn=()=>{this._isDraggable=Rt,window.removeEventListener("pointerup",vn),window.removeEventListener("blur",vn),window.removeEventListener("pointermove",mt,Ft),this.parent.div.style.cursor=an,this.div.style.cursor=nn;const Sn=this.x,hn=this.y,yn=this.width,on=this.height;Sn===qt&&hn===Bt&&yn===Gt&&on===Zt||this.addCommands({cmd:()=>{this.width=yn,this.height=on,this.x=Sn,this.y=hn;const[zt,Xt]=this.parentDimensions;this.setDims(zt*yn,Xt*on),this.fixAndSetPosition()},undo:()=>{this.width=Gt,this.height=Zt,this.x=qt,this.y=Bt;const[zt,Xt]=this.parentDimensions;this.setDims(zt*Gt,Xt*Zt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",vn),window.addEventListener("blur",vn)},Lt=new WeakSet,bi=function(c,Le){const[Qe,mt]=this.parentDimensions,Rt=this.x,Ft=this.y,qt=this.width,Bt=this.height,Gt=l.MIN_SIZE/Qe,Zt=l.MIN_SIZE/mt,an=fn=>Math.round(fn*1e4)/1e4,nn=Ht(this,kt,Nr).call(this,this.rotation),vn=(fn,gn)=>[nn[0]*fn+nn[2]*gn,nn[1]*fn+nn[3]*gn],Sn=Ht(this,kt,Nr).call(this,360-this.rotation),hn=(fn,gn)=>[Sn[0]*fn+Sn[2]*gn,Sn[1]*fn+Sn[3]*gn];let yn,on,zt=!1,Xt=!1;switch(c){case"topLeft":zt=!0,yn=(fn,gn)=>[0,0],on=(fn,gn)=>[fn,gn];break;case"topMiddle":yn=(fn,gn)=>[fn/2,0],on=(fn,gn)=>[fn/2,gn];break;case"topRight":zt=!0,yn=(fn,gn)=>[fn,0],on=(fn,gn)=>[0,gn];break;case"middleRight":Xt=!0,yn=(fn,gn)=>[fn,gn/2],on=(fn,gn)=>[0,gn/2];break;case"bottomRight":zt=!0,yn=(fn,gn)=>[fn,gn],on=(fn,gn)=>[0,0];break;case"bottomMiddle":yn=(fn,gn)=>[fn/2,gn],on=(fn,gn)=>[fn/2,0];break;case"bottomLeft":zt=!0,yn=(fn,gn)=>[0,gn],on=(fn,gn)=>[fn,0];break;case"middleLeft":Xt=!0,yn=(fn,gn)=>[0,gn/2],on=(fn,gn)=>[fn,gn/2];break}const tn=yn(qt,Bt),bn=on(qt,Bt);let mn=vn(...bn);const Fn=an(Rt+mn[0]),Ln=an(Ft+mn[1]);let On=1,Nn=1,[Rn,In]=this.screenToPageTranslation(Le.movementX,Le.movementY);if([Rn,In]=hn(Rn/Qe,In/mt),zt){const fn=Math.hypot(qt,Bt);On=Nn=Math.max(Math.min(Math.hypot(bn[0]-tn[0]-Rn,bn[1]-tn[1]-In)/fn,1/qt,1/Bt),Gt/qt,Zt/Bt)}else Xt?On=Math.max(Gt,Math.min(1,Math.abs(bn[0]-tn[0]-Rn)))/qt:Nn=Math.max(Zt,Math.min(1,Math.abs(bn[1]-tn[1]-In)))/Bt;const Mn=an(qt*On),cn=an(Bt*Nn);mn=vn(...on(Mn,cn));const Kt=Fn-mn[0],Vt=Ln-mn[1];this.width=Mn,this.height=cn,this.x=Kt,this.y=Vt,this.setDims(Qe*Mn,mt*cn),this.fixAndSetPosition()},ln=new WeakSet,jr=async function(){var Qe;const c=o(this,P);if(!c)return;if(!o(this,E)&&!o(this,N)){c.classList.remove("done"),(Qe=o(this,St))==null||Qe.remove();return}l._l10nPromise.get("editor_alt_text_edit_button_label").then(mt=>{c.setAttribute("aria-label",mt)});let Le=o(this,St);if(!Le){Qt(this,St,Le=document.createElement("span")),Le.className="tooltip",Le.setAttribute("role","tooltip");const mt=Le.id=`alt-text-tooltip-${this.id}`;c.setAttribute("aria-describedby",mt);const Rt=100;c.addEventListener("mouseenter",()=>{Qt(this,Tt,setTimeout(()=>{Qt(this,Tt,null),o(this,St).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Rt))}),c.addEventListener("mouseleave",()=>{var Ft;clearTimeout(o(this,Tt)),Qt(this,Tt,null),(Ft=o(this,St))==null||Ft.classList.remove("show")})}c.classList.add("done"),Le.innerText=o(this,N)?await l._l10nPromise.get("editor_alt_text_decorative_tooltip"):o(this,E),Le.parentNode||c.append(Le)},rn=new WeakSet,vi=function(c){if(!this._isDraggable)return;const Le=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Qe,mt;Le&&(Qe={passive:!0,capture:!0},mt=Ft=>{const[qt,Bt]=this.screenToPageTranslation(Ft.movementX,Ft.movementY);this._uiManager.dragSelectedEditors(qt,Bt)},window.addEventListener("pointermove",mt,Qe));const Rt=()=>{if(window.removeEventListener("pointerup",Rt),window.removeEventListener("blur",Rt),Le&&window.removeEventListener("pointermove",mt,Qe),Qt(this,ft,!1),!this._uiManager.endDragSession()){const{isMac:Ft}=s.FeatureTest.platform;c.ctrlKey&&!Ft||c.shiftKey||c.metaKey&&Ft?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Rt),window.addEventListener("blur",Rt)},It(l,dt),qn(l,"_borderLineWidth",-1),qn(l,"_colorManager",new n.ColorManager),qn(l,"_zIndex",1),qn(l,"SMALL_EDITOR_SIZE",0);let $e=l;e.AnnotationEditor=$e;class Ct extends $e{constructor(c){super(c),this.annotationElementId=c.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(t,e,i)=>{var vt,bt,gt,et,ft,$r,yt,p,pe,At,d,_i,ze,kt,Ot,Et,jt,Wt,Nt,Lt,Ut,ln,un,rn,Pt,l,h,c,Le,Qe,mt,Rt,Ft,qt,Bt,Gt,Zt,an,nn,vn,Sn,hn,yn,on,zt,Xt,tn,yi,mn,Br,Ln,Ur,Nn,yr,In,Wr,cn,zr,Vt,Jn,gn,ur,Gn,Ei,_n,Ai,En,Hr,Dn,dr,pn,Gr;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=b,e.opacityToHex=$e;var n=i(1),s=i(6);function b(Dt,u,wt){for(const Mt of wt)u.addEventListener(Mt,Dt[Mt].bind(Dt))}function $e(Dt){return Math.round(Math.min(255,Math.max(1,255*Dt))).toString(16).padStart(2,"0")}class Ct{constructor(){It(this,vt,0)}getId(){return`${n.AnnotationEditorPrefix}${cr(this,vt)._++}`}}vt=new WeakMap;const xt=class xt{constructor(){It(this,ft);It(this,bt,(0,n.getUuid)());It(this,gt,0);It(this,et,null)}static get _isSVGFittingCanvas(){const u='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Mt=new OffscreenCanvas(1,3).getContext("2d"),$t=new Image;$t.src=u;const Yt=$t.decode().then(()=>(Mt.drawImage($t,0,0,1,1,0,0,1,3),new Uint32Array(Mt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,n.shadow)(this,"_isSVGFittingCanvas",Yt)}async getFromFile(u){const{lastModified:wt,name:Mt,size:$t,type:Yt}=u;return Ht(this,ft,$r).call(this,`${wt}_${Mt}_${$t}_${Yt}`,u)}async getFromUrl(u){return Ht(this,ft,$r).call(this,u,u)}async getFromId(u){o(this,et)||Qt(this,et,new Map);const wt=o(this,et).get(u);return wt?wt.bitmap?(wt.refCounter+=1,wt):wt.file?this.getFromFile(wt.file):this.getFromUrl(wt.url):null}getSvgUrl(u){const wt=o(this,et).get(u);return wt!=null&&wt.isSvg?wt.svgUrl:null}deleteId(u){o(this,et)||Qt(this,et,new Map);const wt=o(this,et).get(u);wt&&(wt.refCounter-=1,wt.refCounter===0&&(wt.bitmap=null))}isValidId(u){return u.startsWith(`image_${o(this,bt)}_`)}};bt=new WeakMap,gt=new WeakMap,et=new WeakMap,ft=new WeakSet,$r=async function(u,wt){o(this,et)||Qt(this,et,new Map);let Mt=o(this,et).get(u);if(Mt===null)return null;if(Mt!=null&&Mt.bitmap)return Mt.refCounter+=1,Mt;try{Mt||(Mt={bitmap:null,id:`image_${o(this,bt)}_${cr(this,gt)._++}`,refCounter:0,isSvg:!1});let $t;if(typeof wt=="string"){Mt.url=wt;const Yt=await fetch(wt);if(!Yt.ok)throw new Error(Yt.statusText);$t=await Yt.blob()}else $t=Mt.file=wt;if($t.type==="image/svg+xml"){const Yt=xt._isSVGFittingCanvas,sn=new FileReader,dn=new Image,xn=new Promise((An,$n)=>{dn.onload=()=>{Mt.bitmap=dn,Mt.isSvg=!0,An()},sn.onload=async()=>{const Pn=Mt.svgUrl=sn.result;dn.src=await Yt?`${Pn}#svgView(preserveAspectRatio(none))`:Pn},dn.onerror=sn.onerror=$n});sn.readAsDataURL($t),await xn}else Mt.bitmap=await createImageBitmap($t);Mt.refCounter=1}catch($t){console.error($t),Mt=null}return o(this,et).set(u,Mt),Mt&&o(this,et).set(Mt.id,Mt),Mt};let E=xt;class N{constructor(u=128){It(this,yt,[]);It(this,p,!1);It(this,pe,void 0);It(this,At,-1);Qt(this,pe,u)}add({cmd:u,undo:wt,mustExec:Mt,type:$t=NaN,overwriteIfSameType:Yt=!1,keepUndo:sn=!1}){if(Mt&&u(),o(this,p))return;const dn={cmd:u,undo:wt,type:$t};if(o(this,At)===-1){o(this,yt).length>0&&(o(this,yt).length=0),Qt(this,At,0),o(this,yt).push(dn);return}if(Yt&&o(this,yt)[o(this,At)].type===$t){sn&&(dn.undo=o(this,yt)[o(this,At)].undo),o(this,yt)[o(this,At)]=dn;return}const xn=o(this,At)+1;xn===o(this,pe)?o(this,yt).splice(0,1):(Qt(this,At,xn),xn<o(this,yt).length&&o(this,yt).splice(xn)),o(this,yt).push(dn)}undo(){o(this,At)!==-1&&(Qt(this,p,!0),o(this,yt)[o(this,At)].undo(),Qt(this,p,!1),Qt(this,At,o(this,At)-1))}redo(){o(this,At)<o(this,yt).length-1&&(Qt(this,At,o(this,At)+1),Qt(this,p,!0),o(this,yt)[o(this,At)].cmd(),Qt(this,p,!1))}hasSomethingToUndo(){return o(this,At)!==-1}hasSomethingToRedo(){return o(this,At)<o(this,yt).length-1}destroy(){Qt(this,yt,null)}}yt=new WeakMap,p=new WeakMap,pe=new WeakMap,At=new WeakMap,e.CommandManager=N;class P{constructor(u){It(this,d);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:wt}=n.FeatureTest.platform;for(const[Mt,$t,Yt={}]of u)for(const sn of Mt){const dn=sn.startsWith("mac+");wt&&dn?(this.callbacks.set(sn.slice(4),{callback:$t,options:Yt}),this.allKeys.add(sn.split("+").at(-1))):!wt&&!dn&&(this.callbacks.set(sn,{callback:$t,options:Yt}),this.allKeys.add(sn.split("+").at(-1)))}}exec(u,wt){if(!this.allKeys.has(wt.key))return;const Mt=this.callbacks.get(Ht(this,d,_i).call(this,wt));if(!Mt)return;const{callback:$t,options:{bubbles:Yt=!1,args:sn=[],checker:dn=null}}=Mt;dn&&!dn(u,wt)||($t.bind(u,...sn)(),Yt||(wt.stopPropagation(),wt.preventDefault()))}}d=new WeakSet,_i=function(u){u.altKey&&this.buffer.push("alt"),u.ctrlKey&&this.buffer.push("ctrl"),u.metaKey&&this.buffer.push("meta"),u.shiftKey&&this.buffer.push("shift"),this.buffer.push(u.key);const wt=this.buffer.join("+");return this.buffer.length=0,wt},e.KeyboardManager=P;const dt=class dt{get _colors(){const u=new Map([["CanvasText",null],["Canvas",null]]);return(0,s.getColorValues)(u),(0,n.shadow)(this,"_colors",u)}convert(u){const wt=(0,s.getRGB)(u);if(!window.matchMedia("(forced-colors: active)").matches)return wt;for(const[Mt,$t]of this._colors)if($t.every((Yt,sn)=>Yt===wt[sn]))return dt._colorsMapping.get(Mt);return wt}getHexCode(u){const wt=this._colors.get(u);return wt?n.Util.makeHexColor(...wt):u}};qn(dt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let St=dt;e.ColorManager=St;const Tn=class Tn{constructor(u,wt,Mt,$t,Yt,sn){It(this,tn);It(this,mn);It(this,Ln);It(this,Nn);It(this,In);It(this,cn);It(this,Vt);It(this,gn);It(this,Gn);It(this,_n);It(this,En);It(this,Dn);It(this,pn);It(this,ze,null);It(this,kt,new Map);It(this,Ot,new Map);It(this,Et,null);It(this,jt,null);It(this,Wt,new N);It(this,Nt,0);It(this,Lt,new Set);It(this,Ut,null);It(this,ln,null);It(this,un,new Set);It(this,rn,null);It(this,Pt,new Ct);It(this,l,!1);It(this,h,!1);It(this,c,null);It(this,Le,n.AnnotationEditorType.NONE);It(this,Qe,new Set);It(this,mt,null);It(this,Rt,this.blur.bind(this));It(this,Ft,this.focus.bind(this));It(this,qt,this.copy.bind(this));It(this,Bt,this.cut.bind(this));It(this,Gt,this.paste.bind(this));It(this,Zt,this.keydown.bind(this));It(this,an,this.onEditingAction.bind(this));It(this,nn,this.onPageChanging.bind(this));It(this,vn,this.onScaleChanging.bind(this));It(this,Sn,this.onRotationChanging.bind(this));It(this,hn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});It(this,yn,[0,0]);It(this,on,null);It(this,zt,null);It(this,Xt,null);Qt(this,zt,u),Qt(this,Xt,wt),Qt(this,Et,Mt),this._eventBus=$t,this._eventBus._on("editingaction",o(this,an)),this._eventBus._on("pagechanging",o(this,nn)),this._eventBus._on("scalechanging",o(this,vn)),this._eventBus._on("rotationchanging",o(this,Sn)),Qt(this,jt,Yt.annotationStorage),Qt(this,rn,Yt.filterFactory),Qt(this,mt,sn),this.viewParameters={realScale:s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const u=Tn.prototype,wt=Yt=>{const{activeElement:sn}=document;return sn&&o(Yt,zt).contains(sn)&&Yt.hasSomethingToControl()},Mt=this.TRANSLATE_SMALL,$t=this.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new P([[["ctrl+a","mac+meta+a"],u.selectAll],[["ctrl+z","mac+meta+z"],u.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],u.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],u.delete],[["Escape","mac+Escape"],u.unselectAll],[["ArrowLeft","mac+ArrowLeft"],u.translateSelectedEditors,{args:[-Mt,0],checker:wt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],u.translateSelectedEditors,{args:[-$t,0],checker:wt}],[["ArrowRight","mac+ArrowRight"],u.translateSelectedEditors,{args:[Mt,0],checker:wt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],u.translateSelectedEditors,{args:[$t,0],checker:wt}],[["ArrowUp","mac+ArrowUp"],u.translateSelectedEditors,{args:[0,-Mt],checker:wt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],u.translateSelectedEditors,{args:[0,-$t],checker:wt}],[["ArrowDown","mac+ArrowDown"],u.translateSelectedEditors,{args:[0,Mt],checker:wt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],u.translateSelectedEditors,{args:[0,$t],checker:wt}]]))}destroy(){Ht(this,Nn,yr).call(this),Ht(this,mn,Br).call(this),this._eventBus._off("editingaction",o(this,an)),this._eventBus._off("pagechanging",o(this,nn)),this._eventBus._off("scalechanging",o(this,vn)),this._eventBus._off("rotationchanging",o(this,Sn));for(const u of o(this,Ot).values())u.destroy();o(this,Ot).clear(),o(this,kt).clear(),o(this,un).clear(),Qt(this,ze,null),o(this,Qe).clear(),o(this,Wt).destroy(),o(this,Et).destroy()}get hcmFilter(){return(0,n.shadow)(this,"hcmFilter",o(this,mt)?o(this,rn).addHCMFilter(o(this,mt).foreground,o(this,mt).background):"none")}get direction(){return(0,n.shadow)(this,"direction",getComputedStyle(o(this,zt)).direction)}editAltText(u){var wt;(wt=o(this,Et))==null||wt.editAltText(this,u)}onPageChanging({pageNumber:u}){Qt(this,Nt,u-1)}focusMainContainer(){o(this,zt).focus()}findParent(u,wt){for(const Mt of o(this,Ot).values()){const{x:$t,y:Yt,width:sn,height:dn}=Mt.div.getBoundingClientRect();if(u>=$t&&u<=$t+sn&&wt>=Yt&&wt<=Yt+dn)return Mt}return null}disableUserSelect(u=!1){o(this,Xt).classList.toggle("noUserSelect",u)}addShouldRescale(u){o(this,un).add(u)}removeShouldRescale(u){o(this,un).delete(u)}onScaleChanging({scale:u}){this.commitOrRemove(),this.viewParameters.realScale=u*s.PixelsPerInch.PDF_TO_CSS_UNITS;for(const wt of o(this,un))wt.onScaleChanging()}onRotationChanging({pagesRotation:u}){this.commitOrRemove(),this.viewParameters.rotation=u}addToAnnotationStorage(u){!u.isEmpty()&&o(this,jt)&&!o(this,jt).has(u.id)&&o(this,jt).setValue(u.id,u)}blur(){if(!this.hasSelection)return;const{activeElement:u}=document;for(const wt of o(this,Qe))if(wt.div.contains(u)){Qt(this,c,[wt,u]),wt._focusEventsAllowed=!1;break}}focus(){if(!o(this,c))return;const[u,wt]=o(this,c);Qt(this,c,null),wt.addEventListener("focusin",()=>{u._focusEventsAllowed=!0},{once:!0}),wt.focus()}addEditListeners(){Ht(this,Ln,Ur).call(this),Ht(this,In,Wr).call(this)}removeEditListeners(){Ht(this,Nn,yr).call(this),Ht(this,cn,zr).call(this)}copy(u){var Mt;if(u.preventDefault(),(Mt=o(this,ze))==null||Mt.commitOrRemove(),!this.hasSelection)return;const wt=[];for(const $t of o(this,Qe)){const Yt=$t.serialize(!0);Yt&&wt.push(Yt)}wt.length!==0&&u.clipboardData.setData("application/pdfjs",JSON.stringify(wt))}cut(u){this.copy(u),this.delete()}paste(u){u.preventDefault();const{clipboardData:wt}=u;for(const Yt of wt.items)for(const sn of o(this,ln))if(sn.isHandlingMimeForPasting(Yt.type)){sn.paste(Yt,this.currentLayer);return}let Mt=wt.getData("application/pdfjs");if(!Mt)return;try{Mt=JSON.parse(Mt)}catch(Yt){(0,n.warn)(`paste: "${Yt.message}".`);return}if(!Array.isArray(Mt))return;this.unselectAll();const $t=this.currentLayer;try{const Yt=[];for(const xn of Mt){const An=$t.deserialize(xn);if(!An)return;Yt.push(An)}const sn=()=>{for(const xn of Yt)Ht(this,En,Hr).call(this,xn);Ht(this,pn,Gr).call(this,Yt)},dn=()=>{for(const xn of Yt)xn.remove()};this.addCommands({cmd:sn,undo:dn,mustExec:!0})}catch(Yt){(0,n.warn)(`paste: "${Yt.message}".`)}}keydown(u){var wt;(wt=this.getActive())!=null&&wt.shouldGetKeyboardEvents()||Tn._keyboardManager.exec(this,u)}onEditingAction(u){["undo","redo","delete","selectAll"].includes(u.name)&&this[u.name]()}setEditingState(u){u?(Ht(this,tn,yi).call(this),Ht(this,Ln,Ur).call(this),Ht(this,In,Wr).call(this),Ht(this,Vt,Jn).call(this,{isEditing:o(this,Le)!==n.AnnotationEditorType.NONE,isEmpty:Ht(this,Dn,dr).call(this),hasSomethingToUndo:o(this,Wt).hasSomethingToUndo(),hasSomethingToRedo:o(this,Wt).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ht(this,mn,Br).call(this),Ht(this,Nn,yr).call(this),Ht(this,cn,zr).call(this),Ht(this,Vt,Jn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(u){if(!o(this,ln)){Qt(this,ln,u);for(const wt of o(this,ln))Ht(this,gn,ur).call(this,wt.defaultPropertiesToUpdate)}}getId(){return o(this,Pt).getId()}get currentLayer(){return o(this,Ot).get(o(this,Nt))}getLayer(u){return o(this,Ot).get(u)}get currentPageIndex(){return o(this,Nt)}addLayer(u){o(this,Ot).set(u.pageIndex,u),o(this,l)?u.enable():u.disable()}removeLayer(u){o(this,Ot).delete(u.pageIndex)}updateMode(u,wt=null){if(o(this,Le)!==u){if(Qt(this,Le,u),u===n.AnnotationEditorType.NONE){this.setEditingState(!1),Ht(this,_n,Ai).call(this);return}this.setEditingState(!0),Ht(this,Gn,Ei).call(this),this.unselectAll();for(const Mt of o(this,Ot).values())Mt.updateMode(u);if(wt){for(const Mt of o(this,kt).values())if(Mt.annotationElementId===wt){this.setSelected(Mt),Mt.enterInEditMode();break}}}}updateToolbar(u){u!==o(this,Le)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:u})}updateParams(u,wt){if(o(this,ln)){if(u===n.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(u);return}for(const Mt of o(this,Qe))Mt.updateParams(u,wt);for(const Mt of o(this,ln))Mt.updateDefaultParams(u,wt)}}enableWaiting(u=!1){if(o(this,h)!==u){Qt(this,h,u);for(const wt of o(this,Ot).values())u?wt.disableClick():wt.enableClick(),wt.div.classList.toggle("waiting",u)}}getEditors(u){const wt=[];for(const Mt of o(this,kt).values())Mt.pageIndex===u&&wt.push(Mt);return wt}getEditor(u){return o(this,kt).get(u)}addEditor(u){o(this,kt).set(u.id,u)}removeEditor(u){var wt;o(this,kt).delete(u.id),this.unselect(u),(!u.annotationElementId||!o(this,Lt).has(u.annotationElementId))&&((wt=o(this,jt))==null||wt.remove(u.id))}addDeletedAnnotationElement(u){o(this,Lt).add(u.annotationElementId),u.deleted=!0}isDeletedAnnotationElement(u){return o(this,Lt).has(u)}removeDeletedAnnotationElement(u){o(this,Lt).delete(u.annotationElementId),u.deleted=!1}setActiveEditor(u){o(this,ze)!==u&&(Qt(this,ze,u),u&&Ht(this,gn,ur).call(this,u.propertiesToUpdate))}toggleSelected(u){if(o(this,Qe).has(u)){o(this,Qe).delete(u),u.unselect(),Ht(this,Vt,Jn).call(this,{hasSelectedEditor:this.hasSelection});return}o(this,Qe).add(u),u.select(),Ht(this,gn,ur).call(this,u.propertiesToUpdate),Ht(this,Vt,Jn).call(this,{hasSelectedEditor:!0})}setSelected(u){for(const wt of o(this,Qe))wt!==u&&wt.unselect();o(this,Qe).clear(),o(this,Qe).add(u),u.select(),Ht(this,gn,ur).call(this,u.propertiesToUpdate),Ht(this,Vt,Jn).call(this,{hasSelectedEditor:!0})}isSelected(u){return o(this,Qe).has(u)}unselect(u){u.unselect(),o(this,Qe).delete(u),Ht(this,Vt,Jn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return o(this,Qe).size!==0}undo(){o(this,Wt).undo(),Ht(this,Vt,Jn).call(this,{hasSomethingToUndo:o(this,Wt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ht(this,Dn,dr).call(this)})}redo(){o(this,Wt).redo(),Ht(this,Vt,Jn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:o(this,Wt).hasSomethingToRedo(),isEmpty:Ht(this,Dn,dr).call(this)})}addCommands(u){o(this,Wt).add(u),Ht(this,Vt,Jn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ht(this,Dn,dr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const u=[...o(this,Qe)],wt=()=>{for(const $t of u)$t.remove()},Mt=()=>{for(const $t of u)Ht(this,En,Hr).call(this,$t)};this.addCommands({cmd:wt,undo:Mt,mustExec:!0})}commitOrRemove(){var u;(u=o(this,ze))==null||u.commitOrRemove()}hasSomethingToControl(){return o(this,ze)||this.hasSelection}selectAll(){for(const u of o(this,Qe))u.commit();Ht(this,pn,Gr).call(this,o(this,kt).values())}unselectAll(){if(o(this,ze)){o(this,ze).commitOrRemove();return}if(this.hasSelection){for(const u of o(this,Qe))u.unselect();o(this,Qe).clear(),Ht(this,Vt,Jn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(u,wt,Mt=!1){if(Mt||this.commitOrRemove(),!this.hasSelection)return;o(this,yn)[0]+=u,o(this,yn)[1]+=wt;const[$t,Yt]=o(this,yn),sn=[...o(this,Qe)],dn=1e3;o(this,on)&&clearTimeout(o(this,on)),Qt(this,on,setTimeout(()=>{Qt(this,on,null),o(this,yn)[0]=o(this,yn)[1]=0,this.addCommands({cmd:()=>{for(const xn of sn)o(this,kt).has(xn.id)&&xn.translateInPage($t,Yt)},undo:()=>{for(const xn of sn)o(this,kt).has(xn.id)&&xn.translateInPage(-$t,-Yt)},mustExec:!1})},dn));for(const xn of sn)xn.translateInPage(u,wt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Qt(this,Ut,new Map);for(const u of o(this,Qe))o(this,Ut).set(u,{savedX:u.x,savedY:u.y,savedPageIndex:u.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!o(this,Ut))return!1;this.disableUserSelect(!1);const u=o(this,Ut);Qt(this,Ut,null);let wt=!1;for(const[{x:$t,y:Yt,pageIndex:sn},dn]of u)dn.newX=$t,dn.newY=Yt,dn.newPageIndex=sn,wt||(wt=$t!==dn.savedX||Yt!==dn.savedY||sn!==dn.savedPageIndex);if(!wt)return!1;const Mt=($t,Yt,sn,dn)=>{if(o(this,kt).has($t.id)){const xn=o(this,Ot).get(dn);xn?$t._setParentAndPosition(xn,Yt,sn):($t.pageIndex=dn,$t.x=Yt,$t.y=sn)}};return this.addCommands({cmd:()=>{for(const[$t,{newX:Yt,newY:sn,newPageIndex:dn}]of u)Mt($t,Yt,sn,dn)},undo:()=>{for(const[$t,{savedX:Yt,savedY:sn,savedPageIndex:dn}]of u)Mt($t,Yt,sn,dn)},mustExec:!0}),!0}dragSelectedEditors(u,wt){if(o(this,Ut))for(const Mt of o(this,Ut).keys())Mt.drag(u,wt)}rebuild(u){if(u.parent===null){const wt=this.getLayer(u.pageIndex);wt?(wt.changeParent(u),wt.addOrRebuild(u)):(this.addEditor(u),this.addToAnnotationStorage(u),u.rebuild())}else u.parent.addOrRebuild(u)}isActive(u){return o(this,ze)===u}getActive(){return o(this,ze)}getMode(){return o(this,Le)}get imageManager(){return(0,n.shadow)(this,"imageManager",new E)}};ze=new WeakMap,kt=new WeakMap,Ot=new WeakMap,Et=new WeakMap,jt=new WeakMap,Wt=new WeakMap,Nt=new WeakMap,Lt=new WeakMap,Ut=new WeakMap,ln=new WeakMap,un=new WeakMap,rn=new WeakMap,Pt=new WeakMap,l=new WeakMap,h=new WeakMap,c=new WeakMap,Le=new WeakMap,Qe=new WeakMap,mt=new WeakMap,Rt=new WeakMap,Ft=new WeakMap,qt=new WeakMap,Bt=new WeakMap,Gt=new WeakMap,Zt=new WeakMap,an=new WeakMap,nn=new WeakMap,vn=new WeakMap,Sn=new WeakMap,hn=new WeakMap,yn=new WeakMap,on=new WeakMap,zt=new WeakMap,Xt=new WeakMap,tn=new WeakSet,yi=function(){window.addEventListener("focus",o(this,Ft)),window.addEventListener("blur",o(this,Rt))},mn=new WeakSet,Br=function(){window.removeEventListener("focus",o(this,Ft)),window.removeEventListener("blur",o(this,Rt))},Ln=new WeakSet,Ur=function(){window.addEventListener("keydown",o(this,Zt),{capture:!0})},Nn=new WeakSet,yr=function(){window.removeEventListener("keydown",o(this,Zt),{capture:!0})},In=new WeakSet,Wr=function(){document.addEventListener("copy",o(this,qt)),document.addEventListener("cut",o(this,Bt)),document.addEventListener("paste",o(this,Gt))},cn=new WeakSet,zr=function(){document.removeEventListener("copy",o(this,qt)),document.removeEventListener("cut",o(this,Bt)),document.removeEventListener("paste",o(this,Gt))},Vt=new WeakSet,Jn=function(u){Object.entries(u).some(([Mt,$t])=>o(this,hn)[Mt]!==$t)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(o(this,hn),u)})},gn=new WeakSet,ur=function(u){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:u})},Gn=new WeakSet,Ei=function(){if(!o(this,l)){Qt(this,l,!0);for(const u of o(this,Ot).values())u.enable()}},_n=new WeakSet,Ai=function(){if(this.unselectAll(),o(this,l)){Qt(this,l,!1);for(const u of o(this,Ot).values())u.disable()}},En=new WeakSet,Hr=function(u){const wt=o(this,Ot).get(u.pageIndex);wt?wt.addOrRebuild(u):this.addEditor(u)},Dn=new WeakSet,dr=function(){if(o(this,kt).size===0)return!0;if(o(this,kt).size===1)for(const u of o(this,kt).values())return u.isEmpty();return!1},pn=new WeakSet,Gr=function(u){o(this,Qe).clear();for(const wt of u)wt.isEmpty()||(o(this,Qe).add(wt),wt.select());Ht(this,Vt,Jn).call(this,{hasSelectedEditor:!0})},qn(Tn,"TRANSLATE_SMALL",1),qn(Tn,"TRANSLATE_BIG",10);let Tt=Tn;e.AnnotationEditorUIManager=Tt},(t,e,i)=>{var Nt,Lt,Ut,ln,un,rn,Pt,l,h,c,Le,Qe,rr,Rt,ir,qt,Vr,Gt,Er,an,Ar,vn,hr,hn,pr;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=At,e.getColorValues=kt,e.getCurrentTransform=Ot,e.getCurrentTransformInverse=Et,e.getFilenameFromUrl=ft,e.getPdfFilenameFromUrl=_t,e.getRGB=ze,e.getXfaPageViewport=dt,e.isDataScheme=gt,e.isPdfFile=et,e.isValidFetchUrl=yt,e.loadScript=pe,e.noContextMenu=p,e.setLayerDimensions=jt;var n=i(7),s=i(1);const b="http://www.w3.org/2000/svg",Wt=class Wt{};qn(Wt,"CSS",96),qn(Wt,"PDF",72),qn(Wt,"PDF_TO_CSS_UNITS",Wt.CSS/Wt.PDF);let $e=Wt;e.PixelsPerInch=$e;class Ct extends n.BaseFilterFactory{constructor({docId:Xt,ownerDocument:tn=globalThis.document}={}){super();It(this,Qe);It(this,Rt);It(this,qt);It(this,Gt);It(this,an);It(this,vn);It(this,hn);It(this,Nt,void 0);It(this,Lt,void 0);It(this,Ut,void 0);It(this,ln,void 0);It(this,un,void 0);It(this,rn,void 0);It(this,Pt,void 0);It(this,l,void 0);It(this,h,void 0);It(this,c,void 0);It(this,Le,0);Qt(this,Ut,Xt),Qt(this,ln,tn)}addFilter(Xt){if(!Xt)return"none";let tn=o(this,Qe,rr).get(Xt);if(tn)return tn;let bn,mn,Fn,Ln;if(Xt.length===1){const In=Xt[0],Mn=new Array(256);for(let cn=0;cn<256;cn++)Mn[cn]=In[cn]/255;Ln=bn=mn=Fn=Mn.join(",")}else{const[In,Mn,cn]=Xt,Kt=new Array(256),Vt=new Array(256),fn=new Array(256);for(let gn=0;gn<256;gn++)Kt[gn]=In[gn]/255,Vt[gn]=Mn[gn]/255,fn[gn]=cn[gn]/255;bn=Kt.join(","),mn=Vt.join(","),Fn=fn.join(","),Ln=`${bn}${mn}${Fn}`}if(tn=o(this,Qe,rr).get(Ln),tn)return o(this,Qe,rr).set(Xt,tn),tn;const On=`g_${o(this,Ut)}_transfer_map_${cr(this,Le)._++}`,Nn=`url(#${On})`;o(this,Qe,rr).set(Xt,Nn),o(this,Qe,rr).set(Ln,Nn);const Rn=Ht(this,Gt,Er).call(this,On);return Ht(this,vn,hr).call(this,bn,mn,Fn,Rn),Nn}addHCMFilter(Xt,tn){var Mn;const bn=`${Xt}-${tn}`;if(o(this,rn)===bn)return o(this,Pt);if(Qt(this,rn,bn),Qt(this,Pt,"none"),(Mn=o(this,un))==null||Mn.remove(),!Xt||!tn)return o(this,Pt);const mn=Ht(this,hn,pr).call(this,Xt);Xt=s.Util.makeHexColor(...mn);const Fn=Ht(this,hn,pr).call(this,tn);if(tn=s.Util.makeHexColor(...Fn),o(this,Rt,ir).style.color="",Xt==="#000000"&&tn==="#ffffff"||Xt===tn)return o(this,Pt);const Ln=new Array(256);for(let cn=0;cn<=255;cn++){const Kt=cn/255;Ln[cn]=Kt<=.03928?Kt/12.92:((Kt+.055)/1.055)**2.4}const On=Ln.join(","),Nn=`g_${o(this,Ut)}_hcm_filter`,Rn=Qt(this,l,Ht(this,Gt,Er).call(this,Nn));Ht(this,vn,hr).call(this,On,On,On,Rn),Ht(this,qt,Vr).call(this,Rn);const In=(cn,Kt)=>{const Vt=mn[cn]/255,fn=Fn[cn]/255,gn=new Array(Kt+1);for(let Vn=0;Vn<=Kt;Vn++)gn[Vn]=Vt+Vn/Kt*(fn-Vt);return gn.join(",")};return Ht(this,vn,hr).call(this,In(0,5),In(1,5),In(2,5),Rn),Qt(this,Pt,`url(#${Nn})`),o(this,Pt)}addHighlightHCMFilter(Xt,tn,bn,mn){var fn;const Fn=`${Xt}-${tn}-${bn}-${mn}`;if(o(this,h)===Fn)return o(this,c);if(Qt(this,h,Fn),Qt(this,c,"none"),(fn=o(this,l))==null||fn.remove(),!Xt||!tn)return o(this,c);const[Ln,On]=[Xt,tn].map(Ht(this,hn,pr).bind(this));let Nn=Math.round(.2126*Ln[0]+.7152*Ln[1]+.0722*Ln[2]),Rn=Math.round(.2126*On[0]+.7152*On[1]+.0722*On[2]),[In,Mn]=[bn,mn].map(Ht(this,hn,pr).bind(this));Rn<Nn&&([Nn,Rn,In,Mn]=[Rn,Nn,Mn,In]),o(this,Rt,ir).style.color="";const cn=(gn,Vn,Gn)=>{const Jt=new Array(256),_n=(Rn-Nn)/Gn,Cn=gn/255,En=(Vn-gn)/(255*Gn);let kn=0;for(let Dn=0;Dn<=Gn;Dn++){const zn=Math.round(Nn+Dn*_n),pn=Cn+Dn*En;for(let Un=kn;Un<=zn;Un++)Jt[Un]=pn;kn=zn+1}for(let Dn=kn;Dn<256;Dn++)Jt[Dn]=Jt[kn-1];return Jt.join(",")},Kt=`g_${o(this,Ut)}_hcm_highlight_filter`,Vt=Qt(this,l,Ht(this,Gt,Er).call(this,Kt));return Ht(this,qt,Vr).call(this,Vt),Ht(this,vn,hr).call(this,cn(In[0],Mn[0],5),cn(In[1],Mn[1],5),cn(In[2],Mn[2],5),Vt),Qt(this,c,`url(#${Kt})`),o(this,c)}destroy(Xt=!1){Xt&&(o(this,Pt)||o(this,c))||(o(this,Lt)&&(o(this,Lt).parentNode.parentNode.remove(),Qt(this,Lt,null)),o(this,Nt)&&(o(this,Nt).clear(),Qt(this,Nt,null)),Qt(this,Le,0))}}Nt=new WeakMap,Lt=new WeakMap,Ut=new WeakMap,ln=new WeakMap,un=new WeakMap,rn=new WeakMap,Pt=new WeakMap,l=new WeakMap,h=new WeakMap,c=new WeakMap,Le=new WeakMap,Qe=new WeakSet,rr=function(){return o(this,Nt)||Qt(this,Nt,new Map)},Rt=new WeakSet,ir=function(){if(!o(this,Lt)){const Xt=o(this,ln).createElement("div"),{style:tn}=Xt;tn.visibility="hidden",tn.contain="strict",tn.width=tn.height=0,tn.position="absolute",tn.top=tn.left=0,tn.zIndex=-1;const bn=o(this,ln).createElementNS(b,"svg");bn.setAttribute("width",0),bn.setAttribute("height",0),Qt(this,Lt,o(this,ln).createElementNS(b,"defs")),Xt.append(bn),bn.append(o(this,Lt)),o(this,ln).body.append(Xt)}return o(this,Lt)},qt=new WeakSet,Vr=function(Xt){const tn=o(this,ln).createElementNS(b,"feColorMatrix");tn.setAttribute("type","matrix"),tn.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Xt.append(tn)},Gt=new WeakSet,Er=function(Xt){const tn=o(this,ln).createElementNS(b,"filter");return tn.setAttribute("color-interpolation-filters","sRGB"),tn.setAttribute("id",Xt),o(this,Rt,ir).append(tn),tn},an=new WeakSet,Ar=function(Xt,tn,bn){const mn=o(this,ln).createElementNS(b,tn);mn.setAttribute("type","discrete"),mn.setAttribute("tableValues",bn),Xt.append(mn)},vn=new WeakSet,hr=function(Xt,tn,bn,mn){const Fn=o(this,ln).createElementNS(b,"feComponentTransfer");mn.append(Fn),Ht(this,an,Ar).call(this,Fn,"feFuncR",Xt),Ht(this,an,Ar).call(this,Fn,"feFuncG",tn),Ht(this,an,Ar).call(this,Fn,"feFuncB",bn)},hn=new WeakSet,pr=function(Xt){return o(this,Rt,ir).style.color=Xt,ze(getComputedStyle(o(this,Rt,ir)).getPropertyValue("color"))},e.DOMFilterFactory=Ct;class E extends n.BaseCanvasFactory{constructor({ownerDocument:zt=globalThis.document}={}){super(),this._document=zt}_createCanvas(zt,Xt){const tn=this._document.createElement("canvas");return tn.width=zt,tn.height=Xt,tn}}e.DOMCanvasFactory=E;async function N(on,zt=!1){if(yt(on,document.baseURI)){const Xt=await fetch(on);if(!Xt.ok)throw new Error(Xt.statusText);return zt?new Uint8Array(await Xt.arrayBuffer()):(0,s.stringToBytes)(await Xt.text())}return new Promise((Xt,tn)=>{const bn=new XMLHttpRequest;bn.open("GET",on,!0),zt&&(bn.responseType="arraybuffer"),bn.onreadystatechange=()=>{if(bn.readyState===XMLHttpRequest.DONE){if(bn.status===200||bn.status===0){let mn;if(zt&&bn.response?mn=new Uint8Array(bn.response):!zt&&bn.responseText&&(mn=(0,s.stringToBytes)(bn.responseText)),mn){Xt(mn);return}}tn(new Error(bn.statusText))}},bn.send(null)})}class P extends n.BaseCMapReaderFactory{_fetchData(zt,Xt){return N(zt,this.isCompressed).then(tn=>({cMapData:tn,compressionType:Xt}))}}e.DOMCMapReaderFactory=P;class St extends n.BaseStandardFontDataFactory{_fetchData(zt){return N(zt,!0)}}e.DOMStandardFontDataFactory=St;class Tt extends n.BaseSVGFactory{_createSVG(zt){return document.createElementNS(b,zt)}}e.DOMSVGFactory=Tt;class vt{constructor({viewBox:zt,scale:Xt,rotation:tn,offsetX:bn=0,offsetY:mn=0,dontFlip:Fn=!1}){this.viewBox=zt,this.scale=Xt,this.rotation=tn,this.offsetX=bn,this.offsetY=mn;const Ln=(zt[2]+zt[0])/2,On=(zt[3]+zt[1])/2;let Nn,Rn,In,Mn;switch(tn%=360,tn<0&&(tn+=360),tn){case 180:Nn=-1,Rn=0,In=0,Mn=1;break;case 90:Nn=0,Rn=1,In=1,Mn=0;break;case 270:Nn=0,Rn=-1,In=-1,Mn=0;break;case 0:Nn=1,Rn=0,In=0,Mn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Fn&&(In=-In,Mn=-Mn);let cn,Kt,Vt,fn;Nn===0?(cn=Math.abs(On-zt[1])*Xt+bn,Kt=Math.abs(Ln-zt[0])*Xt+mn,Vt=(zt[3]-zt[1])*Xt,fn=(zt[2]-zt[0])*Xt):(cn=Math.abs(Ln-zt[0])*Xt+bn,Kt=Math.abs(On-zt[1])*Xt+mn,Vt=(zt[2]-zt[0])*Xt,fn=(zt[3]-zt[1])*Xt),this.transform=[Nn*Xt,Rn*Xt,In*Xt,Mn*Xt,cn-Nn*Xt*Ln-In*Xt*On,Kt-Rn*Xt*Ln-Mn*Xt*On],this.width=Vt,this.height=fn}get rawDims(){const{viewBox:zt}=this;return(0,s.shadow)(this,"rawDims",{pageWidth:zt[2]-zt[0],pageHeight:zt[3]-zt[1],pageX:zt[0],pageY:zt[1]})}clone({scale:zt=this.scale,rotation:Xt=this.rotation,offsetX:tn=this.offsetX,offsetY:bn=this.offsetY,dontFlip:mn=!1}={}){return new vt({viewBox:this.viewBox.slice(),scale:zt,rotation:Xt,offsetX:tn,offsetY:bn,dontFlip:mn})}convertToViewportPoint(zt,Xt){return s.Util.applyTransform([zt,Xt],this.transform)}convertToViewportRectangle(zt){const Xt=s.Util.applyTransform([zt[0],zt[1]],this.transform),tn=s.Util.applyTransform([zt[2],zt[3]],this.transform);return[Xt[0],Xt[1],tn[0],tn[1]]}convertToPdfPoint(zt,Xt){return s.Util.applyInverseTransform([zt,Xt],this.transform)}}e.PageViewport=vt;class bt extends s.BaseException{constructor(zt,Xt=0){super(zt,"RenderingCancelledException"),this.extraDelay=Xt}}e.RenderingCancelledException=bt;function gt(on){const zt=on.length;let Xt=0;for(;Xt<zt&&on[Xt].trim()==="";)Xt++;return on.substring(Xt,Xt+5).toLowerCase()==="data:"}function et(on){return typeof on=="string"&&/\.pdf$/i.test(on)}function ft(on,zt=!1){return zt||([on]=on.split(/[#?]/,1)),on.substring(on.lastIndexOf("/")+1)}function _t(on,zt="document.pdf"){if(typeof on!="string")return zt;if(gt(on))return(0,s.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),zt;const Xt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,tn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,bn=Xt.exec(on);let mn=tn.exec(bn[1])||tn.exec(bn[2])||tn.exec(bn[3]);if(mn&&(mn=mn[0],mn.includes("%")))try{mn=tn.exec(decodeURIComponent(mn))[0]}catch{}return mn||zt}class xt{constructor(){qn(this,"started",Object.create(null));qn(this,"times",[])}time(zt){zt in this.started&&(0,s.warn)(`Timer is already running for ${zt}`),this.started[zt]=Date.now()}timeEnd(zt){zt in this.started||(0,s.warn)(`Timer has not been started for ${zt}`),this.times.push({name:zt,start:this.started[zt],end:Date.now()}),delete this.started[zt]}toString(){const zt=[];let Xt=0;for(const{name:tn}of this.times)Xt=Math.max(tn.length,Xt);for(const{name:tn,start:bn,end:mn}of this.times)zt.push(`${tn.padEnd(Xt)} ${mn-bn}ms
`);return zt.join("")}}e.StatTimer=xt;function yt(on,zt){try{const{protocol:Xt}=zt?new URL(on,zt):new URL(on);return Xt==="http:"||Xt==="https:"}catch{return!1}}function p(on){on.preventDefault()}function pe(on,zt=!1){return new Promise((Xt,tn)=>{const bn=document.createElement("script");bn.src=on,bn.onload=function(mn){zt&&bn.remove(),Xt(mn)},bn.onerror=function(){tn(new Error(`Cannot load script at: ${bn.src}`))},(document.head||document.documentElement).append(bn)})}function At(on){console.log("Deprecated API usage: "+on)}let d;class a{static toDateObject(zt){if(!zt||typeof zt!="string")return null;d||(d=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Xt=d.exec(zt);if(!Xt)return null;const tn=parseInt(Xt[1],10);let bn=parseInt(Xt[2],10);bn=bn>=1&&bn<=12?bn-1:0;let mn=parseInt(Xt[3],10);mn=mn>=1&&mn<=31?mn:1;let Fn=parseInt(Xt[4],10);Fn=Fn>=0&&Fn<=23?Fn:0;let Ln=parseInt(Xt[5],10);Ln=Ln>=0&&Ln<=59?Ln:0;let On=parseInt(Xt[6],10);On=On>=0&&On<=59?On:0;const Nn=Xt[7]||"Z";let Rn=parseInt(Xt[8],10);Rn=Rn>=0&&Rn<=23?Rn:0;let In=parseInt(Xt[9],10)||0;return In=In>=0&&In<=59?In:0,Nn==="-"?(Fn+=Rn,Ln+=In):Nn==="+"&&(Fn-=Rn,Ln-=In),new Date(Date.UTC(tn,bn,mn,Fn,Ln,On))}}e.PDFDateString=a;function dt(on,{scale:zt=1,rotation:Xt=0}){const{width:tn,height:bn}=on.attributes.style,mn=[0,0,parseInt(tn),parseInt(bn)];return new vt({viewBox:mn,scale:zt,rotation:Xt})}function ze(on){if(on.startsWith("#")){const zt=parseInt(on.slice(1),16);return[(zt&16711680)>>16,(zt&65280)>>8,zt&255]}return on.startsWith("rgb(")?on.slice(4,-1).split(",").map(zt=>parseInt(zt)):on.startsWith("rgba(")?on.slice(5,-1).split(",").map(zt=>parseInt(zt)).slice(0,3):((0,s.warn)(`Not a valid color format: "${on}"`),[0,0,0])}function kt(on){const zt=document.createElement("span");zt.style.visibility="hidden",document.body.append(zt);for(const Xt of on.keys()){zt.style.color=Xt;const tn=window.getComputedStyle(zt).color;on.set(Xt,ze(tn))}zt.remove()}function Ot(on){const{a:zt,b:Xt,c:tn,d:bn,e:mn,f:Fn}=on.getTransform();return[zt,Xt,tn,bn,mn,Fn]}function Et(on){const{a:zt,b:Xt,c:tn,d:bn,e:mn,f:Fn}=on.getTransform().invertSelf();return[zt,Xt,tn,bn,mn,Fn]}function jt(on,zt,Xt=!1,tn=!0){if(zt instanceof vt){const{pageWidth:bn,pageHeight:mn}=zt.rawDims,{style:Fn}=on,Ln=s.FeatureTest.isCSSRoundSupported,On=`var(--scale-factor) * ${bn}px`,Nn=`var(--scale-factor) * ${mn}px`,Rn=Ln?`round(${On}, 1px)`:`calc(${On})`,In=Ln?`round(${Nn}, 1px)`:`calc(${Nn})`;!Xt||zt.rotation%180===0?(Fn.width=Rn,Fn.height=In):(Fn.width=In,Fn.height=Rn)}tn&&on.setAttribute("data-main-rotation",zt.rotation)}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var n=i(1);class s{constructor(){this.constructor===s&&(0,n.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(P){return"none"}addHCMFilter(P,St){return"none"}addHighlightHCMFilter(P,St,Tt,vt){return"none"}destroy(P=!1){}}e.BaseFilterFactory=s;class b{constructor(){this.constructor===b&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(P,St){if(P<=0||St<=0)throw new Error("Invalid canvas size");const Tt=this._createCanvas(P,St);return{canvas:Tt,context:Tt.getContext("2d")}}reset(P,St,Tt){if(!P.canvas)throw new Error("Canvas is not specified");if(St<=0||Tt<=0)throw new Error("Invalid canvas size");P.canvas.width=St,P.canvas.height=Tt}destroy(P){if(!P.canvas)throw new Error("Canvas is not specified");P.canvas.width=0,P.canvas.height=0,P.canvas=null,P.context=null}_createCanvas(P,St){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=b;class $e{constructor({baseUrl:P=null,isCompressed:St=!0}){this.constructor===$e&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=P,this.isCompressed=St}async fetch({name:P}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!P)throw new Error("CMap name must be specified.");const St=this.baseUrl+P+(this.isCompressed?".bcmap":""),Tt=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(St,Tt).catch(vt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${St}`)})}_fetchData(P,St){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=$e;class Ct{constructor({baseUrl:P=null}){this.constructor===Ct&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=P}async fetch({filename:P}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!P)throw new Error("Font filename must be specified.");const St=`${this.baseUrl}${P}`;return this._fetchData(St).catch(Tt=>{throw new Error(`Unable to load font data at: ${St}`)})}_fetchData(P){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=Ct;class E{constructor(){this.constructor===E&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(P,St,Tt=!1){if(P<=0||St<=0)throw new Error("Invalid SVG dimensions");const vt=this._createSVG("svg:svg");return vt.setAttribute("version","1.1"),Tt||(vt.setAttribute("width",`${P}px`),vt.setAttribute("height",`${St}px`)),vt.setAttribute("preserveAspectRatio","none"),vt.setAttribute("viewBox",`0 0 ${P} ${St}`),vt}createElement(P){if(typeof P!="string")throw new Error("Invalid SVG element type");return this._createSVG(P)}_createSVG(P){(0,n.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=E},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var n=i(1);const s=3285377520,b=4294901760,$e=65535;class Ct{constructor(N){this.h1=N?N&4294967295:s,this.h2=N?N&4294967295:s}update(N){let P,St;if(typeof N=="string"){P=new Uint8Array(N.length*2),St=0;for(let At=0,d=N.length;At<d;At++){const a=N.charCodeAt(At);a<=255?P[St++]=a:(P[St++]=a>>>8,P[St++]=a&255)}}else if((0,n.isArrayBuffer)(N))P=N.slice(),St=P.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Tt=St>>2,vt=St-Tt*4,bt=new Uint32Array(P.buffer,0,Tt);let gt=0,et=0,ft=this.h1,_t=this.h2;const xt=3432918353,yt=461845907,p=xt&$e,pe=yt&$e;for(let At=0;At<Tt;At++)At&1?(gt=bt[At],gt=gt*xt&b|gt*p&$e,gt=gt<<15|gt>>>17,gt=gt*yt&b|gt*pe&$e,ft^=gt,ft=ft<<13|ft>>>19,ft=ft*5+3864292196):(et=bt[At],et=et*xt&b|et*p&$e,et=et<<15|et>>>17,et=et*yt&b|et*pe&$e,_t^=et,_t=_t<<13|_t>>>19,_t=_t*5+3864292196);switch(gt=0,vt){case 3:gt^=P[Tt*4+2]<<16;case 2:gt^=P[Tt*4+1]<<8;case 1:gt^=P[Tt*4],gt=gt*xt&b|gt*p&$e,gt=gt<<15|gt>>>17,gt=gt*yt&b|gt*pe&$e,Tt&1?ft^=gt:_t^=gt}this.h1=ft,this.h2=_t}hexdigest(){let N=this.h1,P=this.h2;return N^=P>>>1,N=N*3981806797&b|N*36045&$e,P=P*4283543511&b|((P<<16|N>>>16)*2950163797&b)>>>16,N^=P>>>1,N=N*444984403&b|N*60499&$e,P=P*3301882366&b|((P<<16|N>>>16)*3120437893&b)>>>16,N^=P>>>1,(N>>>0).toString(16).padStart(8,"0")+(P>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=Ct},(t,e,i)=>{var $e;Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var n=i(1);class s{constructor({ownerDocument:E=globalThis.document,styleElement:N=null}){It(this,$e,new Set);this._document=E,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(E){this.nativeFontFaces.add(E),this._document.fonts.add(E)}removeNativeFontFace(E){this.nativeFontFaces.delete(E),this._document.fonts.delete(E)}insertRule(E){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const N=this.styleElement.sheet;N.insertRule(E,N.cssRules.length)}clear(){for(const E of this.nativeFontFaces)this._document.fonts.delete(E);this.nativeFontFaces.clear(),o(this,$e).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(E){if(!(!E||o(this,$e).has(E.loadedName))){if((0,n.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:N,src:P,style:St}=E,Tt=new FontFace(N,P,St);this.addNativeFontFace(Tt);try{await Tt.load(),o(this,$e).add(N)}catch{(0,n.warn)(`Cannot load system font: ${E.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Tt)}return}(0,n.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(E){if(E.attached||E.missingFile&&!E.systemFontInfo)return;if(E.attached=!0,E.systemFontInfo){await this.loadSystemFont(E.systemFontInfo);return}if(this.isFontLoadingAPISupported){const P=E.createNativeFontFace();if(P){this.addNativeFontFace(P);try{await P.loaded}catch(St){throw(0,n.warn)(`Failed to load font '${P.family}': '${St}'.`),E.disableFontFace=!0,St}}return}const N=E.createFontFaceRule();if(N){if(this.insertRule(N),this.isSyncFontLoadingSupported)return;await new Promise(P=>{const St=this._queueLoadingCallback(P);this._prepareFontLoadEvent(E,St)})}}get isFontLoadingAPISupported(){var N;const E=!!((N=this._document)!=null&&N.fonts);return(0,n.shadow)(this,"isFontLoadingAPISupported",E)}get isSyncFontLoadingSupported(){let E=!1;return(n.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(E=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",E)}_queueLoadingCallback(E){function N(){for((0,n.assert)(!St.done,"completeRequest() cannot be called twice."),St.done=!0;P.length>0&&P[0].done;){const Tt=P.shift();setTimeout(Tt.callback,0)}}const{loadingRequests:P}=this,St={done:!1,complete:N,callback:E};return P.push(St),St}get _loadTestFont(){const E=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,n.shadow)(this,"_loadTestFont",E)}_prepareFontLoadEvent(E,N){function P(ze,kt){return ze.charCodeAt(kt)<<24|ze.charCodeAt(kt+1)<<16|ze.charCodeAt(kt+2)<<8|ze.charCodeAt(kt+3)&255}function St(ze,kt,Ot,Et){const jt=ze.substring(0,kt),Wt=ze.substring(kt+Ot);return jt+Et+Wt}let Tt,vt;const bt=this._document.createElement("canvas");bt.width=1,bt.height=1;const gt=bt.getContext("2d");let et=0;function ft(ze,kt){if(++et>30){(0,n.warn)("Load test font never loaded."),kt();return}if(gt.font="30px "+ze,gt.fillText(".",0,20),gt.getImageData(0,0,1,1).data[3]>0){kt();return}setTimeout(ft.bind(null,ze,kt))}const _t=`lt${Date.now()}${this.loadTestFontId++}`;let xt=this._loadTestFont;xt=St(xt,976,_t.length,_t);const p=16,pe=1482184792;let At=P(xt,p);for(Tt=0,vt=_t.length-3;Tt<vt;Tt+=4)At=At-pe+P(_t,Tt)|0;Tt<_t.length&&(At=At-pe+P(_t+"XXX",Tt)|0),xt=St(xt,p,4,(0,n.string32)(At));const d=`url(data:font/opentype;base64,${btoa(xt)});`,a=`@font-face {font-family:"${_t}";src:${d}}`;this.insertRule(a);const dt=this._document.createElement("div");dt.style.visibility="hidden",dt.style.width=dt.style.height="10px",dt.style.position="absolute",dt.style.top=dt.style.left="0px";for(const ze of[E.loadedName,_t]){const kt=this._document.createElement("span");kt.textContent="Hi",kt.style.fontFamily=ze,dt.append(kt)}this._document.body.append(dt),ft(_t,()=>{dt.remove(),N.complete()})}}$e=new WeakMap,e.FontLoader=s;class b{constructor(E,{isEvalSupported:N=!0,disableFontFace:P=!1,ignoreErrors:St=!1,inspectFont:Tt=null}){this.compiledGlyphs=Object.create(null);for(const vt in E)this[vt]=E[vt];this.isEvalSupported=N!==!1,this.disableFontFace=P===!0,this.ignoreErrors=St===!0,this._inspectFont=Tt}createNativeFontFace(){var N;if(!this.data||this.disableFontFace)return null;let E;if(!this.cssFontInfo)E=new FontFace(this.loadedName,this.data,{});else{const P={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(P.style=`oblique ${this.cssFontInfo.italicAngle}deg`),E=new FontFace(this.cssFontInfo.fontFamily,this.data,P)}return(N=this._inspectFont)==null||N.call(this,this),E}createFontFaceRule(){var St;if(!this.data||this.disableFontFace)return null;const E=(0,n.bytesToString)(this.data),N=`url(data:${this.mimetype};base64,${btoa(E)});`;let P;if(!this.cssFontInfo)P=`@font-face {font-family:"${this.loadedName}";src:${N}}`;else{let Tt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Tt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),P=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Tt}src:${N}}`}return(St=this._inspectFont)==null||St.call(this,this,N),P}getPathGenerator(E,N){if(this.compiledGlyphs[N]!==void 0)return this.compiledGlyphs[N];let P;try{P=E.get(this.loadedName+"_path_"+N)}catch(St){if(!this.ignoreErrors)throw St;return(0,n.warn)(`getPathGenerator - ignoring character: "${St}".`),this.compiledGlyphs[N]=function(Tt,vt){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){const St=[];for(const Tt of P){const vt=Tt.args!==void 0?Tt.args.join(","):"";St.push("c.",Tt.cmd,"(",vt,`);
`)}return this.compiledGlyphs[N]=new Function("c","size",St.join(""))}return this.compiledGlyphs[N]=function(St,Tt){for(const vt of P)vt.cmd==="scale"&&(vt.args=[Tt,-Tt]),St[vt.cmd].apply(St,vt.args)}}}e.FontFaceObject=b},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var n=i(7);i(1);const s=function(N){return new Promise((P,St)=>{require$$5.readFile(N,(vt,bt)=>{if(vt||!bt){St(new Error(vt));return}P(new Uint8Array(bt))})})};class b extends n.BaseFilterFactory{}e.NodeFilterFactory=b;class $e extends n.BaseCanvasFactory{_createCanvas(P,St){return require$$5.createCanvas(P,St)}}e.NodeCanvasFactory=$e;class Ct extends n.BaseCMapReaderFactory{_fetchData(P,St){return s(P).then(Tt=>({cMapData:Tt,compressionType:St}))}}e.NodeCMapReaderFactory=Ct;class E extends n.BaseStandardFontDataFactory{_fetchData(P){return s(P)}}e.NodeStandardFontDataFactory=E},(t,e,i)=>{var Lt,qr,ln,Xr;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var n=i(1),s=i(6),b=i(12),$e=i(13);const Ct=16,E=100,N=4096,P=15,St=10,Tt=1e3,vt=16;function bt(Pt,l){if(Pt._removeMirroring)throw new Error("Context is already forwarding operations.");Pt.__originalSave=Pt.save,Pt.__originalRestore=Pt.restore,Pt.__originalRotate=Pt.rotate,Pt.__originalScale=Pt.scale,Pt.__originalTranslate=Pt.translate,Pt.__originalTransform=Pt.transform,Pt.__originalSetTransform=Pt.setTransform,Pt.__originalResetTransform=Pt.resetTransform,Pt.__originalClip=Pt.clip,Pt.__originalMoveTo=Pt.moveTo,Pt.__originalLineTo=Pt.lineTo,Pt.__originalBezierCurveTo=Pt.bezierCurveTo,Pt.__originalRect=Pt.rect,Pt.__originalClosePath=Pt.closePath,Pt.__originalBeginPath=Pt.beginPath,Pt._removeMirroring=()=>{Pt.save=Pt.__originalSave,Pt.restore=Pt.__originalRestore,Pt.rotate=Pt.__originalRotate,Pt.scale=Pt.__originalScale,Pt.translate=Pt.__originalTranslate,Pt.transform=Pt.__originalTransform,Pt.setTransform=Pt.__originalSetTransform,Pt.resetTransform=Pt.__originalResetTransform,Pt.clip=Pt.__originalClip,Pt.moveTo=Pt.__originalMoveTo,Pt.lineTo=Pt.__originalLineTo,Pt.bezierCurveTo=Pt.__originalBezierCurveTo,Pt.rect=Pt.__originalRect,Pt.closePath=Pt.__originalClosePath,Pt.beginPath=Pt.__originalBeginPath,delete Pt._removeMirroring},Pt.save=function(){l.save(),this.__originalSave()},Pt.restore=function(){l.restore(),this.__originalRestore()},Pt.translate=function(c,Le){l.translate(c,Le),this.__originalTranslate(c,Le)},Pt.scale=function(c,Le){l.scale(c,Le),this.__originalScale(c,Le)},Pt.transform=function(c,Le,Qe,mt,Rt,Ft){l.transform(c,Le,Qe,mt,Rt,Ft),this.__originalTransform(c,Le,Qe,mt,Rt,Ft)},Pt.setTransform=function(c,Le,Qe,mt,Rt,Ft){l.setTransform(c,Le,Qe,mt,Rt,Ft),this.__originalSetTransform(c,Le,Qe,mt,Rt,Ft)},Pt.resetTransform=function(){l.resetTransform(),this.__originalResetTransform()},Pt.rotate=function(c){l.rotate(c),this.__originalRotate(c)},Pt.clip=function(c){l.clip(c),this.__originalClip(c)},Pt.moveTo=function(h,c){l.moveTo(h,c),this.__originalMoveTo(h,c)},Pt.lineTo=function(h,c){l.lineTo(h,c),this.__originalLineTo(h,c)},Pt.bezierCurveTo=function(h,c,Le,Qe,mt,Rt){l.bezierCurveTo(h,c,Le,Qe,mt,Rt),this.__originalBezierCurveTo(h,c,Le,Qe,mt,Rt)},Pt.rect=function(h,c,Le,Qe){l.rect(h,c,Le,Qe),this.__originalRect(h,c,Le,Qe)},Pt.closePath=function(){l.closePath(),this.__originalClosePath()},Pt.beginPath=function(){l.beginPath(),this.__originalBeginPath()}}class gt{constructor(l){this.canvasFactory=l,this.cache=Object.create(null)}getCanvas(l,h,c){let Le;return this.cache[l]!==void 0?(Le=this.cache[l],this.canvasFactory.reset(Le,h,c)):(Le=this.canvasFactory.create(h,c),this.cache[l]=Le),Le}delete(l){delete this.cache[l]}clear(){for(const l in this.cache){const h=this.cache[l];this.canvasFactory.destroy(h),delete this.cache[l]}}}function et(Pt,l,h,c,Le,Qe,mt,Rt,Ft,qt){const[Bt,Gt,Zt,an,nn,vn]=(0,s.getCurrentTransform)(Pt);if(Gt===0&&Zt===0){const yn=mt*Bt+nn,on=Math.round(yn),zt=Rt*an+vn,Xt=Math.round(zt),tn=(mt+Ft)*Bt+nn,bn=Math.abs(Math.round(tn)-on)||1,mn=(Rt+qt)*an+vn,Fn=Math.abs(Math.round(mn)-Xt)||1;return Pt.setTransform(Math.sign(Bt),0,0,Math.sign(an),on,Xt),Pt.drawImage(l,h,c,Le,Qe,0,0,bn,Fn),Pt.setTransform(Bt,Gt,Zt,an,nn,vn),[bn,Fn]}if(Bt===0&&an===0){const yn=Rt*Zt+nn,on=Math.round(yn),zt=mt*Gt+vn,Xt=Math.round(zt),tn=(Rt+qt)*Zt+nn,bn=Math.abs(Math.round(tn)-on)||1,mn=(mt+Ft)*Gt+vn,Fn=Math.abs(Math.round(mn)-Xt)||1;return Pt.setTransform(0,Math.sign(Gt),Math.sign(Zt),0,on,Xt),Pt.drawImage(l,h,c,Le,Qe,0,0,Fn,bn),Pt.setTransform(Bt,Gt,Zt,an,nn,vn),[Fn,bn]}Pt.drawImage(l,h,c,Le,Qe,mt,Rt,Ft,qt);const Sn=Math.hypot(Bt,Gt),hn=Math.hypot(Zt,an);return[Sn*Ft,hn*qt]}function ft(Pt){const{width:l,height:h}=Pt;if(l>Tt||h>Tt)return null;const c=1e3,Le=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Qe=l+1;let mt=new Uint8Array(Qe*(h+1)),Rt,Ft,qt;const Bt=l+7&-8;let Gt=new Uint8Array(Bt*h),Zt=0;for(const hn of Pt.data){let yn=128;for(;yn>0;)Gt[Zt++]=hn&yn?0:255,yn>>=1}let an=0;for(Zt=0,Gt[Zt]!==0&&(mt[0]=1,++an),Ft=1;Ft<l;Ft++)Gt[Zt]!==Gt[Zt+1]&&(mt[Ft]=Gt[Zt]?2:1,++an),Zt++;for(Gt[Zt]!==0&&(mt[Ft]=2,++an),Rt=1;Rt<h;Rt++){Zt=Rt*Bt,qt=Rt*Qe,Gt[Zt-Bt]!==Gt[Zt]&&(mt[qt]=Gt[Zt]?1:8,++an);let hn=(Gt[Zt]?4:0)+(Gt[Zt-Bt]?8:0);for(Ft=1;Ft<l;Ft++)hn=(hn>>2)+(Gt[Zt+1]?4:0)+(Gt[Zt-Bt+1]?8:0),Le[hn]&&(mt[qt+Ft]=Le[hn],++an),Zt++;if(Gt[Zt-Bt]!==Gt[Zt]&&(mt[qt+Ft]=Gt[Zt]?2:4,++an),an>c)return null}for(Zt=Bt*(h-1),qt=Rt*Qe,Gt[Zt]!==0&&(mt[qt]=8,++an),Ft=1;Ft<l;Ft++)Gt[Zt]!==Gt[Zt+1]&&(mt[qt+Ft]=Gt[Zt]?4:8,++an),Zt++;if(Gt[Zt]!==0&&(mt[qt+Ft]=4,++an),an>c)return null;const nn=new Int32Array([0,Qe,-1,0,-Qe,0,0,0,1]),vn=new Path2D;for(Rt=0;an&&Rt<=h;Rt++){let hn=Rt*Qe;const yn=hn+l;for(;hn<yn&&!mt[hn];)hn++;if(hn===yn)continue;vn.moveTo(hn%Qe,Rt);const on=hn;let zt=mt[hn];do{const Xt=nn[zt];do hn+=Xt;while(!mt[hn]);const tn=mt[hn];tn!==5&&tn!==10?(zt=tn,mt[hn]=0):(zt=tn&51*zt>>4,mt[hn]&=zt>>2|zt<<2),vn.lineTo(hn%Qe,hn/Qe|0),mt[hn]||--an}while(on!==hn);--Rt}return Gt=null,mt=null,function(hn){hn.save(),hn.scale(1/l,-1/h),hn.translate(0,-h),hn.fill(vn),hn.beginPath(),hn.restore()}}class _t{constructor(l,h){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,l,h])}clone(){const l=Object.create(this);return l.clipBox=this.clipBox.slice(),l}setCurrentPoint(l,h){this.x=l,this.y=h}updatePathMinMax(l,h,c){[h,c]=n.Util.applyTransform([h,c],l),this.minX=Math.min(this.minX,h),this.minY=Math.min(this.minY,c),this.maxX=Math.max(this.maxX,h),this.maxY=Math.max(this.maxY,c)}updateRectMinMax(l,h){const c=n.Util.applyTransform(h,l),Le=n.Util.applyTransform(h.slice(2),l);this.minX=Math.min(this.minX,c[0],Le[0]),this.minY=Math.min(this.minY,c[1],Le[1]),this.maxX=Math.max(this.maxX,c[0],Le[0]),this.maxY=Math.max(this.maxY,c[1],Le[1])}updateScalingPathMinMax(l,h){n.Util.scaleMinMax(l,h),this.minX=Math.min(this.minX,h[0]),this.maxX=Math.max(this.maxX,h[1]),this.minY=Math.min(this.minY,h[2]),this.maxY=Math.max(this.maxY,h[3])}updateCurvePathMinMax(l,h,c,Le,Qe,mt,Rt,Ft,qt,Bt){const Gt=n.Util.bezierBoundingBox(h,c,Le,Qe,mt,Rt,Ft,qt);if(Bt){Bt[0]=Math.min(Bt[0],Gt[0],Gt[2]),Bt[1]=Math.max(Bt[1],Gt[0],Gt[2]),Bt[2]=Math.min(Bt[2],Gt[1],Gt[3]),Bt[3]=Math.max(Bt[3],Gt[1],Gt[3]);return}this.updateRectMinMax(l,Gt)}getPathBoundingBox(l=b.PathType.FILL,h=null){const c=[this.minX,this.minY,this.maxX,this.maxY];if(l===b.PathType.STROKE){h||(0,n.unreachable)("Stroke bounding box must include transform.");const Le=n.Util.singularValueDecompose2dScale(h),Qe=Le[0]*this.lineWidth/2,mt=Le[1]*this.lineWidth/2;c[0]-=Qe,c[1]-=mt,c[2]+=Qe,c[3]+=mt}return c}updateClipFromPath(){const l=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(l||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(l){this.clipBox=l,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(l=b.PathType.FILL,h=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(l,h))}}function xt(Pt,l){if(typeof ImageData<"u"&&l instanceof ImageData){Pt.putImageData(l,0,0);return}const h=l.height,c=l.width,Le=h%vt,Qe=(h-Le)/vt,mt=Le===0?Qe:Qe+1,Rt=Pt.createImageData(c,vt);let Ft=0,qt;const Bt=l.data,Gt=Rt.data;let Zt,an,nn,vn;if(l.kind===n.ImageKind.GRAYSCALE_1BPP){const Sn=Bt.byteLength,hn=new Uint32Array(Gt.buffer,0,Gt.byteLength>>2),yn=hn.length,on=c+7>>3,zt=4294967295,Xt=n.FeatureTest.isLittleEndian?4278190080:255;for(Zt=0;Zt<mt;Zt++){for(nn=Zt<Qe?vt:Le,qt=0,an=0;an<nn;an++){const tn=Sn-Ft;let bn=0;const mn=tn>on?c:tn*8-7,Fn=mn&-8;let Ln=0,On=0;for(;bn<Fn;bn+=8)On=Bt[Ft++],hn[qt++]=On&128?zt:Xt,hn[qt++]=On&64?zt:Xt,hn[qt++]=On&32?zt:Xt,hn[qt++]=On&16?zt:Xt,hn[qt++]=On&8?zt:Xt,hn[qt++]=On&4?zt:Xt,hn[qt++]=On&2?zt:Xt,hn[qt++]=On&1?zt:Xt;for(;bn<mn;bn++)Ln===0&&(On=Bt[Ft++],Ln=128),hn[qt++]=On&Ln?zt:Xt,Ln>>=1}for(;qt<yn;)hn[qt++]=0;Pt.putImageData(Rt,0,Zt*vt)}}else if(l.kind===n.ImageKind.RGBA_32BPP){for(an=0,vn=c*vt*4,Zt=0;Zt<Qe;Zt++)Gt.set(Bt.subarray(Ft,Ft+vn)),Ft+=vn,Pt.putImageData(Rt,0,an),an+=vt;Zt<mt&&(vn=c*Le*4,Gt.set(Bt.subarray(Ft,Ft+vn)),Pt.putImageData(Rt,0,an))}else if(l.kind===n.ImageKind.RGB_24BPP)for(nn=vt,vn=c*nn,Zt=0;Zt<mt;Zt++){for(Zt>=Qe&&(nn=Le,vn=c*nn),qt=0,an=vn;an--;)Gt[qt++]=Bt[Ft++],Gt[qt++]=Bt[Ft++],Gt[qt++]=Bt[Ft++],Gt[qt++]=255;Pt.putImageData(Rt,0,Zt*vt)}else throw new Error(`bad image kind: ${l.kind}`)}function yt(Pt,l){if(l.bitmap){Pt.drawImage(l.bitmap,0,0);return}const h=l.height,c=l.width,Le=h%vt,Qe=(h-Le)/vt,mt=Le===0?Qe:Qe+1,Rt=Pt.createImageData(c,vt);let Ft=0;const qt=l.data,Bt=Rt.data;for(let Gt=0;Gt<mt;Gt++){const Zt=Gt<Qe?vt:Le;({srcPos:Ft}=(0,$e.convertBlackAndWhiteToRGBA)({src:qt,srcPos:Ft,dest:Bt,width:c,height:Zt,nonBlackColor:0})),Pt.putImageData(Rt,0,Gt*vt)}}function p(Pt,l){const h=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const c of h)Pt[c]!==void 0&&(l[c]=Pt[c]);Pt.setLineDash!==void 0&&(l.setLineDash(Pt.getLineDash()),l.lineDashOffset=Pt.lineDashOffset)}function pe(Pt){if(Pt.strokeStyle=Pt.fillStyle="#000000",Pt.fillRule="nonzero",Pt.globalAlpha=1,Pt.lineWidth=1,Pt.lineCap="butt",Pt.lineJoin="miter",Pt.miterLimit=10,Pt.globalCompositeOperation="source-over",Pt.font="10px sans-serif",Pt.setLineDash!==void 0&&(Pt.setLineDash([]),Pt.lineDashOffset=0),!n.isNodeJS){const{filter:l}=Pt;l!=="none"&&l!==""&&(Pt.filter="none")}}function At(Pt,l,h,c){const Le=Pt.length;for(let Qe=3;Qe<Le;Qe+=4){const mt=Pt[Qe];if(mt===0)Pt[Qe-3]=l,Pt[Qe-2]=h,Pt[Qe-1]=c;else if(mt<255){const Rt=255-mt;Pt[Qe-3]=Pt[Qe-3]*mt+l*Rt>>8,Pt[Qe-2]=Pt[Qe-2]*mt+h*Rt>>8,Pt[Qe-1]=Pt[Qe-1]*mt+c*Rt>>8}}}function d(Pt,l,h){const c=Pt.length,Le=1/255;for(let Qe=3;Qe<c;Qe+=4){const mt=h?h[Pt[Qe]]:Pt[Qe];l[Qe]=l[Qe]*mt*Le|0}}function a(Pt,l,h){const c=Pt.length;for(let Le=3;Le<c;Le+=4){const Qe=Pt[Le-3]*77+Pt[Le-2]*152+Pt[Le-1]*28;l[Le]=h?l[Le]*h[Qe>>8]>>8:l[Le]*Qe>>16}}function dt(Pt,l,h,c,Le,Qe,mt,Rt,Ft,qt,Bt){const Gt=!!Qe,Zt=Gt?Qe[0]:0,an=Gt?Qe[1]:0,nn=Gt?Qe[2]:0,vn=Le==="Luminosity"?a:d,hn=Math.min(c,Math.ceil(1048576/h));for(let yn=0;yn<c;yn+=hn){const on=Math.min(hn,c-yn),zt=Pt.getImageData(Rt-qt,yn+(Ft-Bt),h,on),Xt=l.getImageData(Rt,yn+Ft,h,on);Gt&&At(zt.data,Zt,an,nn),vn(zt.data,Xt.data,mt),l.putImageData(Xt,Rt,yn+Ft)}}function ze(Pt,l,h,c){const Le=c[0],Qe=c[1],mt=c[2]-Le,Rt=c[3]-Qe;mt===0||Rt===0||(dt(l.context,h,mt,Rt,l.subtype,l.backdrop,l.transferMap,Le,Qe,l.offsetX,l.offsetY),Pt.save(),Pt.globalAlpha=1,Pt.globalCompositeOperation="source-over",Pt.setTransform(1,0,0,1,0,0),Pt.drawImage(h.canvas,0,0),Pt.restore())}function kt(Pt,l){const h=n.Util.singularValueDecompose2dScale(Pt);h[0]=Math.fround(h[0]),h[1]=Math.fround(h[1]);const c=Math.fround((globalThis.devicePixelRatio||1)*s.PixelsPerInch.PDF_TO_CSS_UNITS);return l!==void 0?l:h[0]<=c||h[1]<=c}const Ot=["butt","round","square"],Et=["miter","round","bevel"],jt={},Wt={},rn=class rn{constructor(l,h,c,Le,Qe,{optionalContentConfig:mt,markedContentStack:Rt=null},Ft,qt){It(this,Lt);It(this,ln);this.ctx=l,this.current=new _t(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=h,this.objs=c,this.canvasFactory=Le,this.filterFactory=Qe,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Rt||[],this.optionalContentConfig=mt,this.cachedCanvases=new gt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Ft,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=qt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(l,h=null){return typeof l=="string"?l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l):h}beginDrawing({transform:l,viewport:h,transparency:c=!1,background:Le=null}){const Qe=this.ctx.canvas.width,mt=this.ctx.canvas.height,Rt=this.ctx.fillStyle;if(this.ctx.fillStyle=Le||"#ffffff",this.ctx.fillRect(0,0,Qe,mt),this.ctx.fillStyle=Rt,c){const Ft=this.cachedCanvases.getCanvas("transparent",Qe,mt);this.compositeCtx=this.ctx,this.transparentCanvas=Ft.canvas,this.ctx=Ft.context,this.ctx.save(),this.ctx.transform(...(0,s.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),pe(this.ctx),l&&(this.ctx.transform(...l),this.outputScaleX=l[0],this.outputScaleY=l[0]),this.ctx.transform(...h.transform),this.viewportScale=h.scale,this.baseTransform=(0,s.getCurrentTransform)(this.ctx)}executeOperatorList(l,h,c,Le){const Qe=l.argsArray,mt=l.fnArray;let Rt=h||0;const Ft=Qe.length;if(Ft===Rt)return Rt;const qt=Ft-Rt>St&&typeof c=="function",Bt=qt?Date.now()+P:0;let Gt=0;const Zt=this.commonObjs,an=this.objs;let nn;for(;;){if(Le!==void 0&&Rt===Le.nextBreakPoint)return Le.breakIt(Rt,c),Rt;if(nn=mt[Rt],nn!==n.OPS.dependency)this[nn].apply(this,Qe[Rt]);else for(const vn of Qe[Rt]){const Sn=vn.startsWith("g_")?Zt:an;if(!Sn.has(vn))return Sn.get(vn,c),Rt}if(Rt++,Rt===Ft)return Rt;if(qt&&++Gt>St){if(Date.now()>Bt)return c(),Rt;Gt=0}}}endDrawing(){Ht(this,Lt,qr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const l of this._cachedBitmapsMap.values()){for(const h of l.values())typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement&&(h.width=h.height=0);l.clear()}this._cachedBitmapsMap.clear(),Ht(this,ln,Xr).call(this)}_scaleImage(l,h){const c=l.width,Le=l.height;let Qe=Math.max(Math.hypot(h[0],h[1]),1),mt=Math.max(Math.hypot(h[2],h[3]),1),Rt=c,Ft=Le,qt="prescale1",Bt,Gt;for(;Qe>2&&Rt>1||mt>2&&Ft>1;){let Zt=Rt,an=Ft;Qe>2&&Rt>1&&(Zt=Rt>=16384?Math.floor(Rt/2)-1||1:Math.ceil(Rt/2),Qe/=Rt/Zt),mt>2&&Ft>1&&(an=Ft>=16384?Math.floor(Ft/2)-1||1:Math.ceil(Ft)/2,mt/=Ft/an),Bt=this.cachedCanvases.getCanvas(qt,Zt,an),Gt=Bt.context,Gt.clearRect(0,0,Zt,an),Gt.drawImage(l,0,0,Rt,Ft,0,0,Zt,an),l=Bt.canvas,Rt=Zt,Ft=an,qt=qt==="prescale1"?"prescale2":"prescale1"}return{img:l,paintWidth:Rt,paintHeight:Ft}}_createMaskCanvas(l){const h=this.ctx,{width:c,height:Le}=l,Qe=this.current.fillColor,mt=this.current.patternFill,Rt=(0,s.getCurrentTransform)(h);let Ft,qt,Bt,Gt;if((l.bitmap||l.data)&&l.count>1){const bn=l.bitmap||l.data.buffer;qt=JSON.stringify(mt?Rt:[Rt.slice(0,4),Qe]),Ft=this._cachedBitmapsMap.get(bn),Ft||(Ft=new Map,this._cachedBitmapsMap.set(bn,Ft));const mn=Ft.get(qt);if(mn&&!mt){const Fn=Math.round(Math.min(Rt[0],Rt[2])+Rt[4]),Ln=Math.round(Math.min(Rt[1],Rt[3])+Rt[5]);return{canvas:mn,offsetX:Fn,offsetY:Ln}}Bt=mn}Bt||(Gt=this.cachedCanvases.getCanvas("maskCanvas",c,Le),yt(Gt.context,l));let Zt=n.Util.transform(Rt,[1/c,0,0,-1/Le,0,0]);Zt=n.Util.transform(Zt,[1,0,0,1,0,-Le]);const an=n.Util.applyTransform([0,0],Zt),nn=n.Util.applyTransform([c,Le],Zt),vn=n.Util.normalizeRect([an[0],an[1],nn[0],nn[1]]),Sn=Math.round(vn[2]-vn[0])||1,hn=Math.round(vn[3]-vn[1])||1,yn=this.cachedCanvases.getCanvas("fillCanvas",Sn,hn),on=yn.context,zt=Math.min(an[0],nn[0]),Xt=Math.min(an[1],nn[1]);on.translate(-zt,-Xt),on.transform(...Zt),Bt||(Bt=this._scaleImage(Gt.canvas,(0,s.getCurrentTransformInverse)(on)),Bt=Bt.img,Ft&&mt&&Ft.set(qt,Bt)),on.imageSmoothingEnabled=kt((0,s.getCurrentTransform)(on),l.interpolate),et(on,Bt,0,0,Bt.width,Bt.height,0,0,c,Le),on.globalCompositeOperation="source-in";const tn=n.Util.transform((0,s.getCurrentTransformInverse)(on),[1,0,0,1,-zt,-Xt]);return on.fillStyle=mt?Qe.getPattern(h,this,tn,b.PathType.FILL):Qe,on.fillRect(0,0,c,Le),Ft&&!mt&&(this.cachedCanvases.delete("fillCanvas"),Ft.set(qt,yn.canvas)),{canvas:yn.canvas,offsetX:Math.round(zt),offsetY:Math.round(Xt)}}setLineWidth(l){l!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=l,this.ctx.lineWidth=l}setLineCap(l){this.ctx.lineCap=Ot[l]}setLineJoin(l){this.ctx.lineJoin=Et[l]}setMiterLimit(l){this.ctx.miterLimit=l}setDash(l,h){const c=this.ctx;c.setLineDash!==void 0&&(c.setLineDash(l),c.lineDashOffset=h)}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(const[h,c]of l)switch(h){case"LW":this.setLineWidth(c);break;case"LC":this.setLineCap(c);break;case"LJ":this.setLineJoin(c);break;case"ML":this.setMiterLimit(c);break;case"D":this.setDash(c[0],c[1]);break;case"RI":this.setRenderingIntent(c);break;case"FL":this.setFlatness(c);break;case"Font":this.setFont(c[0],c[1]);break;case"CA":this.current.strokeAlpha=c;break;case"ca":this.current.fillAlpha=c,this.ctx.globalAlpha=c;break;case"BM":this.ctx.globalCompositeOperation=c;break;case"SMask":this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const l=this.inSMaskMode;this.current.activeSMask&&!l?this.beginSMaskMode():!this.current.activeSMask&&l&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const l=this.ctx.canvas.width,h=this.ctx.canvas.height,c="smaskGroupAt"+this.groupLevel,Le=this.cachedCanvases.getCanvas(c,l,h);this.suspendedCtx=this.ctx,this.ctx=Le.context;const Qe=this.ctx;Qe.setTransform(...(0,s.getCurrentTransform)(this.suspendedCtx)),p(this.suspendedCtx,Qe),bt(Qe,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),p(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(l){if(!this.current.activeSMask)return;l?(l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1]),l[2]=Math.ceil(l[2]),l[3]=Math.ceil(l[3])):l=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const h=this.current.activeSMask,c=this.suspendedCtx;ze(c,h,this.ctx,l),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(p(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const l=this.current;this.stateStack.push(l),this.current=l.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),p(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(l,h,c,Le,Qe,mt){this.ctx.transform(l,h,c,Le,Qe,mt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(l,h,c){const Le=this.ctx,Qe=this.current;let mt=Qe.x,Rt=Qe.y,Ft,qt;const Bt=(0,s.getCurrentTransform)(Le),Gt=Bt[0]===0&&Bt[3]===0||Bt[1]===0&&Bt[2]===0,Zt=Gt?c.slice(0):null;for(let an=0,nn=0,vn=l.length;an<vn;an++)switch(l[an]|0){case n.OPS.rectangle:mt=h[nn++],Rt=h[nn++];const Sn=h[nn++],hn=h[nn++],yn=mt+Sn,on=Rt+hn;Le.moveTo(mt,Rt),Sn===0||hn===0?Le.lineTo(yn,on):(Le.lineTo(yn,Rt),Le.lineTo(yn,on),Le.lineTo(mt,on)),Gt||Qe.updateRectMinMax(Bt,[mt,Rt,yn,on]),Le.closePath();break;case n.OPS.moveTo:mt=h[nn++],Rt=h[nn++],Le.moveTo(mt,Rt),Gt||Qe.updatePathMinMax(Bt,mt,Rt);break;case n.OPS.lineTo:mt=h[nn++],Rt=h[nn++],Le.lineTo(mt,Rt),Gt||Qe.updatePathMinMax(Bt,mt,Rt);break;case n.OPS.curveTo:Ft=mt,qt=Rt,mt=h[nn+4],Rt=h[nn+5],Le.bezierCurveTo(h[nn],h[nn+1],h[nn+2],h[nn+3],mt,Rt),Qe.updateCurvePathMinMax(Bt,Ft,qt,h[nn],h[nn+1],h[nn+2],h[nn+3],mt,Rt,Zt),nn+=6;break;case n.OPS.curveTo2:Ft=mt,qt=Rt,Le.bezierCurveTo(mt,Rt,h[nn],h[nn+1],h[nn+2],h[nn+3]),Qe.updateCurvePathMinMax(Bt,Ft,qt,mt,Rt,h[nn],h[nn+1],h[nn+2],h[nn+3],Zt),mt=h[nn+2],Rt=h[nn+3],nn+=4;break;case n.OPS.curveTo3:Ft=mt,qt=Rt,mt=h[nn+2],Rt=h[nn+3],Le.bezierCurveTo(h[nn],h[nn+1],mt,Rt,mt,Rt),Qe.updateCurvePathMinMax(Bt,Ft,qt,h[nn],h[nn+1],mt,Rt,mt,Rt,Zt),nn+=4;break;case n.OPS.closePath:Le.closePath();break}Gt&&Qe.updateScalingPathMinMax(Bt,Zt),Qe.setCurrentPoint(mt,Rt)}closePath(){this.ctx.closePath()}stroke(l=!0){const h=this.ctx,c=this.current.strokeColor;h.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof c=="object"&&(c!=null&&c.getPattern)?(h.save(),h.strokeStyle=c.getPattern(h,this,(0,s.getCurrentTransformInverse)(h),b.PathType.STROKE),this.rescaleAndStroke(!1),h.restore()):this.rescaleAndStroke(!0)),l&&this.consumePath(this.current.getClippedPathBoundingBox()),h.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(l=!0){const h=this.ctx,c=this.current.fillColor,Le=this.current.patternFill;let Qe=!1;Le&&(h.save(),h.fillStyle=c.getPattern(h,this,(0,s.getCurrentTransformInverse)(h),b.PathType.FILL),Qe=!0);const mt=this.current.getClippedPathBoundingBox();this.contentVisible&&mt!==null&&(this.pendingEOFill?(h.fill("evenodd"),this.pendingEOFill=!1):h.fill()),Qe&&h.restore(),l&&this.consumePath(mt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=jt}eoClip(){this.pendingClip=Wt}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const l=this.pendingTextPaths,h=this.ctx;if(l===void 0){h.beginPath();return}h.save(),h.beginPath();for(const c of l)h.setTransform(...c.transform),h.translate(c.x,c.y),c.addToPath(h,c.fontSize);h.restore(),h.clip(),h.beginPath(),delete this.pendingTextPaths}setCharSpacing(l){this.current.charSpacing=l}setWordSpacing(l){this.current.wordSpacing=l}setHScale(l){this.current.textHScale=l/100}setLeading(l){this.current.leading=-l}setFont(l,h){var Bt;const c=this.commonObjs.get(l),Le=this.current;if(!c)throw new Error(`Can't find font for ${l}`);if(Le.fontMatrix=c.fontMatrix||n.FONT_IDENTITY_MATRIX,(Le.fontMatrix[0]===0||Le.fontMatrix[3]===0)&&(0,n.warn)("Invalid font matrix for font "+l),h<0?(h=-h,Le.fontDirection=-1):Le.fontDirection=1,this.current.font=c,this.current.fontSize=h,c.isType3Font)return;const Qe=c.loadedName||"sans-serif",mt=((Bt=c.systemFontInfo)==null?void 0:Bt.css)||`"${Qe}", ${c.fallbackName}`;let Rt="normal";c.black?Rt="900":c.bold&&(Rt="bold");const Ft=c.italic?"italic":"normal";let qt=h;h<Ct?qt=Ct:h>E&&(qt=E),this.current.fontSizeScale=h/qt,this.ctx.font=`${Ft} ${Rt} ${qt}px ${mt}`}setTextRenderingMode(l){this.current.textRenderingMode=l}setTextRise(l){this.current.textRise=l}moveText(l,h){this.current.x=this.current.lineX+=l,this.current.y=this.current.lineY+=h}setLeadingMoveText(l,h){this.setLeading(-h),this.moveText(l,h)}setTextMatrix(l,h,c,Le,Qe,mt){this.current.textMatrix=[l,h,c,Le,Qe,mt],this.current.textMatrixScale=Math.hypot(l,h),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(l,h,c,Le){const Qe=this.ctx,mt=this.current,Rt=mt.font,Ft=mt.textRenderingMode,qt=mt.fontSize/mt.fontSizeScale,Bt=Ft&n.TextRenderingMode.FILL_STROKE_MASK,Gt=!!(Ft&n.TextRenderingMode.ADD_TO_PATH_FLAG),Zt=mt.patternFill&&!Rt.missingFile;let an;(Rt.disableFontFace||Gt||Zt)&&(an=Rt.getPathGenerator(this.commonObjs,l)),Rt.disableFontFace||Zt?(Qe.save(),Qe.translate(h,c),Qe.beginPath(),an(Qe,qt),Le&&Qe.setTransform(...Le),(Bt===n.TextRenderingMode.FILL||Bt===n.TextRenderingMode.FILL_STROKE)&&Qe.fill(),(Bt===n.TextRenderingMode.STROKE||Bt===n.TextRenderingMode.FILL_STROKE)&&Qe.stroke(),Qe.restore()):((Bt===n.TextRenderingMode.FILL||Bt===n.TextRenderingMode.FILL_STROKE)&&Qe.fillText(l,h,c),(Bt===n.TextRenderingMode.STROKE||Bt===n.TextRenderingMode.FILL_STROKE)&&Qe.strokeText(l,h,c)),Gt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,s.getCurrentTransform)(Qe),x:h,y:c,fontSize:qt,addToPath:an})}get isFontSubpixelAAEnabled(){const{context:l}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);l.scale(1.5,1),l.fillText("I",0,10);const h=l.getImageData(0,0,10,10).data;let c=!1;for(let Le=3;Le<h.length;Le+=4)if(h[Le]>0&&h[Le]<255){c=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",c)}showText(l){const h=this.current,c=h.font;if(c.isType3Font)return this.showType3Text(l);const Le=h.fontSize;if(Le===0)return;const Qe=this.ctx,mt=h.fontSizeScale,Rt=h.charSpacing,Ft=h.wordSpacing,qt=h.fontDirection,Bt=h.textHScale*qt,Gt=l.length,Zt=c.vertical,an=Zt?1:-1,nn=c.defaultVMetrics,vn=Le*h.fontMatrix[0],Sn=h.textRenderingMode===n.TextRenderingMode.FILL&&!c.disableFontFace&&!h.patternFill;Qe.save(),Qe.transform(...h.textMatrix),Qe.translate(h.x,h.y+h.textRise),qt>0?Qe.scale(Bt,-1):Qe.scale(Bt,1);let hn;if(h.patternFill){Qe.save();const tn=h.fillColor.getPattern(Qe,this,(0,s.getCurrentTransformInverse)(Qe),b.PathType.FILL);hn=(0,s.getCurrentTransform)(Qe),Qe.restore(),Qe.fillStyle=tn}let yn=h.lineWidth;const on=h.textMatrixScale;if(on===0||yn===0){const tn=h.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(tn===n.TextRenderingMode.STROKE||tn===n.TextRenderingMode.FILL_STROKE)&&(yn=this.getSinglePixelWidth())}else yn/=on;if(mt!==1&&(Qe.scale(mt,mt),yn/=mt),Qe.lineWidth=yn,c.isInvalidPDFjsFont){const tn=[];let bn=0;for(const mn of l)tn.push(mn.unicode),bn+=mn.width;Qe.fillText(tn.join(""),0,0),h.x+=bn*vn*Bt,Qe.restore(),this.compose();return}let zt=0,Xt;for(Xt=0;Xt<Gt;++Xt){const tn=l[Xt];if(typeof tn=="number"){zt+=an*tn*Le/1e3;continue}let bn=!1;const mn=(tn.isSpace?Ft:0)+Rt,Fn=tn.fontChar,Ln=tn.accent;let On,Nn,Rn=tn.width;if(Zt){const Mn=tn.vmetric||nn,cn=-(tn.vmetric?Mn[1]:Rn*.5)*vn,Kt=Mn[2]*vn;Rn=Mn?-Mn[0]:Rn,On=cn/mt,Nn=(zt+Kt)/mt}else On=zt/mt,Nn=0;if(c.remeasure&&Rn>0){const Mn=Qe.measureText(Fn).width*1e3/Le*mt;if(Rn<Mn&&this.isFontSubpixelAAEnabled){const cn=Rn/Mn;bn=!0,Qe.save(),Qe.scale(cn,1),On/=cn}else Rn!==Mn&&(On+=(Rn-Mn)/2e3*Le/mt)}if(this.contentVisible&&(tn.isInFont||c.missingFile)){if(Sn&&!Ln)Qe.fillText(Fn,On,Nn);else if(this.paintChar(Fn,On,Nn,hn),Ln){const Mn=On+Le*Ln.offset.x/mt,cn=Nn-Le*Ln.offset.y/mt;this.paintChar(Ln.fontChar,Mn,cn,hn)}}const In=Zt?Rn*vn-mn*qt:Rn*vn+mn*qt;zt+=In,bn&&Qe.restore()}Zt?h.y-=zt:h.x+=zt*Bt,Qe.restore(),this.compose()}showType3Text(l){const h=this.ctx,c=this.current,Le=c.font,Qe=c.fontSize,mt=c.fontDirection,Rt=Le.vertical?1:-1,Ft=c.charSpacing,qt=c.wordSpacing,Bt=c.textHScale*mt,Gt=c.fontMatrix||n.FONT_IDENTITY_MATRIX,Zt=l.length,an=c.textRenderingMode===n.TextRenderingMode.INVISIBLE;let nn,vn,Sn,hn;if(!(an||Qe===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,h.save(),h.transform(...c.textMatrix),h.translate(c.x,c.y),h.scale(Bt,mt),nn=0;nn<Zt;++nn){if(vn=l[nn],typeof vn=="number"){hn=Rt*vn*Qe/1e3,this.ctx.translate(hn,0),c.x+=hn*Bt;continue}const yn=(vn.isSpace?qt:0)+Ft,on=Le.charProcOperatorList[vn.operatorListId];if(!on){(0,n.warn)(`Type3 character "${vn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=vn,this.save(),h.scale(Qe,Qe),h.transform(...Gt),this.executeOperatorList(on),this.restore()),Sn=n.Util.applyTransform([vn.width,0],Gt)[0]*Qe+yn,h.translate(Sn,0),c.x+=Sn*Bt}h.restore(),this.processingType3=null}}setCharWidth(l,h){}setCharWidthAndBounds(l,h,c,Le,Qe,mt){this.ctx.rect(c,Le,Qe-c,mt-Le),this.ctx.clip(),this.endPath()}getColorN_Pattern(l){let h;if(l[0]==="TilingPattern"){const c=l[1],Le=this.baseTransform||(0,s.getCurrentTransform)(this.ctx),Qe={createCanvasGraphics:mt=>new rn(mt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};h=new b.TilingPattern(l,c,this.ctx,Qe,Le)}else h=this._getPattern(l[1],l[2]);return h}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(l,h,c){const Le=n.Util.makeHexColor(l,h,c);this.ctx.strokeStyle=Le,this.current.strokeColor=Le}setFillRGBColor(l,h,c){const Le=n.Util.makeHexColor(l,h,c);this.ctx.fillStyle=Le,this.current.fillColor=Le,this.current.patternFill=!1}_getPattern(l,h=null){let c;return this.cachedPatterns.has(l)?c=this.cachedPatterns.get(l):(c=(0,b.getShadingPattern)(this.getObject(l)),this.cachedPatterns.set(l,c)),h&&(c.matrix=h),c}shadingFill(l){if(!this.contentVisible)return;const h=this.ctx;this.save();const c=this._getPattern(l);h.fillStyle=c.getPattern(h,this,(0,s.getCurrentTransformInverse)(h),b.PathType.SHADING);const Le=(0,s.getCurrentTransformInverse)(h);if(Le){const{width:Qe,height:mt}=h.canvas,[Rt,Ft,qt,Bt]=n.Util.getAxialAlignedBoundingBox([0,0,Qe,mt],Le);this.ctx.fillRect(Rt,Ft,qt-Rt,Bt-Ft)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(l,h){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(l)&&l.length===6&&this.transform(...l),this.baseTransform=(0,s.getCurrentTransform)(this.ctx),h)){const c=h[2]-h[0],Le=h[3]-h[1];this.ctx.rect(h[0],h[1],c,Le),this.current.updateRectMinMax((0,s.getCurrentTransform)(this.ctx),h),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(l){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const h=this.ctx;l.isolated||(0,n.info)("TODO: Support non-isolated groups."),l.knockout&&(0,n.warn)("Knockout groups not supported.");const c=(0,s.getCurrentTransform)(h);if(l.matrix&&h.transform(...l.matrix),!l.bbox)throw new Error("Bounding box is required.");let Le=n.Util.getAxialAlignedBoundingBox(l.bbox,(0,s.getCurrentTransform)(h));const Qe=[0,0,h.canvas.width,h.canvas.height];Le=n.Util.intersect(Le,Qe)||[0,0,0,0];const mt=Math.floor(Le[0]),Rt=Math.floor(Le[1]);let Ft=Math.max(Math.ceil(Le[2])-mt,1),qt=Math.max(Math.ceil(Le[3])-Rt,1),Bt=1,Gt=1;Ft>N&&(Bt=Ft/N,Ft=N),qt>N&&(Gt=qt/N,qt=N),this.current.startNewPathAndClipBox([0,0,Ft,qt]);let Zt="groupAt"+this.groupLevel;l.smask&&(Zt+="_smask_"+this.smaskCounter++%2);const an=this.cachedCanvases.getCanvas(Zt,Ft,qt),nn=an.context;nn.scale(1/Bt,1/Gt),nn.translate(-mt,-Rt),nn.transform(...c),l.smask?this.smaskStack.push({canvas:an.canvas,context:nn,offsetX:mt,offsetY:Rt,scaleX:Bt,scaleY:Gt,subtype:l.smask.subtype,backdrop:l.smask.backdrop,transferMap:l.smask.transferMap||null,startTransformInverse:null}):(h.setTransform(1,0,0,1,0,0),h.translate(mt,Rt),h.scale(Bt,Gt),h.save()),p(h,nn),this.ctx=nn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(h),this.groupLevel++}endGroup(l){if(!this.contentVisible)return;this.groupLevel--;const h=this.ctx,c=this.groupStack.pop();if(this.ctx=c,this.ctx.imageSmoothingEnabled=!1,l.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Le=(0,s.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Le);const Qe=n.Util.getAxialAlignedBoundingBox([0,0,h.canvas.width,h.canvas.height],Le);this.ctx.drawImage(h.canvas,0,0),this.ctx.restore(),this.compose(Qe)}}beginAnnotation(l,h,c,Le,Qe){if(Ht(this,Lt,qr).call(this),pe(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(h)&&h.length===4){const mt=h[2]-h[0],Rt=h[3]-h[1];if(Qe&&this.annotationCanvasMap){c=c.slice(),c[4]-=h[0],c[5]-=h[1],h=h.slice(),h[0]=h[1]=0,h[2]=mt,h[3]=Rt;const[Ft,qt]=n.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(this.ctx)),{viewportScale:Bt}=this,Gt=Math.ceil(mt*this.outputScaleX*Bt),Zt=Math.ceil(Rt*this.outputScaleY*Bt);this.annotationCanvas=this.canvasFactory.create(Gt,Zt);const{canvas:an,context:nn}=this.annotationCanvas;this.annotationCanvasMap.set(l,an),this.annotationCanvas.savedCtx=this.ctx,this.ctx=nn,this.ctx.save(),this.ctx.setTransform(Ft,0,0,-qt,0,Rt*qt),pe(this.ctx)}else pe(this.ctx),this.ctx.rect(h[0],h[1],mt,Rt),this.ctx.clip(),this.endPath()}this.current=new _t(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...c),this.transform(...Le)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ht(this,ln,Xr).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(l){if(!this.contentVisible)return;const h=l.count;l=this.getObject(l.data,l),l.count=h;const c=this.ctx,Le=this.processingType3;if(Le&&(Le.compiled===void 0&&(Le.compiled=ft(l)),Le.compiled)){Le.compiled(c);return}const Qe=this._createMaskCanvas(l),mt=Qe.canvas;c.save(),c.setTransform(1,0,0,1,0,0),c.drawImage(mt,Qe.offsetX,Qe.offsetY),c.restore(),this.compose()}paintImageMaskXObjectRepeat(l,h,c=0,Le=0,Qe,mt){if(!this.contentVisible)return;l=this.getObject(l.data,l);const Rt=this.ctx;Rt.save();const Ft=(0,s.getCurrentTransform)(Rt);Rt.transform(h,c,Le,Qe,0,0);const qt=this._createMaskCanvas(l);Rt.setTransform(1,0,0,1,qt.offsetX-Ft[4],qt.offsetY-Ft[5]);for(let Bt=0,Gt=mt.length;Bt<Gt;Bt+=2){const Zt=n.Util.transform(Ft,[h,c,Le,Qe,mt[Bt],mt[Bt+1]]),[an,nn]=n.Util.applyTransform([0,0],Zt);Rt.drawImage(qt.canvas,an,nn)}Rt.restore(),this.compose()}paintImageMaskXObjectGroup(l){if(!this.contentVisible)return;const h=this.ctx,c=this.current.fillColor,Le=this.current.patternFill;for(const Qe of l){const{data:mt,width:Rt,height:Ft,transform:qt}=Qe,Bt=this.cachedCanvases.getCanvas("maskCanvas",Rt,Ft),Gt=Bt.context;Gt.save();const Zt=this.getObject(mt,Qe);yt(Gt,Zt),Gt.globalCompositeOperation="source-in",Gt.fillStyle=Le?c.getPattern(Gt,this,(0,s.getCurrentTransformInverse)(h),b.PathType.FILL):c,Gt.fillRect(0,0,Rt,Ft),Gt.restore(),h.save(),h.transform(...qt),h.scale(1,-1),et(h,Bt.canvas,0,0,Rt,Ft,0,-1,1,1),h.restore()}this.compose()}paintImageXObject(l){if(!this.contentVisible)return;const h=this.getObject(l);if(!h){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(h)}paintImageXObjectRepeat(l,h,c,Le){if(!this.contentVisible)return;const Qe=this.getObject(l);if(!Qe){(0,n.warn)("Dependent image isn't ready yet");return}const mt=Qe.width,Rt=Qe.height,Ft=[];for(let qt=0,Bt=Le.length;qt<Bt;qt+=2)Ft.push({transform:[h,0,0,c,Le[qt],Le[qt+1]],x:0,y:0,w:mt,h:Rt});this.paintInlineImageXObjectGroup(Qe,Ft)}applyTransferMapsToCanvas(l){return this.current.transferMaps!=="none"&&(l.filter=this.current.transferMaps,l.drawImage(l.canvas,0,0),l.filter="none"),l.canvas}applyTransferMapsToBitmap(l){if(this.current.transferMaps==="none")return l.bitmap;const{bitmap:h,width:c,height:Le}=l,Qe=this.cachedCanvases.getCanvas("inlineImage",c,Le),mt=Qe.context;return mt.filter=this.current.transferMaps,mt.drawImage(h,0,0),mt.filter="none",Qe.canvas}paintInlineImageXObject(l){if(!this.contentVisible)return;const h=l.width,c=l.height,Le=this.ctx;if(this.save(),!n.isNodeJS){const{filter:Rt}=Le;Rt!=="none"&&Rt!==""&&(Le.filter="none")}Le.scale(1/h,-1/c);let Qe;if(l.bitmap)Qe=this.applyTransferMapsToBitmap(l);else if(typeof HTMLElement=="function"&&l instanceof HTMLElement||!l.data)Qe=l;else{const Ft=this.cachedCanvases.getCanvas("inlineImage",h,c).context;xt(Ft,l),Qe=this.applyTransferMapsToCanvas(Ft)}const mt=this._scaleImage(Qe,(0,s.getCurrentTransformInverse)(Le));Le.imageSmoothingEnabled=kt((0,s.getCurrentTransform)(Le),l.interpolate),et(Le,mt.img,0,0,mt.paintWidth,mt.paintHeight,0,-c,h,c),this.compose(),this.restore()}paintInlineImageXObjectGroup(l,h){if(!this.contentVisible)return;const c=this.ctx;let Le;if(l.bitmap)Le=l.bitmap;else{const Qe=l.width,mt=l.height,Ft=this.cachedCanvases.getCanvas("inlineImage",Qe,mt).context;xt(Ft,l),Le=this.applyTransferMapsToCanvas(Ft)}for(const Qe of h)c.save(),c.transform(...Qe.transform),c.scale(1,-1),et(c,Le,Qe.x,Qe.y,Qe.w,Qe.h,0,-1,1,1),c.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(l){}markPointProps(l,h){}beginMarkedContent(l){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(l,h){l==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(h)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(l){const h=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(l);const c=this.ctx;this.pendingClip&&(h||(this.pendingClip===Wt?c.clip("evenodd"):c.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),c.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const l=(0,s.getCurrentTransform)(this.ctx);if(l[1]===0&&l[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(l[0]),Math.abs(l[3]));else{const h=Math.abs(l[0]*l[3]-l[2]*l[1]),c=Math.hypot(l[0],l[2]),Le=Math.hypot(l[1],l[3]);this._cachedGetSinglePixelWidth=Math.max(c,Le)/h}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:l}=this.current,{a:h,b:c,c:Le,d:Qe}=this.ctx.getTransform();let mt,Rt;if(c===0&&Le===0){const Ft=Math.abs(h),qt=Math.abs(Qe);if(Ft===qt)if(l===0)mt=Rt=1/Ft;else{const Bt=Ft*l;mt=Rt=Bt<1?1/Bt:1}else if(l===0)mt=1/Ft,Rt=1/qt;else{const Bt=Ft*l,Gt=qt*l;mt=Bt<1?1/Bt:1,Rt=Gt<1?1/Gt:1}}else{const Ft=Math.abs(h*Qe-c*Le),qt=Math.hypot(h,c),Bt=Math.hypot(Le,Qe);if(l===0)mt=Bt/Ft,Rt=qt/Ft;else{const Gt=l*Ft;mt=Bt>Gt?Bt/Gt:1,Rt=qt>Gt?qt/Gt:1}}this._cachedScaleForStroking[0]=mt,this._cachedScaleForStroking[1]=Rt}return this._cachedScaleForStroking}rescaleAndStroke(l){const{ctx:h}=this,{lineWidth:c}=this.current,[Le,Qe]=this.getScaleForStroking();if(h.lineWidth=c||1,Le===1&&Qe===1){h.stroke();return}const mt=h.getLineDash();if(l&&h.save(),h.scale(Le,Qe),mt.length>0){const Rt=Math.max(Le,Qe);h.setLineDash(mt.map(Ft=>Ft/Rt)),h.lineDashOffset/=Rt}h.stroke(),l&&h.restore()}isContentVisible(){for(let l=this.markedContentStack.length-1;l>=0;l--)if(!this.markedContentStack[l].visible)return!1;return!0}};Lt=new WeakSet,qr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ln=new WeakSet,Xr=function(){if(this.pageColors){const l=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(l!=="none"){const h=this.ctx.filter;this.ctx.filter=l,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=h}}};let Nt=rn;e.CanvasGraphics=Nt;for(const Pt in n.OPS)Nt.prototype[Pt]!==void 0&&(Nt.prototype[n.OPS[Pt]]=Nt.prototype[Pt])},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=vt;var n=i(1),s=i(6);const b={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=b;function $e(ft,_t){if(!_t)return;const xt=_t[2]-_t[0],yt=_t[3]-_t[1],p=new Path2D;p.rect(_t[0],_t[1],xt,yt),ft.clip(p)}class Ct{constructor(){this.constructor===Ct&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class E extends Ct{constructor(_t){super(),this._type=_t[1],this._bbox=_t[2],this._colorStops=_t[3],this._p0=_t[4],this._p1=_t[5],this._r0=_t[6],this._r1=_t[7],this.matrix=null}_createGradient(_t){let xt;this._type==="axial"?xt=_t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(xt=_t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const yt of this._colorStops)xt.addColorStop(yt[0],yt[1]);return xt}getPattern(_t,xt,yt,p){let pe;if(p===b.STROKE||p===b.FILL){const At=xt.current.getClippedPathBoundingBox(p,(0,s.getCurrentTransform)(_t))||[0,0,0,0],d=Math.ceil(At[2]-At[0])||1,a=Math.ceil(At[3]-At[1])||1,dt=xt.cachedCanvases.getCanvas("pattern",d,a,!0),ze=dt.context;ze.clearRect(0,0,ze.canvas.width,ze.canvas.height),ze.beginPath(),ze.rect(0,0,ze.canvas.width,ze.canvas.height),ze.translate(-At[0],-At[1]),yt=n.Util.transform(yt,[1,0,0,1,At[0],At[1]]),ze.transform(...xt.baseTransform),this.matrix&&ze.transform(...this.matrix),$e(ze,this._bbox),ze.fillStyle=this._createGradient(ze),ze.fill(),pe=_t.createPattern(dt.canvas,"no-repeat");const kt=new DOMMatrix(yt);pe.setTransform(kt)}else $e(_t,this._bbox),pe=this._createGradient(_t);return pe}}function N(ft,_t,xt,yt,p,pe,At,d){const a=_t.coords,dt=_t.colors,ze=ft.data,kt=ft.width*4;let Ot;a[xt+1]>a[yt+1]&&(Ot=xt,xt=yt,yt=Ot,Ot=pe,pe=At,At=Ot),a[yt+1]>a[p+1]&&(Ot=yt,yt=p,p=Ot,Ot=At,At=d,d=Ot),a[xt+1]>a[yt+1]&&(Ot=xt,xt=yt,yt=Ot,Ot=pe,pe=At,At=Ot);const Et=(a[xt]+_t.offsetX)*_t.scaleX,jt=(a[xt+1]+_t.offsetY)*_t.scaleY,Wt=(a[yt]+_t.offsetX)*_t.scaleX,Nt=(a[yt+1]+_t.offsetY)*_t.scaleY,Lt=(a[p]+_t.offsetX)*_t.scaleX,Ut=(a[p+1]+_t.offsetY)*_t.scaleY;if(jt>=Ut)return;const ln=dt[pe],un=dt[pe+1],rn=dt[pe+2],Pt=dt[At],l=dt[At+1],h=dt[At+2],c=dt[d],Le=dt[d+1],Qe=dt[d+2],mt=Math.round(jt),Rt=Math.round(Ut);let Ft,qt,Bt,Gt,Zt,an,nn,vn;for(let Sn=mt;Sn<=Rt;Sn++){if(Sn<Nt){const Xt=Sn<jt?0:(jt-Sn)/(jt-Nt);Ft=Et-(Et-Wt)*Xt,qt=ln-(ln-Pt)*Xt,Bt=un-(un-l)*Xt,Gt=rn-(rn-h)*Xt}else{let Xt;Sn>Ut?Xt=1:Nt===Ut?Xt=0:Xt=(Nt-Sn)/(Nt-Ut),Ft=Wt-(Wt-Lt)*Xt,qt=Pt-(Pt-c)*Xt,Bt=l-(l-Le)*Xt,Gt=h-(h-Qe)*Xt}let hn;Sn<jt?hn=0:Sn>Ut?hn=1:hn=(jt-Sn)/(jt-Ut),Zt=Et-(Et-Lt)*hn,an=ln-(ln-c)*hn,nn=un-(un-Le)*hn,vn=rn-(rn-Qe)*hn;const yn=Math.round(Math.min(Ft,Zt)),on=Math.round(Math.max(Ft,Zt));let zt=kt*Sn+yn*4;for(let Xt=yn;Xt<=on;Xt++)hn=(Ft-Xt)/(Ft-Zt),hn<0?hn=0:hn>1&&(hn=1),ze[zt++]=qt-(qt-an)*hn|0,ze[zt++]=Bt-(Bt-nn)*hn|0,ze[zt++]=Gt-(Gt-vn)*hn|0,ze[zt++]=255}}function P(ft,_t,xt){const yt=_t.coords,p=_t.colors;let pe,At;switch(_t.type){case"lattice":const d=_t.verticesPerRow,a=Math.floor(yt.length/d)-1,dt=d-1;for(pe=0;pe<a;pe++){let ze=pe*d;for(let kt=0;kt<dt;kt++,ze++)N(ft,xt,yt[ze],yt[ze+1],yt[ze+d],p[ze],p[ze+1],p[ze+d]),N(ft,xt,yt[ze+d+1],yt[ze+1],yt[ze+d],p[ze+d+1],p[ze+1],p[ze+d])}break;case"triangles":for(pe=0,At=yt.length;pe<At;pe+=3)N(ft,xt,yt[pe],yt[pe+1],yt[pe+2],p[pe],p[pe+1],p[pe+2]);break;default:throw new Error("illegal figure")}}class St extends Ct{constructor(_t){super(),this._coords=_t[2],this._colors=_t[3],this._figures=_t[4],this._bounds=_t[5],this._bbox=_t[7],this._background=_t[8],this.matrix=null}_createMeshCanvas(_t,xt,yt){const d=Math.floor(this._bounds[0]),a=Math.floor(this._bounds[1]),dt=Math.ceil(this._bounds[2])-d,ze=Math.ceil(this._bounds[3])-a,kt=Math.min(Math.ceil(Math.abs(dt*_t[0]*1.1)),3e3),Ot=Math.min(Math.ceil(Math.abs(ze*_t[1]*1.1)),3e3),Et=dt/kt,jt=ze/Ot,Wt={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-a,scaleX:1/Et,scaleY:1/jt},Nt=kt+2*2,Lt=Ot+2*2,Ut=yt.getCanvas("mesh",Nt,Lt,!1),ln=Ut.context,un=ln.createImageData(kt,Ot);if(xt){const Pt=un.data;for(let l=0,h=Pt.length;l<h;l+=4)Pt[l]=xt[0],Pt[l+1]=xt[1],Pt[l+2]=xt[2],Pt[l+3]=255}for(const Pt of this._figures)P(un,Pt,Wt);return ln.putImageData(un,2,2),{canvas:Ut.canvas,offsetX:d-2*Et,offsetY:a-2*jt,scaleX:Et,scaleY:jt}}getPattern(_t,xt,yt,p){$e(_t,this._bbox);let pe;if(p===b.SHADING)pe=n.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(_t));else if(pe=n.Util.singularValueDecompose2dScale(xt.baseTransform),this.matrix){const d=n.Util.singularValueDecompose2dScale(this.matrix);pe=[pe[0]*d[0],pe[1]*d[1]]}const At=this._createMeshCanvas(pe,p===b.SHADING?null:this._background,xt.cachedCanvases);return p!==b.SHADING&&(_t.setTransform(...xt.baseTransform),this.matrix&&_t.transform(...this.matrix)),_t.translate(At.offsetX,At.offsetY),_t.scale(At.scaleX,At.scaleY),_t.createPattern(At.canvas,"no-repeat")}}class Tt extends Ct{getPattern(){return"hotpink"}}function vt(ft){switch(ft[0]){case"RadialAxial":return new E(ft);case"Mesh":return new St(ft);case"Dummy":return new Tt}throw new Error(`Unknown IR type: ${ft[0]}`)}const bt={COLORED:1,UNCOLORED:2},et=class et{constructor(_t,xt,yt,p,pe){this.operatorList=_t[2],this.matrix=_t[3]||[1,0,0,1,0,0],this.bbox=_t[4],this.xstep=_t[5],this.ystep=_t[6],this.paintType=_t[7],this.tilingType=_t[8],this.color=xt,this.ctx=yt,this.canvasGraphicsFactory=p,this.baseTransform=pe}createPatternCanvas(_t){const xt=this.operatorList,yt=this.bbox,p=this.xstep,pe=this.ystep,At=this.paintType,d=this.tilingType,a=this.color,dt=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+d);const ze=yt[0],kt=yt[1],Ot=yt[2],Et=yt[3],jt=n.Util.singularValueDecompose2dScale(this.matrix),Wt=n.Util.singularValueDecompose2dScale(this.baseTransform),Nt=[jt[0]*Wt[0],jt[1]*Wt[1]],Lt=this.getSizeAndScale(p,this.ctx.canvas.width,Nt[0]),Ut=this.getSizeAndScale(pe,this.ctx.canvas.height,Nt[1]),ln=_t.cachedCanvases.getCanvas("pattern",Lt.size,Ut.size,!0),un=ln.context,rn=dt.createCanvasGraphics(un);rn.groupLevel=_t.groupLevel,this.setFillAndStrokeStyleToContext(rn,At,a);let Pt=ze,l=kt,h=Ot,c=Et;return ze<0&&(Pt=0,h+=Math.abs(ze)),kt<0&&(l=0,c+=Math.abs(kt)),un.translate(-(Lt.scale*Pt),-(Ut.scale*l)),rn.transform(Lt.scale,0,0,Ut.scale,0,0),un.save(),this.clipBbox(rn,Pt,l,h,c),rn.baseTransform=(0,s.getCurrentTransform)(rn.ctx),rn.executeOperatorList(xt),rn.endDrawing(),{canvas:ln.canvas,scaleX:Lt.scale,scaleY:Ut.scale,offsetX:Pt,offsetY:l}}getSizeAndScale(_t,xt,yt){_t=Math.abs(_t);const p=Math.max(et.MAX_PATTERN_SIZE,xt);let pe=Math.ceil(_t*yt);return pe>=p?pe=p:yt=pe/_t,{scale:yt,size:pe}}clipBbox(_t,xt,yt,p,pe){const At=p-xt,d=pe-yt;_t.ctx.rect(xt,yt,At,d),_t.current.updateRectMinMax((0,s.getCurrentTransform)(_t.ctx),[xt,yt,p,pe]),_t.clip(),_t.endPath()}setFillAndStrokeStyleToContext(_t,xt,yt){const p=_t.ctx,pe=_t.current;switch(xt){case bt.COLORED:const At=this.ctx;p.fillStyle=At.fillStyle,p.strokeStyle=At.strokeStyle,pe.fillColor=At.fillStyle,pe.strokeColor=At.strokeStyle;break;case bt.UNCOLORED:const d=n.Util.makeHexColor(yt[0],yt[1],yt[2]);p.fillStyle=d,p.strokeStyle=d,pe.fillColor=d,pe.strokeColor=d;break;default:throw new n.FormatError(`Unsupported paint type: ${xt}`)}}getPattern(_t,xt,yt,p){let pe=yt;p!==b.SHADING&&(pe=n.Util.transform(pe,xt.baseTransform),this.matrix&&(pe=n.Util.transform(pe,this.matrix)));const At=this.createPatternCanvas(xt);let d=new DOMMatrix(pe);d=d.translate(At.offsetX,At.offsetY),d=d.scale(1/At.scaleX,1/At.scaleY);const a=_t.createPattern(At.canvas,"repeat");return a.setTransform(d),a}};qn(et,"MAX_PATTERN_SIZE",3e3);let gt=et;e.TilingPattern=gt},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=b,e.convertToRGBA=s,e.grayToRGBA=Ct;var n=i(1);function s(E){switch(E.kind){case n.ImageKind.GRAYSCALE_1BPP:return b(E);case n.ImageKind.RGB_24BPP:return $e(E)}return null}function b({src:E,srcPos:N=0,dest:P,width:St,height:Tt,nonBlackColor:vt=4294967295,inverseDecode:bt=!1}){const gt=n.FeatureTest.isLittleEndian?4278190080:255,[et,ft]=bt?[vt,gt]:[gt,vt],_t=St>>3,xt=St&7,yt=E.length;P=new Uint32Array(P.buffer);let p=0;for(let pe=0;pe<Tt;pe++){for(const d=N+_t;N<d;N++){const a=N<yt?E[N]:255;P[p++]=a&128?ft:et,P[p++]=a&64?ft:et,P[p++]=a&32?ft:et,P[p++]=a&16?ft:et,P[p++]=a&8?ft:et,P[p++]=a&4?ft:et,P[p++]=a&2?ft:et,P[p++]=a&1?ft:et}if(xt===0)continue;const At=N<yt?E[N++]:255;for(let d=0;d<xt;d++)P[p++]=At&1<<7-d?ft:et}return{srcPos:N,destPos:p}}function $e({src:E,srcPos:N=0,dest:P,destPos:St=0,width:Tt,height:vt}){let bt=0;const gt=E.length>>2,et=new Uint32Array(E.buffer,N,gt);if(n.FeatureTest.isLittleEndian){for(;bt<gt-2;bt+=3,St+=4){const ft=et[bt],_t=et[bt+1],xt=et[bt+2];P[St]=ft|4278190080,P[St+1]=ft>>>24|_t<<8|4278190080,P[St+2]=_t>>>16|xt<<16|4278190080,P[St+3]=xt>>>8|4278190080}for(let ft=bt*4,_t=E.length;ft<_t;ft+=3)P[St++]=E[ft]|E[ft+1]<<8|E[ft+2]<<16|4278190080}else{for(;bt<gt-2;bt+=3,St+=4){const ft=et[bt],_t=et[bt+1],xt=et[bt+2];P[St]=ft|255,P[St+1]=ft<<24|_t>>>8|255,P[St+2]=_t<<16|xt>>>16|255,P[St+3]=xt<<8|255}for(let ft=bt*4,_t=E.length;ft<_t;ft+=3)P[St++]=E[ft]<<24|E[ft+1]<<16|E[ft+2]<<8|255}return{srcPos:N,destPos:St}}function Ct(E,N){if(n.FeatureTest.isLittleEndian)for(let P=0,St=E.length;P<St;P++)N[P]=E[P]*65793|4278190080;else for(let P=0,St=E.length;P<St;P++)N[P]=E[P]*16843008|255}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const i=Object.create(null);e.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(t,e,i)=>{var E,xi,P,Si,Tt,xr;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var n=i(1);const s={UNKNOWN:0,DATA:1,ERROR:2},b={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function $e(bt){switch(bt instanceof Error||typeof bt=="object"&&bt!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),bt.name){case"AbortException":return new n.AbortException(bt.message);case"MissingPDFException":return new n.MissingPDFException(bt.message);case"PasswordException":return new n.PasswordException(bt.message,bt.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(bt.message,bt.status);case"UnknownErrorException":return new n.UnknownErrorException(bt.message,bt.details);default:return new n.UnknownErrorException(bt.message,bt.toString())}}class Ct{constructor(gt,et,ft){It(this,E);It(this,P);It(this,Tt);this.sourceName=gt,this.targetName=et,this.comObj=ft,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=_t=>{const xt=_t.data;if(xt.targetName!==this.sourceName)return;if(xt.stream){Ht(this,P,Si).call(this,xt);return}if(xt.callback){const p=xt.callbackId,pe=this.callbackCapabilities[p];if(!pe)throw new Error(`Cannot resolve callback ${p}`);if(delete this.callbackCapabilities[p],xt.callback===s.DATA)pe.resolve(xt.data);else if(xt.callback===s.ERROR)pe.reject($e(xt.reason));else throw new Error("Unexpected callback case");return}const yt=this.actionHandler[xt.action];if(!yt)throw new Error(`Unknown action from worker: ${xt.action}`);if(xt.callbackId){const p=this.sourceName,pe=xt.sourceName;new Promise(function(At){At(yt(xt.data))}).then(function(At){ft.postMessage({sourceName:p,targetName:pe,callback:s.DATA,callbackId:xt.callbackId,data:At})},function(At){ft.postMessage({sourceName:p,targetName:pe,callback:s.ERROR,callbackId:xt.callbackId,reason:$e(At)})});return}if(xt.streamId){Ht(this,E,xi).call(this,xt);return}yt(xt.data)},ft.addEventListener("message",this._onComObjOnMessage)}on(gt,et){const ft=this.actionHandler;if(ft[gt])throw new Error(`There is already an actionName called "${gt}"`);ft[gt]=et}send(gt,et,ft){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:gt,data:et},ft)}sendWithPromise(gt,et,ft){const _t=this.callbackId++,xt=new n.PromiseCapability;this.callbackCapabilities[_t]=xt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:gt,callbackId:_t,data:et},ft)}catch(yt){xt.reject(yt)}return xt.promise}sendWithStream(gt,et,ft,_t){const xt=this.streamId++,yt=this.sourceName,p=this.targetName,pe=this.comObj;return new ReadableStream({start:At=>{const d=new n.PromiseCapability;return this.streamControllers[xt]={controller:At,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},pe.postMessage({sourceName:yt,targetName:p,action:gt,streamId:xt,data:et,desiredSize:At.desiredSize},_t),d.promise},pull:At=>{const d=new n.PromiseCapability;return this.streamControllers[xt].pullCall=d,pe.postMessage({sourceName:yt,targetName:p,stream:b.PULL,streamId:xt,desiredSize:At.desiredSize}),d.promise},cancel:At=>{(0,n.assert)(At instanceof Error,"cancel must have a valid reason");const d=new n.PromiseCapability;return this.streamControllers[xt].cancelCall=d,this.streamControllers[xt].isClosed=!0,pe.postMessage({sourceName:yt,targetName:p,stream:b.CANCEL,streamId:xt,reason:$e(At)}),d.promise}},ft)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}E=new WeakSet,xi=function(gt){const et=gt.streamId,ft=this.sourceName,_t=gt.sourceName,xt=this.comObj,yt=this,p=this.actionHandler[gt.action],pe={enqueue(At,d=1,a){if(this.isCancelled)return;const dt=this.desiredSize;this.desiredSize-=d,dt>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),xt.postMessage({sourceName:ft,targetName:_t,stream:b.ENQUEUE,streamId:et,chunk:At},a)},close(){this.isCancelled||(this.isCancelled=!0,xt.postMessage({sourceName:ft,targetName:_t,stream:b.CLOSE,streamId:et}),delete yt.streamSinks[et])},error(At){(0,n.assert)(At instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,xt.postMessage({sourceName:ft,targetName:_t,stream:b.ERROR,streamId:et,reason:$e(At)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:gt.desiredSize,ready:null};pe.sinkCapability.resolve(),pe.ready=pe.sinkCapability.promise,this.streamSinks[et]=pe,new Promise(function(At){At(p(gt.data,pe))}).then(function(){xt.postMessage({sourceName:ft,targetName:_t,stream:b.START_COMPLETE,streamId:et,success:!0})},function(At){xt.postMessage({sourceName:ft,targetName:_t,stream:b.START_COMPLETE,streamId:et,reason:$e(At)})})},P=new WeakSet,Si=function(gt){const et=gt.streamId,ft=this.sourceName,_t=gt.sourceName,xt=this.comObj,yt=this.streamControllers[et],p=this.streamSinks[et];switch(gt.stream){case b.START_COMPLETE:gt.success?yt.startCall.resolve():yt.startCall.reject($e(gt.reason));break;case b.PULL_COMPLETE:gt.success?yt.pullCall.resolve():yt.pullCall.reject($e(gt.reason));break;case b.PULL:if(!p){xt.postMessage({sourceName:ft,targetName:_t,stream:b.PULL_COMPLETE,streamId:et,success:!0});break}p.desiredSize<=0&&gt.desiredSize>0&&p.sinkCapability.resolve(),p.desiredSize=gt.desiredSize,new Promise(function(pe){var At;pe((At=p.onPull)==null?void 0:At.call(p))}).then(function(){xt.postMessage({sourceName:ft,targetName:_t,stream:b.PULL_COMPLETE,streamId:et,success:!0})},function(pe){xt.postMessage({sourceName:ft,targetName:_t,stream:b.PULL_COMPLETE,streamId:et,reason:$e(pe)})});break;case b.ENQUEUE:if((0,n.assert)(yt,"enqueue should have stream controller"),yt.isClosed)break;yt.controller.enqueue(gt.chunk);break;case b.CLOSE:if((0,n.assert)(yt,"close should have stream controller"),yt.isClosed)break;yt.isClosed=!0,yt.controller.close(),Ht(this,Tt,xr).call(this,yt,et);break;case b.ERROR:(0,n.assert)(yt,"error should have stream controller"),yt.controller.error($e(gt.reason)),Ht(this,Tt,xr).call(this,yt,et);break;case b.CANCEL_COMPLETE:gt.success?yt.cancelCall.resolve():yt.cancelCall.reject($e(gt.reason)),Ht(this,Tt,xr).call(this,yt,et);break;case b.CANCEL:if(!p)break;new Promise(function(pe){var At;pe((At=p.onCancel)==null?void 0:At.call(p,$e(gt.reason)))}).then(function(){xt.postMessage({sourceName:ft,targetName:_t,stream:b.CANCEL_COMPLETE,streamId:et,success:!0})},function(pe){xt.postMessage({sourceName:ft,targetName:_t,stream:b.CANCEL_COMPLETE,streamId:et,reason:$e(pe)})}),p.sinkCapability.reject($e(gt.reason)),p.isCancelled=!0,delete this.streamSinks[et];break;default:throw new Error("Unexpected stream case")}},Tt=new WeakSet,xr=async function(gt,et){var ft,_t,xt;await Promise.allSettled([(ft=gt.startCall)==null?void 0:ft.promise,(_t=gt.pullCall)==null?void 0:_t.promise,(xt=gt.cancelCall)==null?void 0:xt.promise]),delete this.streamControllers[et]},e.MessageHandler=Ct},(t,e,i)=>{var b,$e;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var n=i(1);class s{constructor({parsedData:E,rawData:N}){It(this,b,void 0);It(this,$e,void 0);Qt(this,b,E),Qt(this,$e,N)}getRaw(){return o(this,$e)}get(E){return o(this,b).get(E)??null}getAll(){return(0,n.objectFromMap)(o(this,b))}has(E){return o(this,b).has(E)}}b=new WeakMap,$e=new WeakMap,e.Metadata=s},(t,e,i)=>{var E,N,P,St,Tt,vt,Yr;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var n=i(1),s=i(8);const b=Symbol("INTERNAL");class $e{constructor(et,ft){It(this,E,!0);this.name=et,this.intent=ft}get visible(){return o(this,E)}_setVisible(et,ft){et!==b&&(0,n.unreachable)("Internal method `_setVisible` called."),Qt(this,E,ft)}}E=new WeakMap;class Ct{constructor(et){It(this,vt);It(this,N,null);It(this,P,new Map);It(this,St,null);It(this,Tt,null);if(this.name=null,this.creator=null,et!==null){this.name=et.name,this.creator=et.creator,Qt(this,Tt,et.order);for(const ft of et.groups)o(this,P).set(ft.id,new $e(ft.name,ft.intent));if(et.baseState==="OFF")for(const ft of o(this,P).values())ft._setVisible(b,!1);for(const ft of et.on)o(this,P).get(ft)._setVisible(b,!0);for(const ft of et.off)o(this,P).get(ft)._setVisible(b,!1);Qt(this,St,this.getHash())}}isVisible(et){if(o(this,P).size===0)return!0;if(!et)return(0,n.warn)("Optional content group not defined."),!0;if(et.type==="OCG")return o(this,P).has(et.id)?o(this,P).get(et.id).visible:((0,n.warn)(`Optional content group not found: ${et.id}`),!0);if(et.type==="OCMD"){if(et.expression)return Ht(this,vt,Yr).call(this,et.expression);if(!et.policy||et.policy==="AnyOn"){for(const ft of et.ids){if(!o(this,P).has(ft))return(0,n.warn)(`Optional content group not found: ${ft}`),!0;if(o(this,P).get(ft).visible)return!0}return!1}else if(et.policy==="AllOn"){for(const ft of et.ids){if(!o(this,P).has(ft))return(0,n.warn)(`Optional content group not found: ${ft}`),!0;if(!o(this,P).get(ft).visible)return!1}return!0}else if(et.policy==="AnyOff"){for(const ft of et.ids){if(!o(this,P).has(ft))return(0,n.warn)(`Optional content group not found: ${ft}`),!0;if(!o(this,P).get(ft).visible)return!0}return!1}else if(et.policy==="AllOff"){for(const ft of et.ids){if(!o(this,P).has(ft))return(0,n.warn)(`Optional content group not found: ${ft}`),!0;if(o(this,P).get(ft).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${et.policy}.`),!0}return(0,n.warn)(`Unknown group type ${et.type}.`),!0}setVisibility(et,ft=!0){if(!o(this,P).has(et)){(0,n.warn)(`Optional content group not found: ${et}`);return}o(this,P).get(et)._setVisible(b,!!ft),Qt(this,N,null)}get hasInitialVisibility(){return o(this,St)===null||this.getHash()===o(this,St)}getOrder(){return o(this,P).size?o(this,Tt)?o(this,Tt).slice():[...o(this,P).keys()]:null}getGroups(){return o(this,P).size>0?(0,n.objectFromMap)(o(this,P)):null}getGroup(et){return o(this,P).get(et)||null}getHash(){if(o(this,N)!==null)return o(this,N);const et=new s.MurmurHash3_64;for(const[ft,_t]of o(this,P))et.update(`${ft}:${_t.visible}`);return Qt(this,N,et.hexdigest())}}N=new WeakMap,P=new WeakMap,St=new WeakMap,Tt=new WeakMap,vt=new WeakSet,Yr=function(et){const ft=et.length;if(ft<2)return!0;const _t=et[0];for(let xt=1;xt<ft;xt++){const yt=et[xt];let p;if(Array.isArray(yt))p=Ht(this,vt,Yr).call(this,yt);else if(o(this,P).has(yt))p=o(this,P).get(yt).visible;else return(0,n.warn)(`Optional content group not found: ${yt}`),!0;switch(_t){case"And":if(!p)return!1;break;case"Or":if(p)return!0;break;case"Not":return!p;default:return!0}}return _t==="And"},e.OptionalContentConfig=Ct},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var n=i(1),s=i(6);class b{constructor({length:N,initialData:P,progressiveDone:St=!1,contentDispositionFilename:Tt=null,disableRange:vt=!1,disableStream:bt=!1},gt){if((0,n.assert)(gt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=St,this._contentDispositionFilename=Tt,(P==null?void 0:P.length)>0){const et=P instanceof Uint8Array&&P.byteLength===P.buffer.byteLength?P.buffer:new Uint8Array(P).buffer;this._queuedChunks.push(et)}this._pdfDataRangeTransport=gt,this._isStreamingSupported=!bt,this._isRangeSupported=!vt,this._contentLength=N,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((et,ft)=>{this._onReceiveData({begin:et,chunk:ft})}),this._pdfDataRangeTransport.addProgressListener((et,ft)=>{this._onProgress({loaded:et,total:ft})}),this._pdfDataRangeTransport.addProgressiveReadListener(et=>{this._onReceiveData({chunk:et})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:N,chunk:P}){const St=P instanceof Uint8Array&&P.byteLength===P.buffer.byteLength?P.buffer:new Uint8Array(P).buffer;if(N===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(St):this._queuedChunks.push(St);else{const Tt=this._rangeReaders.some(function(vt){return vt._begin!==N?!1:(vt._enqueue(St),!0)});(0,n.assert)(Tt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var N;return((N=this._fullRequestReader)==null?void 0:N._loaded)??0}_onProgress(N){var P,St,Tt,vt;N.total===void 0?(St=(P=this._rangeReaders[0])==null?void 0:P.onProgress)==null||St.call(P,{loaded:N.loaded}):(vt=(Tt=this._fullRequestReader)==null?void 0:Tt.onProgress)==null||vt.call(Tt,{loaded:N.loaded,total:N.total})}_onProgressiveDone(){var N;(N=this._fullRequestReader)==null||N.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(N){const P=this._rangeReaders.indexOf(N);P>=0&&this._rangeReaders.splice(P,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const N=this._queuedChunks;return this._queuedChunks=null,new $e(this,N,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(N,P){if(P<=this._progressiveDataLength)return null;const St=new Ct(this,N,P);return this._pdfDataRangeTransport.requestDataRange(N,P),this._rangeReaders.push(St),St}cancelAllRequests(N){var P;(P=this._fullRequestReader)==null||P.cancel(N);for(const St of this._rangeReaders.slice(0))St.cancel(N);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=b;class $e{constructor(N,P,St=!1,Tt=null){this._stream=N,this._done=St||!1,this._filename=(0,s.isPdfFile)(Tt)?Tt:null,this._queuedChunks=P||[],this._loaded=0;for(const vt of this._queuedChunks)this._loaded+=vt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),N._fullRequestReader=this,this.onProgress=null}_enqueue(N){this._done||(this._requests.length>0?this._requests.shift().resolve({value:N,done:!1}):this._queuedChunks.push(N),this._loaded+=N.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const N=new n.PromiseCapability;return this._requests.push(N),N.promise}cancel(N){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Ct{constructor(N,P,St){this._stream=N,this._begin=P,this._end=St,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(N){if(!this._done){if(this._requests.length===0)this._queuedChunk=N;else{this._requests.shift().resolve({value:N,done:!1});for(const St of this._requests)St.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const P=this._queuedChunk;return this._queuedChunk=null,{value:P,done:!1}}if(this._done)return{value:void 0,done:!0};const N=new n.PromiseCapability;return this._requests.push(N),N.promise}cancel(N){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var n=i(1),s=i(20);function b(St,Tt,vt){return{method:"GET",headers:St,signal:vt.signal,mode:"cors",credentials:Tt?"include":"same-origin",redirect:"follow"}}function $e(St){const Tt=new Headers;for(const vt in St){const bt=St[vt];bt!==void 0&&Tt.append(vt,bt)}return Tt}function Ct(St){return St instanceof Uint8Array?St.buffer:St instanceof ArrayBuffer?St:((0,n.warn)(`getArrayBuffer - unexpected data format: ${St}`),new Uint8Array(St).buffer)}class E{constructor(Tt){this.source=Tt,this.isHttp=/^https?:/i.test(Tt.url),this.httpHeaders=this.isHttp&&Tt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Tt;return((Tt=this._fullRequestReader)==null?void 0:Tt._loaded)??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new N(this),this._fullRequestReader}getRangeReader(Tt,vt){if(vt<=this._progressiveDataLength)return null;const bt=new P(this,Tt,vt);return this._rangeRequestReaders.push(bt),bt}cancelAllRequests(Tt){var vt;(vt=this._fullRequestReader)==null||vt.cancel(Tt);for(const bt of this._rangeRequestReaders.slice(0))bt.cancel(Tt)}}e.PDFFetchStream=E;class N{constructor(Tt){this._stream=Tt,this._reader=null,this._loaded=0,this._filename=null;const vt=Tt.source;this._withCredentials=vt.withCredentials||!1,this._contentLength=vt.length,this._headersCapability=new n.PromiseCapability,this._disableRange=vt.disableRange||!1,this._rangeChunkSize=vt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!vt.disableStream,this._isRangeSupported=!vt.disableRange,this._headers=$e(this._stream.httpHeaders);const bt=vt.url;fetch(bt,b(this._headers,this._withCredentials,this._abortController)).then(gt=>{if(!(0,s.validateResponseStatus)(gt.status))throw(0,s.createResponseStatusError)(gt.status,bt);this._reader=gt.body.getReader(),this._headersCapability.resolve();const et=xt=>gt.headers.get(xt),{allowRangeRequests:ft,suggestedLength:_t}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:et,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ft,this._contentLength=_t||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(et),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;await this._headersCapability.promise;const{value:Tt,done:vt}=await this._reader.read();return vt?{value:Tt,done:vt}:(this._loaded+=Tt.byteLength,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Ct(Tt),done:!1})}cancel(Tt){var vt;(vt=this._reader)==null||vt.cancel(Tt),this._abortController.abort()}}class P{constructor(Tt,vt,bt){this._stream=Tt,this._reader=null,this._loaded=0;const gt=Tt.source;this._withCredentials=gt.withCredentials||!1,this._readCapability=new n.PromiseCapability,this._isStreamingSupported=!gt.disableStream,this._abortController=new AbortController,this._headers=$e(this._stream.httpHeaders),this._headers.append("Range",`bytes=${vt}-${bt-1}`);const et=gt.url;fetch(et,b(this._headers,this._withCredentials,this._abortController)).then(ft=>{if(!(0,s.validateResponseStatus)(ft.status))throw(0,s.createResponseStatusError)(ft.status,et);this._readCapability.resolve(),this._reader=ft.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;await this._readCapability.promise;const{value:Tt,done:vt}=await this._reader.read();return vt?{value:Tt,done:vt}:(this._loaded+=Tt.byteLength,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded}),{value:Ct(Tt),done:!1})}cancel(Tt){var vt;(vt=this._reader)==null||vt.cancel(Tt),this._abortController.abort()}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=E,e.extractFilenameFromHeader=Ct,e.validateRangeRequestCapabilities=$e,e.validateResponseStatus=N;var n=i(1),s=i(21),b=i(6);function $e({getResponseHeader:P,isHttp:St,rangeChunkSize:Tt,disableRange:vt}){const bt={allowRangeRequests:!1,suggestedLength:void 0},gt=parseInt(P("Content-Length"),10);return!Number.isInteger(gt)||(bt.suggestedLength=gt,gt<=2*Tt)||vt||!St||P("Accept-Ranges")!=="bytes"||(P("Content-Encoding")||"identity")!=="identity"||(bt.allowRangeRequests=!0),bt}function Ct(P){const St=P("Content-Disposition");if(St){let Tt=(0,s.getFilenameFromContentDispositionHeader)(St);if(Tt.includes("%"))try{Tt=decodeURIComponent(Tt)}catch{}if((0,b.isPdfFile)(Tt))return Tt}return null}function E(P,St){return P===404||P===0&&St.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+St+'".'):new n.UnexpectedResponseException(`Unexpected server response (${P}) while retrieving PDF "${St}".`,P)}function N(P){return P===200||P===206}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=s;var n=i(1);function s(b){let $e=!0,Ct=E("filename\\*","i").exec(b);if(Ct){Ct=Ct[1];let gt=Tt(Ct);return gt=unescape(gt),gt=vt(gt),gt=bt(gt),P(gt)}if(Ct=St(b),Ct){const gt=bt(Ct);return P(gt)}if(Ct=E("filename","i").exec(b),Ct){Ct=Ct[1];let gt=Tt(Ct);return gt=bt(gt),P(gt)}function E(gt,et){return new RegExp("(?:^|;)\\s*"+gt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',et)}function N(gt,et){if(gt){if(!/^[\x00-\xFF]+$/.test(et))return et;try{const ft=new TextDecoder(gt,{fatal:!0}),_t=(0,n.stringToBytes)(et);et=ft.decode(_t),$e=!1}catch{}}return et}function P(gt){return $e&&/[\x80-\xff]/.test(gt)&&(gt=N("utf-8",gt),$e&&(gt=N("iso-8859-1",gt))),gt}function St(gt){const et=[];let ft;const _t=E("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ft=_t.exec(gt))!==null;){let[,yt,p,pe]=ft;if(yt=parseInt(yt,10),yt in et){if(yt===0)break;continue}et[yt]=[p,pe]}const xt=[];for(let yt=0;yt<et.length&&yt in et;++yt){let[p,pe]=et[yt];pe=Tt(pe),p&&(pe=unescape(pe),yt===0&&(pe=vt(pe))),xt.push(pe)}return xt.join("")}function Tt(gt){if(gt.startsWith('"')){const et=gt.slice(1).split('\\"');for(let ft=0;ft<et.length;++ft){const _t=et[ft].indexOf('"');_t!==-1&&(et[ft]=et[ft].slice(0,_t),et.length=ft+1),et[ft]=et[ft].replaceAll(/\\(.)/g,"$1")}gt=et.join('"')}return gt}function vt(gt){const et=gt.indexOf("'");if(et===-1)return gt;const ft=gt.slice(0,et),xt=gt.slice(et+1).replace(/^[^']*'/,"");return N(ft,xt)}function bt(gt){return!gt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(gt)?gt:gt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(et,ft,_t,xt){if(_t==="q"||_t==="Q")return xt=xt.replaceAll("_"," "),xt=xt.replaceAll(/=([0-9a-fA-F]{2})/g,function(yt,p){return String.fromCharCode(parseInt(p,16))}),N(ft,xt);try{xt=atob(xt)}catch{}return N(ft,xt)})}return""}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var n=i(1),s=i(20);const b=200,$e=206;function Ct(Tt){const vt=Tt.response;return typeof vt!="string"?vt:(0,n.stringToBytes)(vt).buffer}class E{constructor(vt,bt={}){this.url=vt,this.isHttp=/^https?:/i.test(vt),this.httpHeaders=this.isHttp&&bt.httpHeaders||Object.create(null),this.withCredentials=bt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(vt,bt,gt){const et={begin:vt,end:bt};for(const ft in gt)et[ft]=gt[ft];return this.request(et)}requestFull(vt){return this.request(vt)}request(vt){const bt=new XMLHttpRequest,gt=this.currXhrId++,et=this.pendingRequests[gt]={xhr:bt};bt.open("GET",this.url),bt.withCredentials=this.withCredentials;for(const ft in this.httpHeaders){const _t=this.httpHeaders[ft];_t!==void 0&&bt.setRequestHeader(ft,_t)}return this.isHttp&&"begin"in vt&&"end"in vt?(bt.setRequestHeader("Range",`bytes=${vt.begin}-${vt.end-1}`),et.expectedStatus=$e):et.expectedStatus=b,bt.responseType="arraybuffer",vt.onError&&(bt.onerror=function(ft){vt.onError(bt.status)}),bt.onreadystatechange=this.onStateChange.bind(this,gt),bt.onprogress=this.onProgress.bind(this,gt),et.onHeadersReceived=vt.onHeadersReceived,et.onDone=vt.onDone,et.onError=vt.onError,et.onProgress=vt.onProgress,bt.send(null),gt}onProgress(vt,bt){var et;const gt=this.pendingRequests[vt];gt&&((et=gt.onProgress)==null||et.call(gt,bt))}onStateChange(vt,bt){var yt,p,pe;const gt=this.pendingRequests[vt];if(!gt)return;const et=gt.xhr;if(et.readyState>=2&&gt.onHeadersReceived&&(gt.onHeadersReceived(),delete gt.onHeadersReceived),et.readyState!==4||!(vt in this.pendingRequests))return;if(delete this.pendingRequests[vt],et.status===0&&this.isHttp){(yt=gt.onError)==null||yt.call(gt,et.status);return}const ft=et.status||b;if(!(ft===b&&gt.expectedStatus===$e)&&ft!==gt.expectedStatus){(p=gt.onError)==null||p.call(gt,et.status);return}const xt=Ct(et);if(ft===$e){const At=et.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(At);gt.onDone({begin:parseInt(d[1],10),chunk:xt})}else xt?gt.onDone({begin:0,chunk:xt}):(pe=gt.onError)==null||pe.call(gt,et.status)}getRequestXhr(vt){return this.pendingRequests[vt].xhr}isPendingRequest(vt){return vt in this.pendingRequests}abortRequest(vt){const bt=this.pendingRequests[vt].xhr;delete this.pendingRequests[vt],bt.abort()}}class N{constructor(vt){this._source=vt,this._manager=new E(vt.url,{httpHeaders:vt.httpHeaders,withCredentials:vt.withCredentials}),this._rangeChunkSize=vt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(vt){const bt=this._rangeRequestReaders.indexOf(vt);bt>=0&&this._rangeRequestReaders.splice(bt,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new P(this._manager,this._source),this._fullRequestReader}getRangeReader(vt,bt){const gt=new St(this._manager,vt,bt);return gt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(gt),gt}cancelAllRequests(vt){var bt;(bt=this._fullRequestReader)==null||bt.cancel(vt);for(const gt of this._rangeRequestReaders.slice(0))gt.cancel(vt)}}e.PDFNetworkStream=N;class P{constructor(vt,bt){this._manager=vt;const gt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=bt.url,this._fullRequestId=vt.requestFull(gt),this._headersReceivedCapability=new n.PromiseCapability,this._disableRange=bt.disableRange||!1,this._contentLength=bt.length,this._rangeChunkSize=bt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const vt=this._fullRequestId,bt=this._manager.getRequestXhr(vt),gt=_t=>bt.getResponseHeader(_t),{allowRangeRequests:et,suggestedLength:ft}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:gt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});et&&(this._isRangeSupported=!0),this._contentLength=ft||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(gt),this._isRangeSupported&&this._manager.abortRequest(vt),this._headersReceivedCapability.resolve()}_onDone(vt){if(vt&&(this._requests.length>0?this._requests.shift().resolve({value:vt.chunk,done:!1}):this._cachedChunks.push(vt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(vt){this._storedError=(0,s.createResponseStatusError)(vt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const bt of this._requests)bt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(vt){var bt;(bt=this.onProgress)==null||bt.call(this,{loaded:vt.loaded,total:vt.lengthComputable?vt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const vt=new n.PromiseCapability;return this._requests.push(vt),vt.promise}cancel(vt){this._done=!0,this._headersReceivedCapability.reject(vt);for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class St{constructor(vt,bt,gt){this._manager=vt;const et={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=vt.url,this._requestId=vt.requestRange(bt,gt,et),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var vt;(vt=this.onClosed)==null||vt.call(this,this)}_onDone(vt){const bt=vt.chunk;this._requests.length>0?this._requests.shift().resolve({value:bt,done:!1}):this._queuedChunk=bt,this._done=!0;for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(vt){this._storedError=(0,s.createResponseStatusError)(vt,this._url);for(const bt of this._requests)bt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(vt){var bt;this.isStreamingSupported||(bt=this.onProgress)==null||bt.call(this,{loaded:vt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const bt=this._queuedChunk;return this._queuedChunk=null,{value:bt,done:!1}}if(this._done)return{value:void 0,done:!0};const vt=new n.PromiseCapability;return this._requests.push(vt),vt.promise}cancel(vt){this._done=!0;for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var n=i(1),s=i(20);const b=/^file:\/\/\/[a-zA-Z]:\//;function $e(gt){const et=require$$5,ft=et.parse(gt);return ft.protocol==="file:"||ft.host?ft:/^[a-z]:[/\\]/i.test(gt)?et.parse(`file:///${gt}`):(ft.host||(ft.protocol="file:"),ft)}class Ct{constructor(et){this.source=et,this.url=$e(et.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&et.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var et;return((et=this._fullRequestReader)==null?void 0:et._loaded)??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new vt(this):new St(this),this._fullRequestReader}getRangeReader(et,ft){if(ft<=this._progressiveDataLength)return null;const _t=this.isFsUrl?new bt(this,et,ft):new Tt(this,et,ft);return this._rangeRequestReaders.push(_t),_t}cancelAllRequests(et){var ft;(ft=this._fullRequestReader)==null||ft.cancel(et);for(const _t of this._rangeRequestReaders.slice(0))_t.cancel(et)}}e.PDFNodeStream=Ct;class E{constructor(et){this._url=et.url,this._done=!1,this._storedError=null,this.onProgress=null;const ft=et.source;this._contentLength=ft.length,this._loaded=0,this._filename=null,this._disableRange=ft.disableRange||!1,this._rangeChunkSize=ft.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ft.disableStream,this._isRangeSupported=!ft.disableRange,this._readableStream=null,this._readCapability=new n.PromiseCapability,this._headersCapability=new n.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const et=this._readableStream.read();return et===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=et.length,(_t=this.onProgress)==null||_t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(et).buffer,done:!1})}cancel(et){if(!this._readableStream){this._error(et);return}this._readableStream.destroy(et)}_error(et){this._storedError=et,this._readCapability.resolve()}_setReadableStream(et){this._readableStream=et,et.on("readable",()=>{this._readCapability.resolve()}),et.on("end",()=>{et.destroy(),this._done=!0,this._readCapability.resolve()}),et.on("error",ft=>{this._error(ft)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class N{constructor(et){this._url=et.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new n.PromiseCapability;const ft=et.source;this._isStreamingSupported=!ft.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const et=this._readableStream.read();return et===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=et.length,(_t=this.onProgress)==null||_t.call(this,{loaded:this._loaded}),{value:new Uint8Array(et).buffer,done:!1})}cancel(et){if(!this._readableStream){this._error(et);return}this._readableStream.destroy(et)}_error(et){this._storedError=et,this._readCapability.resolve()}_setReadableStream(et){this._readableStream=et,et.on("readable",()=>{this._readCapability.resolve()}),et.on("end",()=>{et.destroy(),this._done=!0,this._readCapability.resolve()}),et.on("error",ft=>{this._error(ft)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function P(gt,et){return{protocol:gt.protocol,auth:gt.auth,host:gt.hostname,port:gt.port,path:gt.path,method:"GET",headers:et}}class St extends E{constructor(et){super(et);const ft=_t=>{if(_t.statusCode===404){const pe=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=pe,this._headersCapability.reject(pe);return}this._headersCapability.resolve(),this._setReadableStream(_t);const xt=pe=>this._readableStream.headers[pe.toLowerCase()],{allowRangeRequests:yt,suggestedLength:p}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:xt,isHttp:et.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=yt,this._contentLength=p||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(xt)};if(this._request=null,this._url.protocol==="http:"){const _t=require$$5;this._request=_t.request(P(this._url,et.httpHeaders),ft)}else{const _t=require$$5;this._request=_t.request(P(this._url,et.httpHeaders),ft)}this._request.on("error",_t=>{this._storedError=_t,this._headersCapability.reject(_t)}),this._request.end()}}class Tt extends N{constructor(et,ft,_t){super(et),this._httpHeaders={};for(const yt in et.httpHeaders){const p=et.httpHeaders[yt];p!==void 0&&(this._httpHeaders[yt]=p)}this._httpHeaders.Range=`bytes=${ft}-${_t-1}`;const xt=yt=>{if(yt.statusCode===404){const p=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=p;return}this._setReadableStream(yt)};if(this._request=null,this._url.protocol==="http:"){const yt=require$$5;this._request=yt.request(P(this._url,this._httpHeaders),xt)}else{const yt=require$$5;this._request=yt.request(P(this._url,this._httpHeaders),xt)}this._request.on("error",yt=>{this._storedError=yt}),this._request.end()}}class vt extends E{constructor(et){super(et);let ft=decodeURIComponent(this._url.path);b.test(this._url.href)&&(ft=ft.replace(/^\//,""));const _t=require$$5;_t.lstat(ft,(xt,yt)=>{if(xt){xt.code==="ENOENT"&&(xt=new n.MissingPDFException(`Missing PDF "${ft}".`)),this._storedError=xt,this._headersCapability.reject(xt);return}this._contentLength=yt.size,this._setReadableStream(_t.createReadStream(ft)),this._headersCapability.resolve()})}}class bt extends N{constructor(et,ft,_t){super(et);let xt=decodeURIComponent(this._url.path);b.test(this._url.href)&&(xt=xt.replace(/^\//,""));const yt=require$$5;this._setReadableStream(yt.createReadStream(xt,{start:ft,end:_t-1}))}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var n=i(6),s=i(1);const b={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},$e="http://www.w3.org/XML/1998/namespace",Ct="http://www.w3.org/1999/xlink",E=["butt","round","square"],N=["miter","round","bevel"],P=function(yt,p="",pe=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!pe)return URL.createObjectURL(new Blob([yt],{type:p}));const At="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let d=`data:${p};base64,`;for(let a=0,dt=yt.length;a<dt;a+=3){const ze=yt[a]&255,kt=yt[a+1]&255,Ot=yt[a+2]&255,Et=ze>>2,jt=(ze&3)<<4|kt>>4,Wt=a+1<dt?(kt&15)<<2|Ot>>6:64,Nt=a+2<dt?Ot&63:64;d+=At[Et]+At[jt]+At[Wt]+At[Nt]}return d},St=function(){const yt=new Uint8Array([137,80,78,71,13,10,26,10]),p=12,pe=new Int32Array(256);for(let Ot=0;Ot<256;Ot++){let Et=Ot;for(let jt=0;jt<8;jt++)Et=Et&1?3988292384^Et>>1&2147483647:Et>>1&2147483647;pe[Ot]=Et}function At(Ot,Et,jt){let Wt=-1;for(let Nt=Et;Nt<jt;Nt++){const Lt=(Wt^Ot[Nt])&255,Ut=pe[Lt];Wt=Wt>>>8^Ut}return Wt^-1}function d(Ot,Et,jt,Wt){let Nt=Wt;const Lt=Et.length;jt[Nt]=Lt>>24&255,jt[Nt+1]=Lt>>16&255,jt[Nt+2]=Lt>>8&255,jt[Nt+3]=Lt&255,Nt+=4,jt[Nt]=Ot.charCodeAt(0)&255,jt[Nt+1]=Ot.charCodeAt(1)&255,jt[Nt+2]=Ot.charCodeAt(2)&255,jt[Nt+3]=Ot.charCodeAt(3)&255,Nt+=4,jt.set(Et,Nt),Nt+=Et.length;const Ut=At(jt,Wt+4,Nt);jt[Nt]=Ut>>24&255,jt[Nt+1]=Ut>>16&255,jt[Nt+2]=Ut>>8&255,jt[Nt+3]=Ut&255}function a(Ot,Et,jt){let Wt=1,Nt=0;for(let Lt=Et;Lt<jt;++Lt)Wt=(Wt+(Ot[Lt]&255))%65521,Nt=(Nt+Wt)%65521;return Nt<<16|Wt}function dt(Ot){if(!s.isNodeJS)return ze(Ot);try{const Et=parseInt(process.versions.node)>=8?Ot:Buffer.from(Ot),jt=require$$5.deflateSync(Et,{level:9});return jt instanceof Uint8Array?jt:new Uint8Array(jt)}catch(Et){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Et)}return ze(Ot)}function ze(Ot){let Et=Ot.length;const jt=65535,Wt=Math.ceil(Et/jt),Nt=new Uint8Array(2+Et+Wt*5+4);let Lt=0;Nt[Lt++]=120,Nt[Lt++]=156;let Ut=0;for(;Et>jt;)Nt[Lt++]=0,Nt[Lt++]=255,Nt[Lt++]=255,Nt[Lt++]=0,Nt[Lt++]=0,Nt.set(Ot.subarray(Ut,Ut+jt),Lt),Lt+=jt,Ut+=jt,Et-=jt;Nt[Lt++]=1,Nt[Lt++]=Et&255,Nt[Lt++]=Et>>8&255,Nt[Lt++]=~Et&65535&255,Nt[Lt++]=(~Et&65535)>>8&255,Nt.set(Ot.subarray(Ut),Lt),Lt+=Ot.length-Ut;const ln=a(Ot,0,Ot.length);return Nt[Lt++]=ln>>24&255,Nt[Lt++]=ln>>16&255,Nt[Lt++]=ln>>8&255,Nt[Lt++]=ln&255,Nt}function kt(Ot,Et,jt,Wt){const Nt=Ot.width,Lt=Ot.height;let Ut,ln,un;const rn=Ot.data;switch(Et){case s.ImageKind.GRAYSCALE_1BPP:ln=0,Ut=1,un=Nt+7>>3;break;case s.ImageKind.RGB_24BPP:ln=2,Ut=8,un=Nt*3;break;case s.ImageKind.RGBA_32BPP:ln=6,Ut=8,un=Nt*4;break;default:throw new Error("invalid format")}const Pt=new Uint8Array((1+un)*Lt);let l=0,h=0;for(let Ft=0;Ft<Lt;++Ft)Pt[l++]=0,Pt.set(rn.subarray(h,h+un),l),h+=un,l+=un;if(Et===s.ImageKind.GRAYSCALE_1BPP&&Wt){l=0;for(let Ft=0;Ft<Lt;Ft++){l++;for(let qt=0;qt<un;qt++)Pt[l++]^=255}}const c=new Uint8Array([Nt>>24&255,Nt>>16&255,Nt>>8&255,Nt&255,Lt>>24&255,Lt>>16&255,Lt>>8&255,Lt&255,Ut,ln,0,0,0]),Le=dt(Pt),Qe=yt.length+p*3+c.length+Le.length,mt=new Uint8Array(Qe);let Rt=0;return mt.set(yt,Rt),Rt+=yt.length,d("IHDR",c,mt,Rt),Rt+=p+c.length,d("IDATA",Le,mt,Rt),Rt+=p+Le.length,d("IEND",new Uint8Array(0),mt,Rt),P(mt,"image/png",jt)}return function(Et,jt,Wt){const Nt=Et.kind===void 0?s.ImageKind.GRAYSCALE_1BPP:Et.kind;return kt(Et,Nt,jt,Wt)}}();class Tt{constructor(){this.fontSizeScale=1,this.fontWeight=b.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=b.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(p,pe){this.x=p,this.y=pe}}function vt(yt){let p=[];const pe=[];for(const At of yt){if(At.fn==="save"){p.push({fnId:92,fn:"group",items:[]}),pe.push(p),p=p.at(-1).items;continue}At.fn==="restore"?p=pe.pop():p.push(At)}return p}function bt(yt){if(Number.isInteger(yt))return yt.toString();const p=yt.toFixed(10);let pe=p.length-1;if(p[pe]!=="0")return p;do pe--;while(p[pe]==="0");return p.substring(0,p[pe]==="."?pe:pe+1)}function gt(yt){if(yt[4]===0&&yt[5]===0){if(yt[1]===0&&yt[2]===0)return yt[0]===1&&yt[3]===1?"":`scale(${bt(yt[0])} ${bt(yt[3])})`;if(yt[0]===yt[3]&&yt[1]===-yt[2]){const p=Math.acos(yt[0])*180/Math.PI;return`rotate(${bt(p)})`}}else if(yt[0]===1&&yt[1]===0&&yt[2]===0&&yt[3]===1)return`translate(${bt(yt[4])} ${bt(yt[5])})`;return`matrix(${bt(yt[0])} ${bt(yt[1])} ${bt(yt[2])} ${bt(yt[3])} ${bt(yt[4])} ${bt(yt[5])})`}let et=0,ft=0,_t=0;class xt{constructor(p,pe,At=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new Tt,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=p,this.objs=pe,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!At,this._operatorIdMapping=[];for(const d in s.OPS)this._operatorIdMapping[s.OPS[d]]=d}getObject(p,pe=null){return typeof p=="string"?p.startsWith("g_")?this.commonObjs.get(p):this.objs.get(p):pe}save(){this.transformStack.push(this.transformMatrix);const p=this.current;this.extraStack.push(p),this.current=p.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(p){this.save(),this.executeOpTree(p),this.restore()}loadDependencies(p){const pe=p.fnArray,At=p.argsArray;for(let d=0,a=pe.length;d<a;d++)if(pe[d]===s.OPS.dependency)for(const dt of At[d]){const ze=dt.startsWith("g_")?this.commonObjs:this.objs,kt=new Promise(Ot=>{ze.get(dt,Ot)});this.current.dependencies.push(kt)}return Promise.all(this.current.dependencies)}transform(p,pe,At,d,a,dt){const ze=[p,pe,At,d,a,dt];this.transformMatrix=s.Util.transform(this.transformMatrix,ze),this.tgrp=null}getSVG(p,pe){this.viewport=pe;const At=this._initialize(pe);return this.loadDependencies(p).then(()=>(this.transformMatrix=s.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(p)),At))}convertOpList(p){const pe=this._operatorIdMapping,At=p.argsArray,d=p.fnArray,a=[];for(let dt=0,ze=d.length;dt<ze;dt++){const kt=d[dt];a.push({fnId:kt,fn:pe[kt],args:At[dt]})}return vt(a)}executeOpTree(p){for(const pe of p){const At=pe.fn,d=pe.fnId,a=pe.args;switch(d|0){case s.OPS.beginText:this.beginText();break;case s.OPS.dependency:break;case s.OPS.setLeading:this.setLeading(a);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(a[0],a[1]);break;case s.OPS.setFont:this.setFont(a);break;case s.OPS.showText:this.showText(a[0]);break;case s.OPS.showSpacedText:this.showText(a[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(a[0],a[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(a[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(a[0]);break;case s.OPS.setHScale:this.setHScale(a[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(a[0],a[1],a[2],a[3],a[4],a[5]);break;case s.OPS.setTextRise:this.setTextRise(a[0]);break;case s.OPS.setTextRenderingMode:this.setTextRenderingMode(a[0]);break;case s.OPS.setLineWidth:this.setLineWidth(a[0]);break;case s.OPS.setLineJoin:this.setLineJoin(a[0]);break;case s.OPS.setLineCap:this.setLineCap(a[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(a[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(a[0],a[1],a[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(a[0],a[1],a[2]);break;case s.OPS.setStrokeColorN:this.setStrokeColorN(a);break;case s.OPS.setFillColorN:this.setFillColorN(a);break;case s.OPS.shadingFill:this.shadingFill(a[0]);break;case s.OPS.setDash:this.setDash(a[0],a[1]);break;case s.OPS.setRenderingIntent:this.setRenderingIntent(a[0]);break;case s.OPS.setFlatness:this.setFlatness(a[0]);break;case s.OPS.setGState:this.setGState(a[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintImageXObject:this.paintImageXObject(a[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(a[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(a[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(a[0],a[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(a[0],a[1],a[2],a[3],a[4],a[5]);break;case s.OPS.constructPath:this.constructPath(a[0],a[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(pe.items);break;default:(0,s.warn)(`Unimplemented operator ${At}`);break}}}setWordSpacing(p){this.current.wordSpacing=p}setCharSpacing(p){this.current.charSpacing=p}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(p,pe,At,d,a,dt){const ze=this.current;ze.textMatrix=ze.lineMatrix=[p,pe,At,d,a,dt],ze.textMatrixScale=Math.hypot(p,pe),ze.x=ze.lineX=0,ze.y=ze.lineY=0,ze.xcoords=[],ze.ycoords=[],ze.tspan=this.svgFactory.createElement("svg:tspan"),ze.tspan.setAttributeNS(null,"font-family",ze.fontFamily),ze.tspan.setAttributeNS(null,"font-size",`${bt(ze.fontSize)}px`),ze.tspan.setAttributeNS(null,"y",bt(-ze.y)),ze.txtElement=this.svgFactory.createElement("svg:text"),ze.txtElement.append(ze.tspan)}beginText(){const p=this.current;p.x=p.lineX=0,p.y=p.lineY=0,p.textMatrix=s.IDENTITY_MATRIX,p.lineMatrix=s.IDENTITY_MATRIX,p.textMatrixScale=1,p.tspan=this.svgFactory.createElement("svg:tspan"),p.txtElement=this.svgFactory.createElement("svg:text"),p.txtgrp=this.svgFactory.createElement("svg:g"),p.xcoords=[],p.ycoords=[]}moveText(p,pe){const At=this.current;At.x=At.lineX+=p,At.y=At.lineY+=pe,At.xcoords=[],At.ycoords=[],At.tspan=this.svgFactory.createElement("svg:tspan"),At.tspan.setAttributeNS(null,"font-family",At.fontFamily),At.tspan.setAttributeNS(null,"font-size",`${bt(At.fontSize)}px`),At.tspan.setAttributeNS(null,"y",bt(-At.y))}showText(p){const pe=this.current,At=pe.font,d=pe.fontSize;if(d===0)return;const a=pe.fontSizeScale,dt=pe.charSpacing,ze=pe.wordSpacing,kt=pe.fontDirection,Ot=pe.textHScale*kt,Et=At.vertical,jt=Et?1:-1,Wt=At.defaultVMetrics,Nt=d*pe.fontMatrix[0];let Lt=0;for(const un of p){if(un===null){Lt+=kt*ze;continue}else if(typeof un=="number"){Lt+=jt*un*d/1e3;continue}const rn=(un.isSpace?ze:0)+dt,Pt=un.fontChar;let l,h,c=un.width;if(Et){let Qe;const mt=un.vmetric||Wt;Qe=un.vmetric?mt[1]:c*.5,Qe=-Qe*Nt;const Rt=mt[2]*Nt;c=mt?-mt[0]:c,l=Qe/a,h=(Lt+Rt)/a}else l=Lt/a,h=0;(un.isInFont||At.missingFile)&&(pe.xcoords.push(pe.x+l),Et&&pe.ycoords.push(-pe.y+h),pe.tspan.textContent+=Pt);const Le=Et?c*Nt-rn*kt:c*Nt+rn*kt;Lt+=Le}pe.tspan.setAttributeNS(null,"x",pe.xcoords.map(bt).join(" ")),Et?pe.tspan.setAttributeNS(null,"y",pe.ycoords.map(bt).join(" ")):pe.tspan.setAttributeNS(null,"y",bt(-pe.y)),Et?pe.y-=Lt:pe.x+=Lt*Ot,pe.tspan.setAttributeNS(null,"font-family",pe.fontFamily),pe.tspan.setAttributeNS(null,"font-size",`${bt(pe.fontSize)}px`),pe.fontStyle!==b.fontStyle&&pe.tspan.setAttributeNS(null,"font-style",pe.fontStyle),pe.fontWeight!==b.fontWeight&&pe.tspan.setAttributeNS(null,"font-weight",pe.fontWeight);const Ut=pe.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;if(Ut===s.TextRenderingMode.FILL||Ut===s.TextRenderingMode.FILL_STROKE?(pe.fillColor!==b.fillColor&&pe.tspan.setAttributeNS(null,"fill",pe.fillColor),pe.fillAlpha<1&&pe.tspan.setAttributeNS(null,"fill-opacity",pe.fillAlpha)):pe.textRenderingMode===s.TextRenderingMode.ADD_TO_PATH?pe.tspan.setAttributeNS(null,"fill","transparent"):pe.tspan.setAttributeNS(null,"fill","none"),Ut===s.TextRenderingMode.STROKE||Ut===s.TextRenderingMode.FILL_STROKE){const un=1/(pe.textMatrixScale||1);this._setStrokeAttributes(pe.tspan,un)}let ln=pe.textMatrix;pe.textRise!==0&&(ln=ln.slice(),ln[5]+=pe.textRise),pe.txtElement.setAttributeNS(null,"transform",`${gt(ln)} scale(${bt(Ot)}, -1)`),pe.txtElement.setAttributeNS($e,"xml:space","preserve"),pe.txtElement.append(pe.tspan),pe.txtgrp.append(pe.txtElement),this._ensureTransformGroup().append(pe.txtElement)}setLeadingMoveText(p,pe){this.setLeading(-pe),this.moveText(p,pe)}addFontStyle(p){if(!p.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const pe=P(p.data,p.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${p.loadedName}"; src: url(${pe}); }
`}setFont(p){const pe=this.current,At=this.commonObjs.get(p[0]);let d=p[1];pe.font=At,this.embedFonts&&!At.missingFile&&!this.embeddedFonts[At.loadedName]&&(this.addFontStyle(At),this.embeddedFonts[At.loadedName]=At),pe.fontMatrix=At.fontMatrix||s.FONT_IDENTITY_MATRIX;let a="normal";At.black?a="900":At.bold&&(a="bold");const dt=At.italic?"italic":"normal";d<0?(d=-d,pe.fontDirection=-1):pe.fontDirection=1,pe.fontSize=d,pe.fontFamily=At.loadedName,pe.fontWeight=a,pe.fontStyle=dt,pe.tspan=this.svgFactory.createElement("svg:tspan"),pe.tspan.setAttributeNS(null,"y",bt(-pe.y)),pe.xcoords=[],pe.ycoords=[]}endText(){var pe;const p=this.current;p.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG&&((pe=p.txtElement)!=null&&pe.hasChildNodes())&&(p.element=p.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(p){p>0&&(this.current.lineWidth=p)}setLineCap(p){this.current.lineCap=E[p]}setLineJoin(p){this.current.lineJoin=N[p]}setMiterLimit(p){this.current.miterLimit=p}setStrokeAlpha(p){this.current.strokeAlpha=p}setStrokeRGBColor(p,pe,At){this.current.strokeColor=s.Util.makeHexColor(p,pe,At)}setFillAlpha(p){this.current.fillAlpha=p}setFillRGBColor(p,pe,At){this.current.fillColor=s.Util.makeHexColor(p,pe,At),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(p){this.current.strokeColor=this._makeColorN_Pattern(p)}setFillColorN(p){this.current.fillColor=this._makeColorN_Pattern(p)}shadingFill(p){const{width:pe,height:At}=this.viewport,d=s.Util.inverseTransform(this.transformMatrix),[a,dt,ze,kt]=s.Util.getAxialAlignedBoundingBox([0,0,pe,At],d),Ot=this.svgFactory.createElement("svg:rect");Ot.setAttributeNS(null,"x",a),Ot.setAttributeNS(null,"y",dt),Ot.setAttributeNS(null,"width",ze-a),Ot.setAttributeNS(null,"height",kt-dt),Ot.setAttributeNS(null,"fill",this._makeShadingPattern(p)),this.current.fillAlpha<1&&Ot.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ot)}_makeColorN_Pattern(p){return p[0]==="TilingPattern"?this._makeTilingPattern(p):this._makeShadingPattern(p)}_makeTilingPattern(p){const pe=p[1],At=p[2],d=p[3]||s.IDENTITY_MATRIX,[a,dt,ze,kt]=p[4],Ot=p[5],Et=p[6],jt=p[7],Wt=`shading${_t++}`,[Nt,Lt,Ut,ln]=s.Util.normalizeRect([...s.Util.applyTransform([a,dt],d),...s.Util.applyTransform([ze,kt],d)]),[un,rn]=s.Util.singularValueDecompose2dScale(d),Pt=Ot*un,l=Et*rn,h=this.svgFactory.createElement("svg:pattern");h.setAttributeNS(null,"id",Wt),h.setAttributeNS(null,"patternUnits","userSpaceOnUse"),h.setAttributeNS(null,"width",Pt),h.setAttributeNS(null,"height",l),h.setAttributeNS(null,"x",`${Nt}`),h.setAttributeNS(null,"y",`${Lt}`);const c=this.svg,Le=this.transformMatrix,Qe=this.current.fillColor,mt=this.current.strokeColor,Rt=this.svgFactory.create(Ut-Nt,ln-Lt);if(this.svg=Rt,this.transformMatrix=d,jt===2){const Ft=s.Util.makeHexColor(...pe);this.current.fillColor=Ft,this.current.strokeColor=Ft}return this.executeOpTree(this.convertOpList(At)),this.svg=c,this.transformMatrix=Le,this.current.fillColor=Qe,this.current.strokeColor=mt,h.append(Rt.childNodes[0]),this.defs.append(h),`url(#${Wt})`}_makeShadingPattern(p){switch(typeof p=="string"&&(p=this.objs.get(p)),p[0]){case"RadialAxial":const pe=`shading${_t++}`,At=p[3];let d;switch(p[1]){case"axial":const a=p[4],dt=p[5];d=this.svgFactory.createElement("svg:linearGradient"),d.setAttributeNS(null,"id",pe),d.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),d.setAttributeNS(null,"x1",a[0]),d.setAttributeNS(null,"y1",a[1]),d.setAttributeNS(null,"x2",dt[0]),d.setAttributeNS(null,"y2",dt[1]);break;case"radial":const ze=p[4],kt=p[5],Ot=p[6],Et=p[7];d=this.svgFactory.createElement("svg:radialGradient"),d.setAttributeNS(null,"id",pe),d.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),d.setAttributeNS(null,"cx",kt[0]),d.setAttributeNS(null,"cy",kt[1]),d.setAttributeNS(null,"r",Et),d.setAttributeNS(null,"fx",ze[0]),d.setAttributeNS(null,"fy",ze[1]),d.setAttributeNS(null,"fr",Ot);break;default:throw new Error(`Unknown RadialAxial type: ${p[1]}`)}for(const a of At){const dt=this.svgFactory.createElement("svg:stop");dt.setAttributeNS(null,"offset",a[0]),dt.setAttributeNS(null,"stop-color",a[1]),d.append(dt)}return this.defs.append(d),`url(#${pe})`;case"Mesh":return(0,s.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${p[0]}`)}}setDash(p,pe){this.current.dashArray=p,this.current.dashPhase=pe}constructPath(p,pe){const At=this.current;let d=At.x,a=At.y,dt=[],ze=0;for(const kt of p)switch(kt|0){case s.OPS.rectangle:d=pe[ze++],a=pe[ze++];const Ot=pe[ze++],Et=pe[ze++],jt=d+Ot,Wt=a+Et;dt.push("M",bt(d),bt(a),"L",bt(jt),bt(a),"L",bt(jt),bt(Wt),"L",bt(d),bt(Wt),"Z");break;case s.OPS.moveTo:d=pe[ze++],a=pe[ze++],dt.push("M",bt(d),bt(a));break;case s.OPS.lineTo:d=pe[ze++],a=pe[ze++],dt.push("L",bt(d),bt(a));break;case s.OPS.curveTo:d=pe[ze+4],a=pe[ze+5],dt.push("C",bt(pe[ze]),bt(pe[ze+1]),bt(pe[ze+2]),bt(pe[ze+3]),bt(d),bt(a)),ze+=6;break;case s.OPS.curveTo2:dt.push("C",bt(d),bt(a),bt(pe[ze]),bt(pe[ze+1]),bt(pe[ze+2]),bt(pe[ze+3])),d=pe[ze+2],a=pe[ze+3],ze+=4;break;case s.OPS.curveTo3:d=pe[ze+2],a=pe[ze+3],dt.push("C",bt(pe[ze]),bt(pe[ze+1]),bt(d),bt(a),bt(d),bt(a)),ze+=4;break;case s.OPS.closePath:dt.push("Z");break}dt=dt.join(" "),At.path&&p.length>0&&p[0]!==s.OPS.rectangle&&p[0]!==s.OPS.moveTo?dt=At.path.getAttributeNS(null,"d")+dt:(At.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(At.path)),At.path.setAttributeNS(null,"d",dt),At.path.setAttributeNS(null,"fill","none"),At.element=At.path,At.setCurrentPoint(d,a)}endPath(){const p=this.current;if(p.path=null,!this.pendingClip)return;if(!p.element){this.pendingClip=null;return}const pe=`clippath${et++}`,At=this.svgFactory.createElement("svg:clipPath");At.setAttributeNS(null,"id",pe),At.setAttributeNS(null,"transform",gt(this.transformMatrix));const d=p.element.cloneNode(!0);if(this.pendingClip==="evenodd"?d.setAttributeNS(null,"clip-rule","evenodd"):d.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,At.append(d),this.defs.append(At),p.activeClipUrl){p.clipGroup=null;for(const a of this.extraStack)a.clipGroup=null;At.setAttributeNS(null,"clip-path",p.activeClipUrl)}p.activeClipUrl=`url(#${pe})`,this.tgrp=null}clip(p){this.pendingClip=p}closePath(){const p=this.current;if(p.path){const pe=`${p.path.getAttributeNS(null,"d")}Z`;p.path.setAttributeNS(null,"d",pe)}}setLeading(p){this.current.leading=-p}setTextRise(p){this.current.textRise=p}setTextRenderingMode(p){this.current.textRenderingMode=p}setHScale(p){this.current.textHScale=p/100}setRenderingIntent(p){}setFlatness(p){}setGState(p){for(const[pe,At]of p)switch(pe){case"LW":this.setLineWidth(At);break;case"LC":this.setLineCap(At);break;case"LJ":this.setLineJoin(At);break;case"ML":this.setMiterLimit(At);break;case"D":this.setDash(At[0],At[1]);break;case"RI":this.setRenderingIntent(At);break;case"FL":this.setFlatness(At);break;case"Font":this.setFont(At);break;case"CA":this.setStrokeAlpha(At);break;case"ca":this.setFillAlpha(At);break;default:(0,s.warn)(`Unimplemented graphic state operator ${pe}`);break}}fill(){const p=this.current;p.element&&(p.element.setAttributeNS(null,"fill",p.fillColor),p.element.setAttributeNS(null,"fill-opacity",p.fillAlpha),this.endPath())}stroke(){const p=this.current;p.element&&(this._setStrokeAttributes(p.element),p.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(p,pe=1){const At=this.current;let d=At.dashArray;pe!==1&&d.length>0&&(d=d.map(function(a){return pe*a})),p.setAttributeNS(null,"stroke",At.strokeColor),p.setAttributeNS(null,"stroke-opacity",At.strokeAlpha),p.setAttributeNS(null,"stroke-miterlimit",bt(At.miterLimit)),p.setAttributeNS(null,"stroke-linecap",At.lineCap),p.setAttributeNS(null,"stroke-linejoin",At.lineJoin),p.setAttributeNS(null,"stroke-width",bt(pe*At.lineWidth)+"px"),p.setAttributeNS(null,"stroke-dasharray",d.map(bt).join(" ")),p.setAttributeNS(null,"stroke-dashoffset",bt(pe*At.dashPhase)+"px")}eoFill(){var p;(p=this.current.element)==null||p.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var p;(p=this.current.element)==null||p.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y","0"),p.setAttributeNS(null,"width","1px"),p.setAttributeNS(null,"height","1px"),p.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(p)}paintImageXObject(p){const pe=this.getObject(p);if(!pe){(0,s.warn)(`Dependent image with object ID ${p} is not ready yet`);return}this.paintInlineImageXObject(pe)}paintInlineImageXObject(p,pe){const At=p.width,d=p.height,a=St(p,this.forceDataSchema,!!pe),dt=this.svgFactory.createElement("svg:rect");dt.setAttributeNS(null,"x","0"),dt.setAttributeNS(null,"y","0"),dt.setAttributeNS(null,"width",bt(At)),dt.setAttributeNS(null,"height",bt(d)),this.current.element=dt,this.clip("nonzero");const ze=this.svgFactory.createElement("svg:image");ze.setAttributeNS(Ct,"xlink:href",a),ze.setAttributeNS(null,"x","0"),ze.setAttributeNS(null,"y",bt(-d)),ze.setAttributeNS(null,"width",bt(At)+"px"),ze.setAttributeNS(null,"height",bt(d)+"px"),ze.setAttributeNS(null,"transform",`scale(${bt(1/At)} ${bt(-1/d)})`),pe?pe.append(ze):this._ensureTransformGroup().append(ze)}paintImageMaskXObject(p){const pe=this.getObject(p.data,p);if(pe.bitmap){(0,s.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const At=this.current,d=pe.width,a=pe.height,dt=At.fillColor;At.maskId=`mask${ft++}`;const ze=this.svgFactory.createElement("svg:mask");ze.setAttributeNS(null,"id",At.maskId);const kt=this.svgFactory.createElement("svg:rect");kt.setAttributeNS(null,"x","0"),kt.setAttributeNS(null,"y","0"),kt.setAttributeNS(null,"width",bt(d)),kt.setAttributeNS(null,"height",bt(a)),kt.setAttributeNS(null,"fill",dt),kt.setAttributeNS(null,"mask",`url(#${At.maskId})`),this.defs.append(ze),this._ensureTransformGroup().append(kt),this.paintInlineImageXObject(pe,ze)}paintFormXObjectBegin(p,pe){if(Array.isArray(p)&&p.length===6&&this.transform(p[0],p[1],p[2],p[3],p[4],p[5]),pe){const At=pe[2]-pe[0],d=pe[3]-pe[1],a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x",pe[0]),a.setAttributeNS(null,"y",pe[1]),a.setAttributeNS(null,"width",bt(At)),a.setAttributeNS(null,"height",bt(d)),this.current.element=a,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(p){const pe=this.svgFactory.create(p.width,p.height),At=this.svgFactory.createElement("svg:defs");pe.append(At),this.defs=At;const d=this.svgFactory.createElement("svg:g");return d.setAttributeNS(null,"transform",gt(p.transform)),pe.append(d),this.svg=d,pe}_ensureClipGroup(){if(!this.current.clipGroup){const p=this.svgFactory.createElement("svg:g");p.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(p),this.current.clipGroup=p}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",gt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=xt},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class i{static textContent(s){const b=[],$e={items:b,styles:Object.create(null)};function Ct(E){var St;if(!E)return;let N=null;const P=E.name;if(P==="#text")N=E.value;else if(i.shouldBuildText(P))(St=E==null?void 0:E.attributes)!=null&&St.textContent?N=E.attributes.textContent:E.value&&(N=E.value);else return;if(N!==null&&b.push({str:N}),!!E.children)for(const Tt of E.children)Ct(Tt)}return Ct(s),$e}static shouldBuildText(s){return!(s==="textarea"||s==="input"||s==="option"||s==="select")}}e.XfaText=i},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=gt,e.updateTextLayer=et;var n=i(1),s=i(6);const b=1e5,$e=30,Ct=.8,E=new Map;function N(ft,_t){let xt;if(_t&&n.FeatureTest.isOffscreenCanvasSupported)xt=new OffscreenCanvas(ft,ft).getContext("2d",{alpha:!1});else{const yt=document.createElement("canvas");yt.width=yt.height=ft,xt=yt.getContext("2d",{alpha:!1})}return xt}function P(ft,_t){const xt=E.get(ft);if(xt)return xt;const yt=N($e,_t);yt.font=`${$e}px ${ft}`;const p=yt.measureText("");let pe=p.fontBoundingBoxAscent,At=Math.abs(p.fontBoundingBoxDescent);if(pe){const a=pe/(pe+At);return E.set(ft,a),yt.canvas.width=yt.canvas.height=0,a}yt.strokeStyle="red",yt.clearRect(0,0,$e,$e),yt.strokeText("g",0,0);let d=yt.getImageData(0,0,$e,$e).data;At=0;for(let a=d.length-1-3;a>=0;a-=4)if(d[a]>0){At=Math.ceil(a/4/$e);break}yt.clearRect(0,0,$e,$e),yt.strokeText("A",0,$e),d=yt.getImageData(0,0,$e,$e).data,pe=0;for(let a=0,dt=d.length;a<dt;a+=4)if(d[a]>0){pe=$e-Math.floor(a/4/$e);break}if(yt.canvas.width=yt.canvas.height=0,pe){const a=pe/(pe+At);return E.set(ft,a),a}return E.set(ft,Ct),Ct}function St(ft,_t,xt){const yt=document.createElement("span"),p={angle:0,canvasWidth:0,hasText:_t.str!=="",hasEOL:_t.hasEOL,fontSize:0};ft._textDivs.push(yt);const pe=n.Util.transform(ft._transform,_t.transform);let At=Math.atan2(pe[1],pe[0]);const d=xt[_t.fontName];d.vertical&&(At+=Math.PI/2);const a=Math.hypot(pe[2],pe[3]),dt=a*P(d.fontFamily,ft._isOffscreenCanvasSupported);let ze,kt;At===0?(ze=pe[4],kt=pe[5]-dt):(ze=pe[4]+dt*Math.sin(At),kt=pe[5]-dt*Math.cos(At));const Ot="calc(var(--scale-factor)*",Et=yt.style;ft._container===ft._rootContainer?(Et.left=`${(100*ze/ft._pageWidth).toFixed(2)}%`,Et.top=`${(100*kt/ft._pageHeight).toFixed(2)}%`):(Et.left=`${Ot}${ze.toFixed(2)}px)`,Et.top=`${Ot}${kt.toFixed(2)}px)`),Et.fontSize=`${Ot}${a.toFixed(2)}px)`,Et.fontFamily=d.fontFamily,p.fontSize=a,yt.setAttribute("role","presentation"),yt.textContent=_t.str,yt.dir=_t.dir,ft._fontInspectorEnabled&&(yt.dataset.fontName=_t.fontName),At!==0&&(p.angle=At*(180/Math.PI));let jt=!1;if(_t.str.length>1)jt=!0;else if(_t.str!==" "&&_t.transform[0]!==_t.transform[3]){const Wt=Math.abs(_t.transform[0]),Nt=Math.abs(_t.transform[3]);Wt!==Nt&&Math.max(Wt,Nt)/Math.min(Wt,Nt)>1.5&&(jt=!0)}jt&&(p.canvasWidth=d.vertical?_t.height:_t.width),ft._textDivProperties.set(yt,p),ft._isReadableStream&&ft._layoutText(yt)}function Tt(ft){const{div:_t,scale:xt,properties:yt,ctx:p,prevFontSize:pe,prevFontFamily:At}=ft,{style:d}=_t;let a="";if(yt.canvasWidth!==0&&yt.hasText){const{fontFamily:dt}=d,{canvasWidth:ze,fontSize:kt}=yt;(pe!==kt||At!==dt)&&(p.font=`${kt*xt}px ${dt}`,ft.prevFontSize=kt,ft.prevFontFamily=dt);const{width:Ot}=p.measureText(_t.textContent);Ot>0&&(a=`scaleX(${ze*xt/Ot})`)}yt.angle!==0&&(a=`rotate(${yt.angle}deg) ${a}`),a.length>0&&(d.transform=a)}function vt(ft){if(ft._canceled)return;const _t=ft._textDivs,xt=ft._capability;if(_t.length>b){xt.resolve();return}if(!ft._isReadableStream)for(const p of _t)ft._layoutText(p);xt.resolve()}class bt{constructor({textContentSource:_t,container:xt,viewport:yt,textDivs:p,textDivProperties:pe,textContentItemsStr:At,isOffscreenCanvasSupported:d}){var Ot;this._textContentSource=_t,this._isReadableStream=_t instanceof ReadableStream,this._container=this._rootContainer=xt,this._textDivs=p||[],this._textContentItemsStr=At||[],this._isOffscreenCanvasSupported=d,this._fontInspectorEnabled=!!((Ot=globalThis.FontInspector)!=null&&Ot.enabled),this._reader=null,this._textDivProperties=pe||new WeakMap,this._canceled=!1,this._capability=new n.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:yt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:N(0,d)};const{pageWidth:a,pageHeight:dt,pageX:ze,pageY:kt}=yt.rawDims;this._transform=[1,0,0,-1,-ze,kt+dt],this._pageWidth=a,this._pageHeight=dt,(0,s.setLayerDimensions)(xt,yt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new n.AbortException("TextLayer task cancelled."))}_processItems(_t,xt){for(const yt of _t){if(yt.str===void 0){if(yt.type==="beginMarkedContentProps"||yt.type==="beginMarkedContent"){const p=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),yt.id!==null&&this._container.setAttribute("id",`${yt.id}`),p.append(this._container)}else yt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(yt.str),St(this,yt,xt)}}_layoutText(_t){const xt=this._layoutTextParams.properties=this._textDivProperties.get(_t);if(this._layoutTextParams.div=_t,Tt(this._layoutTextParams),xt.hasText&&this._container.append(_t),xt.hasEOL){const yt=document.createElement("br");yt.setAttribute("role","presentation"),this._container.append(yt)}}_render(){const _t=new n.PromiseCapability;let xt=Object.create(null);if(this._isReadableStream){const yt=()=>{this._reader.read().then(({value:p,done:pe})=>{if(pe){_t.resolve();return}Object.assign(xt,p.styles),this._processItems(p.items,xt),yt()},_t.reject)};this._reader=this._textContentSource.getReader(),yt()}else if(this._textContentSource){const{items:yt,styles:p}=this._textContentSource;this._processItems(yt,p),_t.resolve()}else throw new Error('No "textContentSource" parameter specified.');_t.promise.then(()=>{xt=null,vt(this)},this._capability.reject)}}e.TextLayerRenderTask=bt;function gt(ft){!ft.textContentSource&&(ft.textContent||ft.textContentStream)&&((0,s.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ft.textContentSource=ft.textContent||ft.textContentStream);const{container:_t,viewport:xt}=ft,yt=getComputedStyle(_t),p=yt.getPropertyValue("visibility"),pe=parseFloat(yt.getPropertyValue("--scale-factor"));p==="visible"&&(!pe||Math.abs(pe-xt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const At=new bt(ft);return At._render(),At}function et({container:ft,viewport:_t,textDivs:xt,textDivProperties:yt,isOffscreenCanvasSupported:p,mustRotate:pe=!0,mustRescale:At=!0}){if(pe&&(0,s.setLayerDimensions)(ft,{rotation:_t.rotation}),At){const d=N(0,p),dt={prevFontSize:null,prevFontFamily:null,div:null,scale:_t.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d};for(const ze of xt)dt.properties=yt.get(ze),dt.div=ze,Tt(dt)}}},(t,e,i)=>{var P,St,Tt,vt,bt,gt,et,ft,_t,xt,yt,Kr,pe,Sr,d,Jr,dt,Zr;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var n=i(1),s=i(4),b=i(28),$e=i(33),Ct=i(6),E=i(34);const kt=class kt{constructor({uiManager:Et,pageIndex:jt,div:Wt,accessibilityManager:Nt,annotationLayer:Lt,viewport:Ut,l10n:ln}){It(this,yt);It(this,pe);It(this,d);It(this,dt);It(this,P,void 0);It(this,St,!1);It(this,Tt,null);It(this,vt,this.pointerup.bind(this));It(this,bt,this.pointerdown.bind(this));It(this,gt,new Map);It(this,et,!1);It(this,ft,!1);It(this,_t,!1);It(this,xt,void 0);const un=[b.FreeTextEditor,$e.InkEditor,E.StampEditor];if(!kt._initialized){kt._initialized=!0;for(const rn of un)rn.initialize(ln)}Et.registerEditorTypes(un),Qt(this,xt,Et),this.pageIndex=jt,this.div=Wt,Qt(this,P,Nt),Qt(this,Tt,Lt),this.viewport=Ut,o(this,xt).addLayer(this)}get isEmpty(){return o(this,gt).size===0}updateToolbar(Et){o(this,xt).updateToolbar(Et)}updateMode(Et=o(this,xt).getMode()){Ht(this,dt,Zr).call(this),Et===n.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Et!==n.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Et===n.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Et===n.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Et===n.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Et){if(!Et&&o(this,xt).getMode()!==n.AnnotationEditorType.INK)return;if(!Et){for(const Wt of o(this,gt).values())if(Wt.isEmpty()){Wt.setInBackground();return}}Ht(this,pe,Sr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Et){o(this,xt).setEditingState(Et)}addCommands(Et){o(this,xt).addCommands(Et)}enable(){this.div.style.pointerEvents="auto";const Et=new Set;for(const Wt of o(this,gt).values())Wt.enableEditing(),Wt.annotationElementId&&Et.add(Wt.annotationElementId);if(!o(this,Tt))return;const jt=o(this,Tt).getEditableAnnotations();for(const Wt of jt){if(Wt.hide(),o(this,xt).isDeletedAnnotationElement(Wt.data.id)||Et.has(Wt.data.id))continue;const Nt=this.deserialize(Wt);Nt&&(this.addOrRebuild(Nt),Nt.enableEditing())}}disable(){var jt;Qt(this,_t,!0),this.div.style.pointerEvents="none";const Et=new Set;for(const Wt of o(this,gt).values()){if(Wt.disableEditing(),!Wt.annotationElementId||Wt.serialize()!==null){Et.add(Wt.annotationElementId);continue}(jt=this.getEditableAnnotation(Wt.annotationElementId))==null||jt.show(),Wt.remove()}if(o(this,Tt)){const Wt=o(this,Tt).getEditableAnnotations();for(const Nt of Wt){const{id:Lt}=Nt.data;Et.has(Lt)||o(this,xt).isDeletedAnnotationElement(Lt)||Nt.show()}}Ht(this,dt,Zr).call(this),this.isEmpty&&(this.div.hidden=!0),Qt(this,_t,!1)}getEditableAnnotation(Et){var jt;return((jt=o(this,Tt))==null?void 0:jt.getEditableAnnotation(Et))||null}setActiveEditor(Et){o(this,xt).getActive()!==Et&&o(this,xt).setActiveEditor(Et)}enableClick(){this.div.addEventListener("pointerdown",o(this,bt)),this.div.addEventListener("pointerup",o(this,vt))}disableClick(){this.div.removeEventListener("pointerdown",o(this,bt)),this.div.removeEventListener("pointerup",o(this,vt))}attach(Et){o(this,gt).set(Et.id,Et);const{annotationElementId:jt}=Et;jt&&o(this,xt).isDeletedAnnotationElement(jt)&&o(this,xt).removeDeletedAnnotationElement(Et)}detach(Et){var jt;o(this,gt).delete(Et.id),(jt=o(this,P))==null||jt.removePointerInTextLayer(Et.contentDiv),!o(this,_t)&&Et.annotationElementId&&o(this,xt).addDeletedAnnotationElement(Et)}remove(Et){this.detach(Et),o(this,xt).removeEditor(Et),Et.div.contains(document.activeElement)&&setTimeout(()=>{o(this,xt).focusMainContainer()},0),Et.div.remove(),Et.isAttachedToDOM=!1,o(this,ft)||this.addInkEditorIfNeeded(!1)}changeParent(Et){var jt;Et.parent!==this&&(Et.annotationElementId&&(o(this,xt).addDeletedAnnotationElement(Et.annotationElementId),s.AnnotationEditor.deleteAnnotationElement(Et),Et.annotationElementId=null),this.attach(Et),(jt=Et.parent)==null||jt.detach(Et),Et.setParent(this),Et.div&&Et.isAttachedToDOM&&(Et.div.remove(),this.div.append(Et.div)))}add(Et){if(this.changeParent(Et),o(this,xt).addEditor(Et),this.attach(Et),!Et.isAttachedToDOM){const jt=Et.render();this.div.append(jt),Et.isAttachedToDOM=!0}Et.fixAndSetPosition(),Et.onceAdded(),o(this,xt).addToAnnotationStorage(Et)}moveEditorInDOM(Et){var Wt;if(!Et.isAttachedToDOM)return;const{activeElement:jt}=document;Et.div.contains(jt)&&(Et._focusEventsAllowed=!1,setTimeout(()=>{Et.div.contains(document.activeElement)?Et._focusEventsAllowed=!0:(Et.div.addEventListener("focusin",()=>{Et._focusEventsAllowed=!0},{once:!0}),jt.focus())},0)),Et._structTreeParentId=(Wt=o(this,P))==null?void 0:Wt.moveElementInDOM(this.div,Et.div,Et.contentDiv,!0)}addOrRebuild(Et){Et.needsToBeRebuilt()?Et.rebuild():this.add(Et)}addUndoableEditor(Et){const jt=()=>Et._uiManager.rebuild(Et),Wt=()=>{Et.remove()};this.addCommands({cmd:jt,undo:Wt,mustExec:!1})}getNextId(){return o(this,xt).getId()}pasteEditor(Et,jt){o(this,xt).updateToolbar(Et),o(this,xt).updateMode(Et);const{offsetX:Wt,offsetY:Nt}=Ht(this,d,Jr).call(this),Lt=this.getNextId(),Ut=Ht(this,yt,Kr).call(this,{parent:this,id:Lt,x:Wt,y:Nt,uiManager:o(this,xt),isCentered:!0,...jt});Ut&&this.add(Ut)}deserialize(Et){switch(Et.annotationType??Et.annotationEditorType){case n.AnnotationEditorType.FREETEXT:return b.FreeTextEditor.deserialize(Et,this,o(this,xt));case n.AnnotationEditorType.INK:return $e.InkEditor.deserialize(Et,this,o(this,xt));case n.AnnotationEditorType.STAMP:return E.StampEditor.deserialize(Et,this,o(this,xt))}return null}addNewEditor(){Ht(this,pe,Sr).call(this,Ht(this,d,Jr).call(this),!0)}setSelected(Et){o(this,xt).setSelected(Et)}toggleSelected(Et){o(this,xt).toggleSelected(Et)}isSelected(Et){return o(this,xt).isSelected(Et)}unselect(Et){o(this,xt).unselect(Et)}pointerup(Et){const{isMac:jt}=n.FeatureTest.platform;if(!(Et.button!==0||Et.ctrlKey&&jt)&&Et.target===this.div&&o(this,et)){if(Qt(this,et,!1),!o(this,St)){Qt(this,St,!0);return}if(o(this,xt).getMode()===n.AnnotationEditorType.STAMP){o(this,xt).unselectAll();return}Ht(this,pe,Sr).call(this,Et,!1)}}pointerdown(Et){if(o(this,et)){Qt(this,et,!1);return}const{isMac:jt}=n.FeatureTest.platform;if(Et.button!==0||Et.ctrlKey&&jt||Et.target!==this.div)return;Qt(this,et,!0);const Wt=o(this,xt).getActive();Qt(this,St,!Wt||Wt.isEmpty())}findNewParent(Et,jt,Wt){const Nt=o(this,xt).findParent(jt,Wt);return Nt===null||Nt===this?!1:(Nt.changeParent(Et),!0)}destroy(){var Et,jt;((Et=o(this,xt).getActive())==null?void 0:Et.parent)===this&&(o(this,xt).commitOrRemove(),o(this,xt).setActiveEditor(null));for(const Wt of o(this,gt).values())(jt=o(this,P))==null||jt.removePointerInTextLayer(Wt.contentDiv),Wt.setParent(null),Wt.isAttachedToDOM=!1,Wt.div.remove();this.div=null,o(this,gt).clear(),o(this,xt).removeLayer(this)}render({viewport:Et}){this.viewport=Et,(0,Ct.setLayerDimensions)(this.div,Et);for(const jt of o(this,xt).getEditors(this.pageIndex))this.add(jt);this.updateMode()}update({viewport:Et}){o(this,xt).commitOrRemove(),this.viewport=Et,(0,Ct.setLayerDimensions)(this.div,{rotation:Et.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Et,pageHeight:jt}=this.viewport.rawDims;return[Et,jt]}};P=new WeakMap,St=new WeakMap,Tt=new WeakMap,vt=new WeakMap,bt=new WeakMap,gt=new WeakMap,et=new WeakMap,ft=new WeakMap,_t=new WeakMap,xt=new WeakMap,yt=new WeakSet,Kr=function(Et){switch(o(this,xt).getMode()){case n.AnnotationEditorType.FREETEXT:return new b.FreeTextEditor(Et);case n.AnnotationEditorType.INK:return new $e.InkEditor(Et);case n.AnnotationEditorType.STAMP:return new E.StampEditor(Et)}return null},pe=new WeakSet,Sr=function(Et,jt){const Wt=this.getNextId(),Nt=Ht(this,yt,Kr).call(this,{parent:this,id:Wt,x:Et.offsetX,y:Et.offsetY,uiManager:o(this,xt),isCentered:jt});return Nt&&this.add(Nt),Nt},d=new WeakSet,Jr=function(){const{x:Et,y:jt,width:Wt,height:Nt}=this.div.getBoundingClientRect(),Lt=Math.max(0,Et),Ut=Math.max(0,jt),ln=Math.min(window.innerWidth,Et+Wt),un=Math.min(window.innerHeight,jt+Nt),rn=(Lt+ln)/2-Et,Pt=(Ut+un)/2-jt,[l,h]=this.viewport.rotation%180===0?[rn,Pt]:[Pt,rn];return{offsetX:l,offsetY:h}},dt=new WeakSet,Zr=function(){Qt(this,ft,!0);for(const Et of o(this,gt).values())Et.isEmpty()&&Et.remove();Qt(this,ft,!1)},qn(kt,"_initialized",!1);let N=kt;e.AnnotationEditorLayer=N},(t,e,i)=>{var E,N,P,St,Tt,vt,bt,gt,et,ft,Pi,xt,wi,p,Ti,At,gr,a,Qr,ze,Ci,Ot,ei;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var n=i(1),s=i(5),b=i(4),$e=i(29);const jt=class jt extends b.AnnotationEditor{constructor(Lt){super({...Lt,name:"freeTextEditor"});It(this,ft);It(this,xt);It(this,p);It(this,At);It(this,a);It(this,ze);It(this,Ot);It(this,E,this.editorDivBlur.bind(this));It(this,N,this.editorDivFocus.bind(this));It(this,P,this.editorDivInput.bind(this));It(this,St,this.editorDivKeydown.bind(this));It(this,Tt,void 0);It(this,vt,"");It(this,bt,`${this.id}-editor`);It(this,gt,void 0);It(this,et,null);Qt(this,Tt,Lt.color||jt._defaultColor||b.AnnotationEditor._defaultLineColor),Qt(this,gt,Lt.fontSize||jt._defaultFontSize)}static get _keyboardManager(){const Lt=jt.prototype,Ut=rn=>rn.isEmpty(),ln=s.AnnotationEditorUIManager.TRANSLATE_SMALL,un=s.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new s.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Lt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Lt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Lt._translateEmpty,{args:[-ln,0],checker:Ut}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Lt._translateEmpty,{args:[-un,0],checker:Ut}],[["ArrowRight","mac+ArrowRight"],Lt._translateEmpty,{args:[ln,0],checker:Ut}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Lt._translateEmpty,{args:[un,0],checker:Ut}],[["ArrowUp","mac+ArrowUp"],Lt._translateEmpty,{args:[0,-ln],checker:Ut}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Lt._translateEmpty,{args:[0,-un],checker:Ut}],[["ArrowDown","mac+ArrowDown"],Lt._translateEmpty,{args:[0,ln],checker:Ut}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Lt._translateEmpty,{args:[0,un],checker:Ut}]]))}static initialize(Lt){b.AnnotationEditor.initialize(Lt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Ut=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ut.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Lt,Ut){switch(Lt){case n.AnnotationEditorParamsType.FREETEXT_SIZE:jt._defaultFontSize=Ut;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:jt._defaultColor=Ut;break}}updateParams(Lt,Ut){switch(Lt){case n.AnnotationEditorParamsType.FREETEXT_SIZE:Ht(this,ft,Pi).call(this,Ut);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:Ht(this,xt,wi).call(this,Ut);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,jt._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,jt._defaultColor||b.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,o(this,gt)],[n.AnnotationEditorParamsType.FREETEXT_COLOR,o(this,Tt)]]}_translateEmpty(Lt,Ut){this._uiManager.translateSelectedEditors(Lt,Ut,!0)}getInitialTranslation(){const Lt=this.parentScale;return[-jt._internalPadding*Lt,-(jt._internalPadding+o(this,gt))*Lt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",o(this,St)),this.editorDiv.addEventListener("focus",o(this,N)),this.editorDiv.addEventListener("blur",o(this,E)),this.editorDiv.addEventListener("input",o(this,P)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",o(this,bt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",o(this,St)),this.editorDiv.removeEventListener("focus",o(this,N)),this.editorDiv.removeEventListener("blur",o(this,E)),this.editorDiv.removeEventListener("input",o(this,P)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Lt){this._focusEventsAllowed&&(super.focusin(Lt),Lt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Lt;if(this.width){Ht(this,Ot,ei).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Lt=this._initialOptions)!=null&&Lt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Lt=o(this,vt),Ut=Qt(this,vt,Ht(this,p,Ti).call(this).trimEnd());if(Lt===Ut)return;const ln=un=>{if(Qt(this,vt,un),!un){this.remove();return}Ht(this,a,Qr).call(this),this._uiManager.rebuild(this),Ht(this,At,gr).call(this)};this.addCommands({cmd:()=>{ln(Ut)},undo:()=>{ln(Lt)},mustExec:!1}),Ht(this,At,gr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Lt){this.enterInEditMode()}keydown(Lt){Lt.target===this.div&&Lt.key==="Enter"&&(this.enterInEditMode(),Lt.preventDefault())}editorDivKeydown(Lt){jt._keyboardManager.exec(this,Lt)}editorDivFocus(Lt){this.isEditing=!0}editorDivBlur(Lt){this.isEditing=!1}editorDivInput(Lt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Lt,Ut;this.width&&(Lt=this.x,Ut=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",o(this,bt)),this.enableEditing(),b.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(un=>{var rn;return(rn=this.editorDiv)==null?void 0:rn.setAttribute("aria-label",un)}),b.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(un=>{var rn;return(rn=this.editorDiv)==null?void 0:rn.setAttribute("default-content",un)}),this.editorDiv.contentEditable=!0;const{style:ln}=this.editorDiv;if(ln.fontSize=`calc(${o(this,gt)}px * var(--scale-factor))`,ln.color=o(this,Tt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,s.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[un,rn]=this.parentDimensions;if(this.annotationElementId){const{position:Pt}=o(this,et);let[l,h]=this.getInitialTranslation();[l,h]=this.pageTranslationToScreen(l,h);const[c,Le]=this.pageDimensions,[Qe,mt]=this.pageTranslation;let Rt,Ft;switch(this.rotation){case 0:Rt=Lt+(Pt[0]-Qe)/c,Ft=Ut+this.height-(Pt[1]-mt)/Le;break;case 90:Rt=Lt+(Pt[0]-Qe)/c,Ft=Ut-(Pt[1]-mt)/Le,[l,h]=[h,-l];break;case 180:Rt=Lt-this.width+(Pt[0]-Qe)/c,Ft=Ut-(Pt[1]-mt)/Le,[l,h]=[-l,-h];break;case 270:Rt=Lt+(Pt[0]-Qe-this.height*Le)/c,Ft=Ut+(Pt[1]-mt-this.width*c)/Le,[l,h]=[-h,l];break}this.setAt(Rt*un,Ft*rn,l,h)}else this.setAt(Lt*un,Ut*rn,this.width*un,this.height*rn);Ht(this,a,Qr).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Lt,Ut,ln){let un=null;if(Lt instanceof $e.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Pt,fontColor:l},rect:h,rotation:c,id:Le},textContent:Qe,textPosition:mt,parent:{page:{pageNumber:Rt}}}=Lt;if(!Qe||Qe.length===0)return null;un=Lt={annotationType:n.AnnotationEditorType.FREETEXT,color:Array.from(l),fontSize:Pt,value:Qe.join(`
`),position:mt,pageIndex:Rt-1,rect:h,rotation:c,id:Le,deleted:!1}}const rn=super.deserialize(Lt,Ut,ln);return Qt(rn,gt,Lt.fontSize),Qt(rn,Tt,n.Util.makeHexColor(...Lt.color)),Qt(rn,vt,Lt.value),rn.annotationElementId=Lt.id||null,Qt(rn,et,un),rn}serialize(Lt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Ut=jt._internalPadding*this.parentScale,ln=this.getRect(Ut,Ut),un=b.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:o(this,Tt)),rn={annotationType:n.AnnotationEditorType.FREETEXT,color:un,fontSize:o(this,gt),value:o(this,vt),pageIndex:this.pageIndex,rect:ln,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Lt?rn:this.annotationElementId&&!Ht(this,ze,Ci).call(this,rn)?null:(rn.id=this.annotationElementId,rn)}};E=new WeakMap,N=new WeakMap,P=new WeakMap,St=new WeakMap,Tt=new WeakMap,vt=new WeakMap,bt=new WeakMap,gt=new WeakMap,et=new WeakMap,ft=new WeakSet,Pi=function(Lt){const Ut=un=>{this.editorDiv.style.fontSize=`calc(${un}px * var(--scale-factor))`,this.translate(0,-(un-o(this,gt))*this.parentScale),Qt(this,gt,un),Ht(this,At,gr).call(this)},ln=o(this,gt);this.addCommands({cmd:()=>{Ut(Lt)},undo:()=>{Ut(ln)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},xt=new WeakSet,wi=function(Lt){const Ut=o(this,Tt);this.addCommands({cmd:()=>{Qt(this,Tt,this.editorDiv.style.color=Lt)},undo:()=>{Qt(this,Tt,this.editorDiv.style.color=Ut)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},p=new WeakSet,Ti=function(){const Lt=this.editorDiv.getElementsByTagName("div");if(Lt.length===0)return this.editorDiv.innerText;const Ut=[];for(const ln of Lt)Ut.push(ln.innerText.replace(/\r\n?|\n/,""));return Ut.join(`
`)},At=new WeakSet,gr=function(){const[Lt,Ut]=this.parentDimensions;let ln;if(this.isAttachedToDOM)ln=this.div.getBoundingClientRect();else{const{currentLayer:un,div:rn}=this,Pt=rn.style.display;rn.style.display="hidden",un.div.append(this.div),ln=rn.getBoundingClientRect(),rn.remove(),rn.style.display=Pt}this.rotation%180===this.parentRotation%180?(this.width=ln.width/Lt,this.height=ln.height/Ut):(this.width=ln.height/Lt,this.height=ln.width/Ut),this.fixAndSetPosition()},a=new WeakSet,Qr=function(){if(this.editorDiv.replaceChildren(),!!o(this,vt))for(const Lt of o(this,vt).split(`
`)){const Ut=document.createElement("div");Ut.append(Lt?document.createTextNode(Lt):document.createElement("br")),this.editorDiv.append(Ut)}},ze=new WeakSet,Ci=function(Lt){const{value:Ut,fontSize:ln,color:un,rect:rn,pageIndex:Pt}=o(this,et);return Lt.value!==Ut||Lt.fontSize!==ln||Lt.rect.some((l,h)=>Math.abs(l-rn[h])>=1)||Lt.color.some((l,h)=>l!==un[h])||Lt.pageIndex!==Pt},Ot=new WeakSet,ei=function(Lt=!1){if(!this.annotationElementId)return;if(Ht(this,At,gr).call(this),!Lt&&(this.width===0||this.height===0)){setTimeout(()=>Ht(this,Ot,ei).call(this,!0),0);return}const Ut=jt._internalPadding*this.parentScale;o(this,et).rect=this.getRect(Ut,Ut)},qn(jt,"_freeTextDefaultContent",""),qn(jt,"_internalPadding",0),qn(jt,"_defaultColor",null),qn(jt,"_defaultFontSize",10),qn(jt,"_type","freetext");let Ct=jt;e.FreeTextEditor=Ct},(t,e,i)=>{var h,Le,tr,mt,Ri,Ft,qt,Bt,Gt,Zt,an,nn,vn,Sn,hn,yn,on,zt,Xt,tn,bn,mn,Fn,ki,On,Pr,Rn,ti,Mn,ni,Kt,Vt,fn,gn,Vn,Gn,Jt,ri,Cn,En,kn,Dn,Fi,pn,ii;Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var n=i(1),s=i(6),b=i(3),$e=i(30),Ct=i(31),E=i(32);const N=1e3,P=9,St=new WeakSet;function Tt(Tn){return{width:Tn[2]-Tn[0],height:Tn[3]-Tn[1]}}class vt{static create(Dt){switch(Dt.data.annotationType){case n.AnnotationType.LINK:return new gt(Dt);case n.AnnotationType.TEXT:return new et(Dt);case n.AnnotationType.WIDGET:switch(Dt.data.fieldType){case"Tx":return new _t(Dt);case"Btn":return Dt.data.radioButton?new p(Dt):Dt.data.checkBox?new yt(Dt):new pe(Dt);case"Ch":return new At(Dt);case"Sig":return new xt(Dt)}return new ft(Dt);case n.AnnotationType.POPUP:return new d(Dt);case n.AnnotationType.FREETEXT:return new dt(Dt);case n.AnnotationType.LINE:return new ze(Dt);case n.AnnotationType.SQUARE:return new kt(Dt);case n.AnnotationType.CIRCLE:return new Ot(Dt);case n.AnnotationType.POLYLINE:return new Et(Dt);case n.AnnotationType.CARET:return new Wt(Dt);case n.AnnotationType.INK:return new Nt(Dt);case n.AnnotationType.POLYGON:return new jt(Dt);case n.AnnotationType.HIGHLIGHT:return new Lt(Dt);case n.AnnotationType.UNDERLINE:return new Ut(Dt);case n.AnnotationType.SQUIGGLY:return new ln(Dt);case n.AnnotationType.STRIKEOUT:return new un(Dt);case n.AnnotationType.STAMP:return new rn(Dt);case n.AnnotationType.FILEATTACHMENT:return new Pt(Dt);default:return new bt(Dt)}}}const c=class c{constructor(Dt,{isRenderable:u=!1,ignoreBorder:wt=!1,createQuadrilaterals:Mt=!1}={}){It(this,h,!1);this.isRenderable=u,this.data=Dt.data,this.layer=Dt.layer,this.linkService=Dt.linkService,this.downloadManager=Dt.downloadManager,this.imageResourcesPath=Dt.imageResourcesPath,this.renderForms=Dt.renderForms,this.svgFactory=Dt.svgFactory,this.annotationStorage=Dt.annotationStorage,this.enableScripting=Dt.enableScripting,this.hasJSActions=Dt.hasJSActions,this._fieldObjects=Dt.fieldObjects,this.parent=Dt.parent,u&&(this.container=this._createContainer(wt)),Mt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Dt,contentsObj:u,richText:wt}){return!!(Dt!=null&&Dt.str||u!=null&&u.str||wt!=null&&wt.str)}get hasPopupData(){return c._hasPopupData(this.data)}_createContainer(Dt){const{data:u,parent:{page:wt,viewport:Mt}}=this,$t=document.createElement("section");$t.setAttribute("data-annotation-id",u.id),this instanceof ft||($t.tabIndex=N),$t.style.zIndex=this.parent.zIndex++,this.data.popupRef&&$t.setAttribute("aria-haspopup","dialog"),u.noRotate&&$t.classList.add("norotate");const{pageWidth:Yt,pageHeight:sn,pageX:dn,pageY:xn}=Mt.rawDims;if(!u.rect||this instanceof d){const{rotation:jn}=u;return!u.hasOwnCanvas&&jn!==0&&this.setRotation(jn,$t),$t}const{width:An,height:$n}=Tt(u.rect),Pn=n.Util.normalizeRect([u.rect[0],wt.view[3]-u.rect[1]+wt.view[1],u.rect[2],wt.view[3]-u.rect[3]+wt.view[1]]);if(!Dt&&u.borderStyle.width>0){$t.style.borderWidth=`${u.borderStyle.width}px`;const jn=u.borderStyle.horizontalCornerRadius,Bn=u.borderStyle.verticalCornerRadius;if(jn>0||Bn>0){const Hn=`calc(${jn}px * var(--scale-factor)) / calc(${Bn}px * var(--scale-factor))`;$t.style.borderRadius=Hn}else if(this instanceof p){const Hn=`calc(${An}px * var(--scale-factor)) / calc(${$n}px * var(--scale-factor))`;$t.style.borderRadius=Hn}switch(u.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:$t.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:$t.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:$t.style.borderBottomStyle="solid";break}const Wn=u.borderColor||null;Wn?(Qt(this,h,!0),$t.style.borderColor=n.Util.makeHexColor(Wn[0]|0,Wn[1]|0,Wn[2]|0)):$t.style.borderWidth=0}$t.style.left=`${100*(Pn[0]-dn)/Yt}%`,$t.style.top=`${100*(Pn[1]-xn)/sn}%`;const{rotation:wn}=u;return u.hasOwnCanvas||wn===0?($t.style.width=`${100*An/Yt}%`,$t.style.height=`${100*$n/sn}%`):this.setRotation(wn,$t),$t}setRotation(Dt,u=this.container){if(!this.data.rect)return;const{pageWidth:wt,pageHeight:Mt}=this.parent.viewport.rawDims,{width:$t,height:Yt}=Tt(this.data.rect);let sn,dn;Dt%180===0?(sn=100*$t/wt,dn=100*Yt/Mt):(sn=100*Yt/wt,dn=100*$t/Mt),u.style.width=`${sn}%`,u.style.height=`${dn}%`,u.setAttribute("data-main-rotation",(360-Dt)%360)}get _commonActions(){const Dt=(u,wt,Mt)=>{const $t=Mt.detail[u],Yt=$t[0],sn=$t.slice(1);Mt.target.style[wt]=$e.ColorConverters[`${Yt}_HTML`](sn),this.annotationStorage.setValue(this.data.id,{[wt]:$e.ColorConverters[`${Yt}_rgb`](sn)})};return(0,n.shadow)(this,"_commonActions",{display:u=>{const{display:wt}=u.detail,Mt=wt%2===1;this.container.style.visibility=Mt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Mt,noPrint:wt===1||wt===2})},print:u=>{this.annotationStorage.setValue(this.data.id,{noPrint:!u.detail.print})},hidden:u=>{const{hidden:wt}=u.detail;this.container.style.visibility=wt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:wt,noView:wt})},focus:u=>{setTimeout(()=>u.target.focus({preventScroll:!1}),0)},userName:u=>{u.target.title=u.detail.userName},readonly:u=>{u.target.disabled=u.detail.readonly},required:u=>{this._setRequired(u.target,u.detail.required)},bgColor:u=>{Dt("bgColor","backgroundColor",u)},fillColor:u=>{Dt("fillColor","backgroundColor",u)},fgColor:u=>{Dt("fgColor","color",u)},textColor:u=>{Dt("textColor","color",u)},borderColor:u=>{Dt("borderColor","borderColor",u)},strokeColor:u=>{Dt("strokeColor","borderColor",u)},rotation:u=>{const wt=u.detail.rotation;this.setRotation(wt),this.annotationStorage.setValue(this.data.id,{rotation:wt})}})}_dispatchEventFromSandbox(Dt,u){const wt=this._commonActions;for(const Mt of Object.keys(u.detail)){const $t=Dt[Mt]||wt[Mt];$t==null||$t(u)}}_setDefaultPropertiesFromJS(Dt){if(!this.enableScripting)return;const u=this.annotationStorage.getRawValue(this.data.id);if(!u)return;const wt=this._commonActions;for(const[Mt,$t]of Object.entries(u)){const Yt=wt[Mt];if(Yt){const sn={detail:{[Mt]:$t},target:Dt};Yt(sn),delete u[Mt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Dt}=this.data;if(!Dt)return;const[u,wt,Mt,$t]=this.data.rect;if(Dt.length===1){const[,{x:Bn,y:Wn},{x:Hn,y:Yn}]=Dt[0];if(Mt===Bn&&$t===Wn&&u===Hn&&wt===Yn)return}const{style:Yt}=this.container;let sn;if(o(this,h)){const{borderColor:Bn,borderWidth:Wn}=Yt;Yt.borderWidth=0,sn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Bn}" stroke-width="${Wn}">`],this.container.classList.add("hasBorder")}const dn=Mt-u,xn=$t-wt,{svgFactory:An}=this,$n=An.createElement("svg");$n.classList.add("quadrilateralsContainer"),$n.setAttribute("width",0),$n.setAttribute("height",0);const Pn=An.createElement("defs");$n.append(Pn);const wn=An.createElement("clipPath"),jn=`clippath_${this.data.id}`;wn.setAttribute("id",jn),wn.setAttribute("clipPathUnits","objectBoundingBox"),Pn.append(wn);for(const[,{x:Bn,y:Wn},{x:Hn,y:Yn}]of Dt){const Xn=An.createElement("rect"),Kn=(Hn-u)/dn,Qn=($t-Wn)/xn,er=(Bn-Hn)/dn,fi=(Wn-Yn)/xn;Xn.setAttribute("x",Kn),Xn.setAttribute("y",Qn),Xn.setAttribute("width",er),Xn.setAttribute("height",fi),wn.append(Xn),sn==null||sn.push(`<rect vector-effect="non-scaling-stroke" x="${Kn}" y="${Qn}" width="${er}" height="${fi}"/>`)}o(this,h)&&(sn.push("</g></svg>')"),Yt.backgroundImage=sn.join("")),this.container.append($n),this.container.style.clipPath=`url(#${jn})`}_createPopup(){const{container:Dt,data:u}=this;Dt.setAttribute("aria-haspopup","dialog");const wt=new d({data:{color:u.color,titleObj:u.titleObj,modificationDate:u.modificationDate,contentsObj:u.contentsObj,richText:u.richText,parentRect:u.rect,borderStyle:0,id:`popup_${u.id}`,rotation:u.rotation},parent:this.parent,elements:[this]});this.parent.div.append(wt.render())}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Dt,u=null){const wt=[];if(this._fieldObjects){const Mt=this._fieldObjects[Dt];if(Mt)for(const{page:$t,id:Yt,exportValues:sn}of Mt){if($t===-1||Yt===u)continue;const dn=typeof sn=="string"?sn:null,xn=document.querySelector(`[data-element-id="${Yt}"]`);if(xn&&!St.has(xn)){(0,n.warn)(`_getElementsByName - element not allowed: ${Yt}`);continue}wt.push({id:Yt,exportValue:dn,domElement:xn})}return wt}for(const Mt of document.getElementsByName(Dt)){const{exportValue:$t}=Mt,Yt=Mt.getAttribute("data-element-id");Yt!==u&&St.has(Mt)&&wt.push({id:Yt,exportValue:$t,domElement:Mt})}return wt}show(){var Dt;this.container&&(this.container.hidden=!1),(Dt=this.popup)==null||Dt.maybeShow()}hide(){var Dt;this.container&&(this.container.hidden=!0),(Dt=this.popup)==null||Dt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Dt=this.getElementsToTriggerPopup();if(Array.isArray(Dt))for(const u of Dt)u.classList.add("highlightArea");else Dt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Dt,data:{id:u}}=this;this.container.addEventListener("dblclick",()=>{var wt;(wt=this.linkService.eventBus)==null||wt.dispatch("switchannotationeditormode",{source:this,mode:Dt,editId:u})})}};h=new WeakMap;let bt=c;class gt extends bt{constructor(u,wt=null){super(u,{isRenderable:!0,ignoreBorder:!!(wt!=null&&wt.ignoreBorder),createQuadrilaterals:!0});It(this,Le);It(this,mt);this.isTooltipOnly=u.data.isTooltipOnly}render(){const{data:u,linkService:wt}=this,Mt=document.createElement("a");Mt.setAttribute("data-element-id",u.id);let $t=!1;return u.url?(wt.addLinkAttributes(Mt,u.url,u.newWindow),$t=!0):u.action?(this._bindNamedAction(Mt,u.action),$t=!0):u.attachment?(this._bindAttachment(Mt,u.attachment),$t=!0):u.setOCGState?(Ht(this,mt,Ri).call(this,Mt,u.setOCGState),$t=!0):u.dest?(this._bindLink(Mt,u.dest),$t=!0):(u.actions&&(u.actions.Action||u.actions["Mouse Up"]||u.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Mt,u),$t=!0),u.resetForm?(this._bindResetFormAction(Mt,u.resetForm),$t=!0):this.isTooltipOnly&&!$t&&(this._bindLink(Mt,""),$t=!0)),this.container.classList.add("linkAnnotation"),$t&&this.container.append(Mt),this.container}_bindLink(u,wt){u.href=this.linkService.getDestinationHash(wt),u.onclick=()=>(wt&&this.linkService.goToDestination(wt),!1),(wt||wt==="")&&Ht(this,Le,tr).call(this)}_bindNamedAction(u,wt){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>(this.linkService.executeNamedAction(wt),!1),Ht(this,Le,tr).call(this)}_bindAttachment(u,wt){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>{var Mt;return(Mt=this.downloadManager)==null||Mt.openOrDownloadData(this.container,wt.content,wt.filename),!1},Ht(this,Le,tr).call(this)}_bindJSAction(u,wt){u.href=this.linkService.getAnchorUrl("");const Mt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const $t of Object.keys(wt.actions)){const Yt=Mt.get($t);Yt&&(u[Yt]=()=>{var sn;return(sn=this.linkService.eventBus)==null||sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt.id,name:$t}}),!1})}u.onclick||(u.onclick=()=>!1),Ht(this,Le,tr).call(this)}_bindResetFormAction(u,wt){const Mt=u.onclick;if(Mt||(u.href=this.linkService.getAnchorUrl("")),Ht(this,Le,tr).call(this),!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Mt||(u.onclick=()=>!1);return}u.onclick=()=>{var $n;Mt==null||Mt();const{fields:$t,refs:Yt,include:sn}=wt,dn=[];if($t.length!==0||Yt.length!==0){const Pn=new Set(Yt);for(const wn of $t){const jn=this._fieldObjects[wn]||[];for(const{id:Bn}of jn)Pn.add(Bn)}for(const wn of Object.values(this._fieldObjects))for(const jn of wn)Pn.has(jn.id)===sn&&dn.push(jn)}else for(const Pn of Object.values(this._fieldObjects))dn.push(...Pn);const xn=this.annotationStorage,An=[];for(const Pn of dn){const{id:wn}=Pn;switch(An.push(wn),Pn.type){case"text":{const Bn=Pn.defaultValue||"";xn.setValue(wn,{value:Bn});break}case"checkbox":case"radiobutton":{const Bn=Pn.defaultValue===Pn.exportValues;xn.setValue(wn,{value:Bn});break}case"combobox":case"listbox":{const Bn=Pn.defaultValue||"";xn.setValue(wn,{value:Bn});break}default:continue}const jn=document.querySelector(`[data-element-id="${wn}"]`);if(jn){if(!St.has(jn)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${wn}`);continue}}else continue;jn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(($n=this.linkService.eventBus)==null||$n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:An,name:"ResetForm"}})),!1}}}Le=new WeakSet,tr=function(){this.container.setAttribute("data-internal-link","")},mt=new WeakSet,Ri=function(u,wt){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>(this.linkService.executeSetOCGState(wt),!1),Ht(this,Le,tr).call(this)};class et extends bt{constructor(Dt){super(Dt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Dt=document.createElement("img");return Dt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Dt.alt="[{{type}} Annotation]",Dt.dataset.l10nId="text_annotation_type",Dt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Dt),this.container}}class ft extends bt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Dt){var u;this.data.hasOwnCanvas&&(((u=Dt.previousSibling)==null?void 0:u.nodeName)==="CANVAS"&&(Dt.previousSibling.hidden=!0),Dt.hidden=!1)}_getKeyModifier(Dt){const{isWin:u,isMac:wt}=n.FeatureTest.platform;return u&&Dt.ctrlKey||wt&&Dt.metaKey}_setEventListener(Dt,u,wt,Mt,$t){wt.includes("mouse")?Dt.addEventListener(wt,Yt=>{var sn;(sn=this.linkService.eventBus)==null||sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Mt,value:$t(Yt),shift:Yt.shiftKey,modifier:this._getKeyModifier(Yt)}})}):Dt.addEventListener(wt,Yt=>{var sn;if(wt==="blur"){if(!u.focused||!Yt.relatedTarget)return;u.focused=!1}else if(wt==="focus"){if(u.focused)return;u.focused=!0}$t&&((sn=this.linkService.eventBus)==null||sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Mt,value:$t(Yt)}}))})}_setEventListeners(Dt,u,wt,Mt){var $t,Yt,sn;for(const[dn,xn]of wt)(xn==="Action"||($t=this.data.actions)!=null&&$t[xn])&&((xn==="Focus"||xn==="Blur")&&(u||(u={focused:!1})),this._setEventListener(Dt,u,dn,xn,Mt),xn==="Focus"&&!((Yt=this.data.actions)!=null&&Yt.Blur)?this._setEventListener(Dt,u,"blur","Blur",null):xn==="Blur"&&!((sn=this.data.actions)!=null&&sn.Focus)&&this._setEventListener(Dt,u,"focus","Focus",null))}_setBackgroundColor(Dt){const u=this.data.backgroundColor||null;Dt.style.backgroundColor=u===null?"transparent":n.Util.makeHexColor(u[0],u[1],u[2])}_setTextStyle(Dt){const u=["left","center","right"],{fontColor:wt}=this.data.defaultAppearanceData,Mt=this.data.defaultAppearanceData.fontSize||P,$t=Dt.style;let Yt;const sn=2,dn=xn=>Math.round(10*xn)/10;if(this.data.multiLine){const xn=Math.abs(this.data.rect[3]-this.data.rect[1]-sn),An=Math.round(xn/(n.LINE_FACTOR*Mt))||1,$n=xn/An;Yt=Math.min(Mt,dn($n/n.LINE_FACTOR))}else{const xn=Math.abs(this.data.rect[3]-this.data.rect[1]-sn);Yt=Math.min(Mt,dn(xn/n.LINE_FACTOR))}$t.fontSize=`calc(${Yt}px * var(--scale-factor))`,$t.color=n.Util.makeHexColor(wt[0],wt[1],wt[2]),this.data.textAlignment!==null&&($t.textAlign=u[this.data.textAlignment])}_setRequired(Dt,u){u?Dt.setAttribute("required",!0):Dt.removeAttribute("required"),Dt.setAttribute("aria-required",u)}}class _t extends ft{constructor(Dt){const u=Dt.renderForms||!Dt.data.hasAppearance&&!!Dt.data.fieldValue;super(Dt,{isRenderable:u})}setPropertyOnSiblings(Dt,u,wt,Mt){const $t=this.annotationStorage;for(const Yt of this._getElementsByName(Dt.name,Dt.id))Yt.domElement&&(Yt.domElement[u]=wt),$t.setValue(Yt.id,{[Mt]:wt})}render(){var Mt,$t;const Dt=this.annotationStorage,u=this.data.id;this.container.classList.add("textWidgetAnnotation");let wt=null;if(this.renderForms){const Yt=Dt.getValue(u,{value:this.data.fieldValue});let sn=Yt.value||"";const dn=Dt.getValue(u,{charLimit:this.data.maxLen}).charLimit;dn&&sn.length>dn&&(sn=sn.slice(0,dn));let xn=Yt.formattedValue||((Mt=this.data.textContent)==null?void 0:Mt.join(`
`))||null;xn&&this.data.comb&&(xn=xn.replaceAll(/\s+/g,""));const An={userValue:sn,formattedValue:xn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(wt=document.createElement("textarea"),wt.textContent=xn??sn,this.data.doNotScroll&&(wt.style.overflowY="hidden")):(wt=document.createElement("input"),wt.type="text",wt.setAttribute("value",xn??sn),this.data.doNotScroll&&(wt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(wt.hidden=!0),St.add(wt),wt.setAttribute("data-element-id",u),wt.disabled=this.data.readOnly,wt.name=this.data.fieldName,wt.tabIndex=N,this._setRequired(wt,this.data.required),dn&&(wt.maxLength=dn),wt.addEventListener("input",Pn=>{Dt.setValue(u,{value:Pn.target.value}),this.setPropertyOnSiblings(wt,"value",Pn.target.value,"value"),An.formattedValue=null}),wt.addEventListener("resetform",Pn=>{const wn=this.data.defaultFieldValue??"";wt.value=An.userValue=wn,An.formattedValue=null});let $n=Pn=>{const{formattedValue:wn}=An;wn!=null&&(Pn.target.value=wn),Pn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){wt.addEventListener("focus",wn=>{if(An.focused)return;const{target:jn}=wn;An.userValue&&(jn.value=An.userValue),An.lastCommittedValue=jn.value,An.commitKey=1,An.focused=!0}),wt.addEventListener("updatefromsandbox",wn=>{this.showElementAndHideCanvas(wn.target);const jn={value(Bn){An.userValue=Bn.detail.value??"",Dt.setValue(u,{value:An.userValue.toString()}),Bn.target.value=An.userValue},formattedValue(Bn){const{formattedValue:Wn}=Bn.detail;An.formattedValue=Wn,Wn!=null&&Bn.target!==document.activeElement&&(Bn.target.value=Wn),Dt.setValue(u,{formattedValue:Wn})},selRange(Bn){Bn.target.setSelectionRange(...Bn.detail.selRange)},charLimit:Bn=>{var Xn;const{charLimit:Wn}=Bn.detail,{target:Hn}=Bn;if(Wn===0){Hn.removeAttribute("maxLength");return}Hn.setAttribute("maxLength",Wn);let Yn=An.userValue;!Yn||Yn.length<=Wn||(Yn=Yn.slice(0,Wn),Hn.value=An.userValue=Yn,Dt.setValue(u,{value:Yn}),(Xn=this.linkService.eventBus)==null||Xn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:u,name:"Keystroke",value:Yn,willCommit:!0,commitKey:1,selStart:Hn.selectionStart,selEnd:Hn.selectionEnd}}))}};this._dispatchEventFromSandbox(jn,wn)}),wt.addEventListener("keydown",wn=>{var Wn;An.commitKey=1;let jn=-1;if(wn.key==="Escape"?jn=0:wn.key==="Enter"&&!this.data.multiLine?jn=2:wn.key==="Tab"&&(An.commitKey=3),jn===-1)return;const{value:Bn}=wn.target;An.lastCommittedValue!==Bn&&(An.lastCommittedValue=Bn,An.userValue=Bn,(Wn=this.linkService.eventBus)==null||Wn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:u,name:"Keystroke",value:Bn,willCommit:!0,commitKey:jn,selStart:wn.target.selectionStart,selEnd:wn.target.selectionEnd}}))});const Pn=$n;$n=null,wt.addEventListener("blur",wn=>{var Bn;if(!An.focused||!wn.relatedTarget)return;An.focused=!1;const{value:jn}=wn.target;An.userValue=jn,An.lastCommittedValue!==jn&&((Bn=this.linkService.eventBus)==null||Bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:u,name:"Keystroke",value:jn,willCommit:!0,commitKey:An.commitKey,selStart:wn.target.selectionStart,selEnd:wn.target.selectionEnd}})),Pn(wn)}),($t=this.data.actions)!=null&&$t.Keystroke&&wt.addEventListener("beforeinput",wn=>{var Qn;An.lastCommittedValue=null;const{data:jn,target:Bn}=wn,{value:Wn,selectionStart:Hn,selectionEnd:Yn}=Bn;let Xn=Hn,Kn=Yn;switch(wn.inputType){case"deleteWordBackward":{const er=Wn.substring(0,Hn).match(/\w*[^\w]*$/);er&&(Xn-=er[0].length);break}case"deleteWordForward":{const er=Wn.substring(Hn).match(/^[^\w]*\w*/);er&&(Kn+=er[0].length);break}case"deleteContentBackward":Hn===Yn&&(Xn-=1);break;case"deleteContentForward":Hn===Yn&&(Kn+=1);break}wn.preventDefault(),(Qn=this.linkService.eventBus)==null||Qn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:u,name:"Keystroke",value:Wn,change:jn||"",willCommit:!1,selStart:Xn,selEnd:Kn}})}),this._setEventListeners(wt,An,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],wn=>wn.target.value)}if($n&&wt.addEventListener("blur",$n),this.data.comb){const wn=(this.data.rect[2]-this.data.rect[0])/dn;wt.classList.add("comb"),wt.style.letterSpacing=`calc(${wn}px * var(--scale-factor) - 1ch)`}}else wt=document.createElement("div"),wt.textContent=this.data.fieldValue,wt.style.verticalAlign="middle",wt.style.display="table-cell";return this._setTextStyle(wt),this._setBackgroundColor(wt),this._setDefaultPropertiesFromJS(wt),this.container.append(wt),this.container}}class xt extends ft{constructor(Dt){super(Dt,{isRenderable:!!Dt.data.hasOwnCanvas})}}class yt extends ft{constructor(Dt){super(Dt,{isRenderable:Dt.renderForms})}render(){const Dt=this.annotationStorage,u=this.data,wt=u.id;let Mt=Dt.getValue(wt,{value:u.exportValue===u.fieldValue}).value;typeof Mt=="string"&&(Mt=Mt!=="Off",Dt.setValue(wt,{value:Mt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const $t=document.createElement("input");return St.add($t),$t.setAttribute("data-element-id",wt),$t.disabled=u.readOnly,this._setRequired($t,this.data.required),$t.type="checkbox",$t.name=u.fieldName,Mt&&$t.setAttribute("checked",!0),$t.setAttribute("exportValue",u.exportValue),$t.tabIndex=N,$t.addEventListener("change",Yt=>{const{name:sn,checked:dn}=Yt.target;for(const xn of this._getElementsByName(sn,wt)){const An=dn&&xn.exportValue===u.exportValue;xn.domElement&&(xn.domElement.checked=An),Dt.setValue(xn.id,{value:An})}Dt.setValue(wt,{value:dn})}),$t.addEventListener("resetform",Yt=>{const sn=u.defaultFieldValue||"Off";Yt.target.checked=sn===u.exportValue}),this.enableScripting&&this.hasJSActions&&($t.addEventListener("updatefromsandbox",Yt=>{const sn={value(dn){dn.target.checked=dn.detail.value!=="Off",Dt.setValue(wt,{value:dn.target.checked})}};this._dispatchEventFromSandbox(sn,Yt)}),this._setEventListeners($t,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Yt=>Yt.target.checked)),this._setBackgroundColor($t),this._setDefaultPropertiesFromJS($t),this.container.append($t),this.container}}class p extends ft{constructor(Dt){super(Dt,{isRenderable:Dt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Dt=this.annotationStorage,u=this.data,wt=u.id;let Mt=Dt.getValue(wt,{value:u.fieldValue===u.buttonValue}).value;typeof Mt=="string"&&(Mt=Mt!==u.buttonValue,Dt.setValue(wt,{value:Mt}));const $t=document.createElement("input");if(St.add($t),$t.setAttribute("data-element-id",wt),$t.disabled=u.readOnly,this._setRequired($t,this.data.required),$t.type="radio",$t.name=u.fieldName,Mt&&$t.setAttribute("checked",!0),$t.tabIndex=N,$t.addEventListener("change",Yt=>{const{name:sn,checked:dn}=Yt.target;for(const xn of this._getElementsByName(sn,wt))Dt.setValue(xn.id,{value:!1});Dt.setValue(wt,{value:dn})}),$t.addEventListener("resetform",Yt=>{const sn=u.defaultFieldValue;Yt.target.checked=sn!=null&&sn===u.buttonValue}),this.enableScripting&&this.hasJSActions){const Yt=u.buttonValue;$t.addEventListener("updatefromsandbox",sn=>{const dn={value:xn=>{const An=Yt===xn.detail.value;for(const $n of this._getElementsByName(xn.target.name)){const Pn=An&&$n.id===wt;$n.domElement&&($n.domElement.checked=Pn),Dt.setValue($n.id,{value:Pn})}}};this._dispatchEventFromSandbox(dn,sn)}),this._setEventListeners($t,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],sn=>sn.target.checked)}return this._setBackgroundColor($t),this._setDefaultPropertiesFromJS($t),this.container.append($t),this.container}}class pe extends gt{constructor(Dt){super(Dt,{ignoreBorder:Dt.data.hasAppearance})}render(){const Dt=super.render();Dt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Dt.title=this.data.alternativeText);const u=Dt.lastChild;return this.enableScripting&&this.hasJSActions&&u&&(this._setDefaultPropertiesFromJS(u),u.addEventListener("updatefromsandbox",wt=>{this._dispatchEventFromSandbox({},wt)})),Dt}}class At extends ft{constructor(Dt){super(Dt,{isRenderable:Dt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Dt=this.annotationStorage,u=this.data.id,wt=Dt.getValue(u,{value:this.data.fieldValue}),Mt=document.createElement("select");St.add(Mt),Mt.setAttribute("data-element-id",u),Mt.disabled=this.data.readOnly,this._setRequired(Mt,this.data.required),Mt.name=this.data.fieldName,Mt.tabIndex=N;let $t=this.data.combo&&this.data.options.length>0;this.data.combo||(Mt.size=this.data.options.length,this.data.multiSelect&&(Mt.multiple=!0)),Mt.addEventListener("resetform",An=>{const $n=this.data.defaultFieldValue;for(const Pn of Mt.options)Pn.selected=Pn.value===$n});for(const An of this.data.options){const $n=document.createElement("option");$n.textContent=An.displayValue,$n.value=An.exportValue,wt.value.includes(An.exportValue)&&($n.setAttribute("selected",!0),$t=!1),Mt.append($n)}let Yt=null;if($t){const An=document.createElement("option");An.value=" ",An.setAttribute("hidden",!0),An.setAttribute("selected",!0),Mt.prepend(An),Yt=()=>{An.remove(),Mt.removeEventListener("input",Yt),Yt=null},Mt.addEventListener("input",Yt)}const sn=An=>{const $n=An?"value":"textContent",{options:Pn,multiple:wn}=Mt;return wn?Array.prototype.filter.call(Pn,jn=>jn.selected).map(jn=>jn[$n]):Pn.selectedIndex===-1?null:Pn[Pn.selectedIndex][$n]};let dn=sn(!1);const xn=An=>{const $n=An.target.options;return Array.prototype.map.call($n,Pn=>({displayValue:Pn.textContent,exportValue:Pn.value}))};return this.enableScripting&&this.hasJSActions?(Mt.addEventListener("updatefromsandbox",An=>{const $n={value(Pn){Yt==null||Yt();const wn=Pn.detail.value,jn=new Set(Array.isArray(wn)?wn:[wn]);for(const Bn of Mt.options)Bn.selected=jn.has(Bn.value);Dt.setValue(u,{value:sn(!0)}),dn=sn(!1)},multipleSelection(Pn){Mt.multiple=!0},remove(Pn){const wn=Mt.options,jn=Pn.detail.remove;wn[jn].selected=!1,Mt.remove(jn),wn.length>0&&Array.prototype.findIndex.call(wn,Wn=>Wn.selected)===-1&&(wn[0].selected=!0),Dt.setValue(u,{value:sn(!0),items:xn(Pn)}),dn=sn(!1)},clear(Pn){for(;Mt.length!==0;)Mt.remove(0);Dt.setValue(u,{value:null,items:[]}),dn=sn(!1)},insert(Pn){const{index:wn,displayValue:jn,exportValue:Bn}=Pn.detail.insert,Wn=Mt.children[wn],Hn=document.createElement("option");Hn.textContent=jn,Hn.value=Bn,Wn?Wn.before(Hn):Mt.append(Hn),Dt.setValue(u,{value:sn(!0),items:xn(Pn)}),dn=sn(!1)},items(Pn){const{items:wn}=Pn.detail;for(;Mt.length!==0;)Mt.remove(0);for(const jn of wn){const{displayValue:Bn,exportValue:Wn}=jn,Hn=document.createElement("option");Hn.textContent=Bn,Hn.value=Wn,Mt.append(Hn)}Mt.options.length>0&&(Mt.options[0].selected=!0),Dt.setValue(u,{value:sn(!0),items:xn(Pn)}),dn=sn(!1)},indices(Pn){const wn=new Set(Pn.detail.indices);for(const jn of Pn.target.options)jn.selected=wn.has(jn.index);Dt.setValue(u,{value:sn(!0)}),dn=sn(!1)},editable(Pn){Pn.target.disabled=!Pn.detail.editable}};this._dispatchEventFromSandbox($n,An)}),Mt.addEventListener("input",An=>{var Pn;const $n=sn(!0);Dt.setValue(u,{value:$n}),An.preventDefault(),(Pn=this.linkService.eventBus)==null||Pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:u,name:"Keystroke",value:dn,changeEx:$n,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Mt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],An=>An.target.value)):Mt.addEventListener("input",function(An){Dt.setValue(u,{value:sn(!0)})}),this.data.combo&&this._setTextStyle(Mt),this._setBackgroundColor(Mt),this._setDefaultPropertiesFromJS(Mt),this.container.append(Mt),this.container}}class d extends bt{constructor(Dt){const{data:u,elements:wt}=Dt;super(Dt,{isRenderable:bt._hasPopupData(u)}),this.elements=wt}render(){this.container.classList.add("popupAnnotation");const Dt=new a({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),u=[];for(const wt of this.elements)wt.popup=Dt,u.push(wt.data.id),wt.addHighlightArea();return this.container.setAttribute("aria-controls",u.map(wt=>`${n.AnnotationPrefix}${wt}`).join(",")),this.container}}class a{constructor({container:Dt,color:u,elements:wt,titleObj:Mt,modificationDate:$t,contentsObj:Yt,richText:sn,parent:dn,rect:xn,parentRect:An,open:$n}){It(this,Fn);It(this,On);It(this,Rn);It(this,Mn);It(this,Ft,null);It(this,qt,Ht(this,Fn,ki).bind(this));It(this,Bt,Ht(this,Mn,ni).bind(this));It(this,Gt,Ht(this,Rn,ti).bind(this));It(this,Zt,Ht(this,On,Pr).bind(this));It(this,an,null);It(this,nn,null);It(this,vn,null);It(this,Sn,null);It(this,hn,null);It(this,yn,null);It(this,on,!1);It(this,zt,null);It(this,Xt,null);It(this,tn,null);It(this,bn,null);It(this,mn,!1);var wn;Qt(this,nn,Dt),Qt(this,bn,Mt),Qt(this,vn,Yt),Qt(this,tn,sn),Qt(this,hn,dn),Qt(this,an,u),Qt(this,Xt,xn),Qt(this,yn,An),Qt(this,Sn,wt);const Pn=s.PDFDateString.toDateObject($t);Pn&&Qt(this,Ft,dn.l10n.get("annotation_date_string",{date:Pn.toLocaleDateString(),time:Pn.toLocaleTimeString()})),this.trigger=wt.flatMap(jn=>jn.getElementsToTriggerPopup());for(const jn of this.trigger)jn.addEventListener("click",o(this,Zt)),jn.addEventListener("mouseenter",o(this,Gt)),jn.addEventListener("mouseleave",o(this,Bt)),jn.classList.add("popupTriggerArea");for(const jn of wt)(wn=jn.container)==null||wn.addEventListener("keydown",o(this,qt));o(this,nn).hidden=!0,$n&&Ht(this,On,Pr).call(this)}render(){if(o(this,zt))return;const{page:{view:Dt},viewport:{rawDims:{pageWidth:u,pageHeight:wt,pageX:Mt,pageY:$t}}}=o(this,hn),Yt=Qt(this,zt,document.createElement("div"));if(Yt.className="popup",o(this,an)){const Xn=Yt.style.outlineColor=n.Util.makeHexColor(...o(this,an));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Yt.style.backgroundColor=`color-mix(in srgb, ${Xn} 30%, white)`:Yt.style.backgroundColor=n.Util.makeHexColor(...o(this,an).map(Qn=>Math.floor(.7*(255-Qn)+Qn)))}const sn=document.createElement("span");sn.className="header";const dn=document.createElement("h1");if(sn.append(dn),{dir:dn.dir,str:dn.textContent}=o(this,bn),Yt.append(sn),o(this,Ft)){const Xn=document.createElement("span");Xn.classList.add("popupDate"),o(this,Ft).then(Kn=>{Xn.textContent=Kn}),sn.append(Xn)}const xn=o(this,vn),An=o(this,tn);if(An!=null&&An.str&&(!(xn!=null&&xn.str)||xn.str===An.str))E.XfaLayer.render({xfaHtml:An.html,intent:"richText",div:Yt}),Yt.lastChild.classList.add("richText","popupContent");else{const Xn=this._formatContents(xn);Yt.append(Xn)}let $n=!!o(this,yn),Pn=$n?o(this,yn):o(this,Xt);for(const Xn of o(this,Sn))if(!Pn||n.Util.intersect(Xn.data.rect,Pn)!==null){Pn=Xn.data.rect,$n=!0;break}const wn=n.Util.normalizeRect([Pn[0],Dt[3]-Pn[1]+Dt[1],Pn[2],Dt[3]-Pn[3]+Dt[1]]),jn=5,Bn=$n?Pn[2]-Pn[0]+jn:0,Wn=wn[0]+Bn,Hn=wn[1],{style:Yn}=o(this,nn);Yn.left=`${100*(Wn-Mt)/u}%`,Yn.top=`${100*(Hn-$t)/wt}%`,o(this,nn).append(Yt)}_formatContents({str:Dt,dir:u}){const wt=document.createElement("p");wt.classList.add("popupContent"),wt.dir=u;const Mt=Dt.split(/(?:\r\n?|\n)/);for(let $t=0,Yt=Mt.length;$t<Yt;++$t){const sn=Mt[$t];wt.append(document.createTextNode(sn)),$t<Yt-1&&wt.append(document.createElement("br"))}return wt}forceHide(){Qt(this,mn,this.isVisible),o(this,mn)&&(o(this,nn).hidden=!0)}maybeShow(){o(this,mn)&&(Qt(this,mn,!1),o(this,nn).hidden=!1)}get isVisible(){return o(this,nn).hidden===!1}}Ft=new WeakMap,qt=new WeakMap,Bt=new WeakMap,Gt=new WeakMap,Zt=new WeakMap,an=new WeakMap,nn=new WeakMap,vn=new WeakMap,Sn=new WeakMap,hn=new WeakMap,yn=new WeakMap,on=new WeakMap,zt=new WeakMap,Xt=new WeakMap,tn=new WeakMap,bn=new WeakMap,mn=new WeakMap,Fn=new WeakSet,ki=function(Dt){Dt.altKey||Dt.shiftKey||Dt.ctrlKey||Dt.metaKey||(Dt.key==="Enter"||Dt.key==="Escape"&&o(this,on))&&Ht(this,On,Pr).call(this)},On=new WeakSet,Pr=function(){Qt(this,on,!o(this,on)),o(this,on)?(Ht(this,Rn,ti).call(this),o(this,nn).addEventListener("click",o(this,Zt)),o(this,nn).addEventListener("keydown",o(this,qt))):(Ht(this,Mn,ni).call(this),o(this,nn).removeEventListener("click",o(this,Zt)),o(this,nn).removeEventListener("keydown",o(this,qt)))},Rn=new WeakSet,ti=function(){o(this,zt)||this.render(),this.isVisible?o(this,on)&&o(this,nn).classList.add("focused"):(o(this,nn).hidden=!1,o(this,nn).style.zIndex=parseInt(o(this,nn).style.zIndex)+1e3)},Mn=new WeakSet,ni=function(){o(this,nn).classList.remove("focused"),!(o(this,on)||!this.isVisible)&&(o(this,nn).hidden=!0,o(this,nn).style.zIndex=parseInt(o(this,nn).style.zIndex)-1e3)};class dt extends bt{constructor(Dt){super(Dt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Dt.data.textContent,this.textPosition=Dt.data.textPosition,this.annotationEditorType=n.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Dt=document.createElement("div");Dt.classList.add("annotationTextContent"),Dt.setAttribute("role","comment");for(const u of this.textContent){const wt=document.createElement("span");wt.textContent=u,Dt.append(wt)}this.container.append(Dt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=dt;class ze extends bt{constructor(u){super(u,{isRenderable:!0,ignoreBorder:!0});It(this,Kt,null)}render(){this.container.classList.add("lineAnnotation");const u=this.data,{width:wt,height:Mt}=Tt(u.rect),$t=this.svgFactory.create(wt,Mt,!0),Yt=Qt(this,Kt,this.svgFactory.createElement("svg:line"));return Yt.setAttribute("x1",u.rect[2]-u.lineCoordinates[0]),Yt.setAttribute("y1",u.rect[3]-u.lineCoordinates[1]),Yt.setAttribute("x2",u.rect[2]-u.lineCoordinates[2]),Yt.setAttribute("y2",u.rect[3]-u.lineCoordinates[3]),Yt.setAttribute("stroke-width",u.borderStyle.width||1),Yt.setAttribute("stroke","transparent"),Yt.setAttribute("fill","transparent"),$t.append(Yt),this.container.append($t),!u.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,Kt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kt=new WeakMap;class kt extends bt{constructor(u){super(u,{isRenderable:!0,ignoreBorder:!0});It(this,Vt,null)}render(){this.container.classList.add("squareAnnotation");const u=this.data,{width:wt,height:Mt}=Tt(u.rect),$t=this.svgFactory.create(wt,Mt,!0),Yt=u.borderStyle.width,sn=Qt(this,Vt,this.svgFactory.createElement("svg:rect"));return sn.setAttribute("x",Yt/2),sn.setAttribute("y",Yt/2),sn.setAttribute("width",wt-Yt),sn.setAttribute("height",Mt-Yt),sn.setAttribute("stroke-width",Yt||1),sn.setAttribute("stroke","transparent"),sn.setAttribute("fill","transparent"),$t.append(sn),this.container.append($t),!u.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,Vt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vt=new WeakMap;class Ot extends bt{constructor(u){super(u,{isRenderable:!0,ignoreBorder:!0});It(this,fn,null)}render(){this.container.classList.add("circleAnnotation");const u=this.data,{width:wt,height:Mt}=Tt(u.rect),$t=this.svgFactory.create(wt,Mt,!0),Yt=u.borderStyle.width,sn=Qt(this,fn,this.svgFactory.createElement("svg:ellipse"));return sn.setAttribute("cx",wt/2),sn.setAttribute("cy",Mt/2),sn.setAttribute("rx",wt/2-Yt/2),sn.setAttribute("ry",Mt/2-Yt/2),sn.setAttribute("stroke-width",Yt||1),sn.setAttribute("stroke","transparent"),sn.setAttribute("fill","transparent"),$t.append(sn),this.container.append($t),!u.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,fn)}addHighlightArea(){this.container.classList.add("highlightArea")}}fn=new WeakMap;class Et extends bt{constructor(u){super(u,{isRenderable:!0,ignoreBorder:!0});It(this,gn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const u=this.data,{width:wt,height:Mt}=Tt(u.rect),$t=this.svgFactory.create(wt,Mt,!0);let Yt=[];for(const dn of u.vertices){const xn=dn.x-u.rect[0],An=u.rect[3]-dn.y;Yt.push(xn+","+An)}Yt=Yt.join(" ");const sn=Qt(this,gn,this.svgFactory.createElement(this.svgElementName));return sn.setAttribute("points",Yt),sn.setAttribute("stroke-width",u.borderStyle.width||1),sn.setAttribute("stroke","transparent"),sn.setAttribute("fill","transparent"),$t.append(sn),this.container.append($t),!u.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,gn)}addHighlightArea(){this.container.classList.add("highlightArea")}}gn=new WeakMap;class jt extends Et{constructor(Dt){super(Dt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Wt extends bt{constructor(Dt){super(Dt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Nt extends bt{constructor(u){super(u,{isRenderable:!0,ignoreBorder:!0});It(this,Vn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=n.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const u=this.data,{width:wt,height:Mt}=Tt(u.rect),$t=this.svgFactory.create(wt,Mt,!0);for(const Yt of u.inkLists){let sn=[];for(const xn of Yt){const An=xn.x-u.rect[0],$n=u.rect[3]-xn.y;sn.push(`${An},${$n}`)}sn=sn.join(" ");const dn=this.svgFactory.createElement(this.svgElementName);o(this,Vn).push(dn),dn.setAttribute("points",sn),dn.setAttribute("stroke-width",u.borderStyle.width||1),dn.setAttribute("stroke","transparent"),dn.setAttribute("fill","transparent"),!u.popupRef&&this.hasPopupData&&this._createPopup(),$t.append(dn)}return this.container.append($t),this.container}getElementsToTriggerPopup(){return o(this,Vn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vn=new WeakMap,e.InkAnnotationElement=Nt;class Lt extends bt{constructor(Dt){super(Dt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Ut extends bt{constructor(Dt){super(Dt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class ln extends bt{constructor(Dt){super(Dt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class un extends bt{constructor(Dt){super(Dt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class rn extends bt{constructor(Dt){super(Dt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=rn;class Pt extends bt{constructor(u){var $t;super(u,{isRenderable:!0});It(this,Jt);It(this,Gn,null);const{filename:wt,content:Mt}=this.data.file;this.filename=(0,s.getFilenameFromUrl)(wt,!0),this.content=Mt,($t=this.linkService.eventBus)==null||$t.dispatch("fileattachmentannotation",{source:this,filename:wt,content:Mt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:u,data:wt}=this;let Mt;wt.hasAppearance||wt.fillAlpha===0?Mt=document.createElement("div"):(Mt=document.createElement("img"),Mt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(wt.name)?"paperclip":"pushpin"}.svg`,wt.fillAlpha&&wt.fillAlpha<1&&(Mt.style=`filter: opacity(${Math.round(wt.fillAlpha*100)}%);`)),Mt.addEventListener("dblclick",Ht(this,Jt,ri).bind(this)),Qt(this,Gn,Mt);const{isMac:$t}=n.FeatureTest.platform;return u.addEventListener("keydown",Yt=>{Yt.key==="Enter"&&($t?Yt.metaKey:Yt.ctrlKey)&&Ht(this,Jt,ri).call(this)}),!wt.popupRef&&this.hasPopupData?this._createPopup():Mt.classList.add("popupTriggerArea"),u.append(Mt),u}getElementsToTriggerPopup(){return o(this,Gn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gn=new WeakMap,Jt=new WeakSet,ri=function(){var u;(u=this.downloadManager)==null||u.openOrDownloadData(this.container,this.content,this.filename)};class l{constructor({div:Dt,accessibilityManager:u,annotationCanvasMap:wt,l10n:Mt,page:$t,viewport:Yt}){It(this,Dn);It(this,pn);It(this,Cn,null);It(this,En,null);It(this,kn,new Map);this.div=Dt,Qt(this,Cn,u),Qt(this,En,wt),this.l10n=Mt,this.page=$t,this.viewport=Yt,this.zIndex=0,this.l10n||(this.l10n=Ct.NullL10n)}async render(Dt){const{annotations:u}=Dt,wt=this.div;(0,s.setLayerDimensions)(wt,this.viewport);const Mt=new Map,$t={data:null,layer:wt,linkService:Dt.linkService,downloadManager:Dt.downloadManager,imageResourcesPath:Dt.imageResourcesPath||"",renderForms:Dt.renderForms!==!1,svgFactory:new s.DOMSVGFactory,annotationStorage:Dt.annotationStorage||new b.AnnotationStorage,enableScripting:Dt.enableScripting===!0,hasJSActions:Dt.hasJSActions,fieldObjects:Dt.fieldObjects,parent:this,elements:null};for(const Yt of u){if(Yt.noHTML)continue;const sn=Yt.annotationType===n.AnnotationType.POPUP;if(sn){const An=Mt.get(Yt.id);if(!An)continue;$t.elements=An}else{const{width:An,height:$n}=Tt(Yt.rect);if(An<=0||$n<=0)continue}$t.data=Yt;const dn=vt.create($t);if(!dn.isRenderable)continue;if(!sn&&Yt.popupRef){const An=Mt.get(Yt.popupRef);An?An.push(dn):Mt.set(Yt.popupRef,[dn])}dn.annotationEditorType>0&&o(this,kn).set(dn.data.id,dn);const xn=dn.render();Yt.hidden&&(xn.style.visibility="hidden"),Ht(this,Dn,Fi).call(this,xn,Yt.id)}Ht(this,pn,ii).call(this),await this.l10n.translate(wt)}update({viewport:Dt}){const u=this.div;this.viewport=Dt,(0,s.setLayerDimensions)(u,{rotation:Dt.rotation}),Ht(this,pn,ii).call(this),u.hidden=!1}getEditableAnnotations(){return Array.from(o(this,kn).values())}getEditableAnnotation(Dt){return o(this,kn).get(Dt)}}Cn=new WeakMap,En=new WeakMap,kn=new WeakMap,Dn=new WeakSet,Fi=function(Dt,u){var Mt;const wt=Dt.firstChild||Dt;wt.id=`${n.AnnotationPrefix}${u}`,this.div.append(Dt),(Mt=o(this,Cn))==null||Mt.moveElementInDOM(this.div,Dt,wt,!1)},pn=new WeakSet,ii=function(){if(!o(this,En))return;const Dt=this.div;for(const[u,wt]of o(this,En)){const Mt=Dt.querySelector(`[data-annotation-id="${u}"]`);if(!Mt)continue;const{firstChild:$t}=Mt;$t?$t.nodeName==="CANVAS"?$t.replaceWith(wt):$t.before(wt):Mt.append(wt)}o(this,En).clear()},e.AnnotationLayer=l},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function i(b){return Math.floor(Math.max(0,Math.min(1,b))*255).toString(16).padStart(2,"0")}function n(b){return Math.max(0,Math.min(255,255*b))}class s{static CMYK_G([$e,Ct,E,N]){return["G",1-Math.min(1,.3*$e+.59*E+.11*Ct+N)]}static G_CMYK([$e]){return["CMYK",0,0,0,1-$e]}static G_RGB([$e]){return["RGB",$e,$e,$e]}static G_rgb([$e]){return $e=n($e),[$e,$e,$e]}static G_HTML([$e]){const Ct=i($e);return`#${Ct}${Ct}${Ct}`}static RGB_G([$e,Ct,E]){return["G",.3*$e+.59*Ct+.11*E]}static RGB_rgb($e){return $e.map(n)}static RGB_HTML($e){return`#${$e.map(i).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([$e,Ct,E,N]){return["RGB",1-Math.min(1,$e+N),1-Math.min(1,E+N),1-Math.min(1,Ct+N)]}static CMYK_rgb([$e,Ct,E,N]){return[n(1-Math.min(1,$e+N)),n(1-Math.min(1,E+N)),n(1-Math.min(1,Ct+N))]}static CMYK_HTML($e){const Ct=this.CMYK_RGB($e).slice(1);return this.RGB_HTML(Ct)}static RGB_CMYK([$e,Ct,E]){const N=1-$e,P=1-Ct,St=1-E,Tt=Math.min(N,P,St);return["CMYK",N,P,St,Tt]}}e.ColorConverters=s},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=n;const i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};i.print_progress_percent="{{progress}}%";function n($e,Ct){switch($e){case"find_match_count":$e=`find_match_count[${Ct.total===1?"one":"other"}]`;break;case"find_match_count_limit":$e=`find_match_count_limit[${Ct.limit===1?"one":"other"}]`;break}return i[$e]||""}function s($e,Ct){return Ct?$e.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(E,N)=>N in Ct?Ct[N]:"{{"+N+"}}"):$e}const b={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get($e,Ct=null,E=n($e,Ct)){return s(E,Ct)},async translate($e){}};e.NullL10n=b},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var n=i(25);class s{static setupStorage($e,Ct,E,N,P){const St=N.getValue(Ct,{value:null});switch(E.name){case"textarea":if(St.value!==null&&($e.textContent=St.value),P==="print")break;$e.addEventListener("input",Tt=>{N.setValue(Ct,{value:Tt.target.value})});break;case"input":if(E.attributes.type==="radio"||E.attributes.type==="checkbox"){if(St.value===E.attributes.xfaOn?$e.setAttribute("checked",!0):St.value===E.attributes.xfaOff&&$e.removeAttribute("checked"),P==="print")break;$e.addEventListener("change",Tt=>{N.setValue(Ct,{value:Tt.target.checked?Tt.target.getAttribute("xfaOn"):Tt.target.getAttribute("xfaOff")})})}else{if(St.value!==null&&$e.setAttribute("value",St.value),P==="print")break;$e.addEventListener("input",Tt=>{N.setValue(Ct,{value:Tt.target.value})})}break;case"select":if(St.value!==null){$e.setAttribute("value",St.value);for(const Tt of E.children)Tt.attributes.value===St.value?Tt.attributes.selected=!0:Tt.attributes.hasOwnProperty("selected")&&delete Tt.attributes.selected}$e.addEventListener("input",Tt=>{const vt=Tt.target.options,bt=vt.selectedIndex===-1?"":vt[vt.selectedIndex].value;N.setValue(Ct,{value:bt})});break}}static setAttributes({html:$e,element:Ct,storage:E=null,intent:N,linkService:P}){const{attributes:St}=Ct,Tt=$e instanceof HTMLAnchorElement;St.type==="radio"&&(St.name=`${St.name}-${N}`);for(const[vt,bt]of Object.entries(St))if(bt!=null)switch(vt){case"class":bt.length&&$e.setAttribute(vt,bt.join(" "));break;case"dataId":break;case"id":$e.setAttribute("data-element-id",bt);break;case"style":Object.assign($e.style,bt);break;case"textContent":$e.textContent=bt;break;default:(!Tt||vt!=="href"&&vt!=="newWindow")&&$e.setAttribute(vt,bt)}Tt&&P.addLinkAttributes($e,St.href,St.newWindow),E&&St.dataId&&this.setupStorage($e,St.dataId,Ct,E)}static render($e){var gt;const Ct=$e.annotationStorage,E=$e.linkService,N=$e.xfaHtml,P=$e.intent||"display",St=document.createElement(N.name);N.attributes&&this.setAttributes({html:St,element:N,intent:P,linkService:E});const Tt=[[N,-1,St]],vt=$e.div;if(vt.append(St),$e.viewport){const et=`matrix(${$e.viewport.transform.join(",")})`;vt.style.transform=et}P!=="richText"&&vt.setAttribute("class","xfaLayer xfaFont");const bt=[];for(;Tt.length>0;){const[et,ft,_t]=Tt.at(-1);if(ft+1===et.children.length){Tt.pop();continue}const xt=et.children[++Tt.at(-1)[1]];if(xt===null)continue;const{name:yt}=xt;if(yt==="#text"){const pe=document.createTextNode(xt.value);bt.push(pe),_t.append(pe);continue}const p=(gt=xt==null?void 0:xt.attributes)!=null&&gt.xmlns?document.createElementNS(xt.attributes.xmlns,yt):document.createElement(yt);if(_t.append(p),xt.attributes&&this.setAttributes({html:p,element:xt,storage:Ct,intent:P,linkService:E}),xt.children&&xt.children.length>0)Tt.push([xt,-1,p]);else if(xt.value){const pe=document.createTextNode(xt.value);n.XfaText.shouldBuildText(yt)&&bt.push(pe),p.append(pe)}}for(const et of vt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))et.setAttribute("readOnly",!0);return{textDivs:bt}}static update($e){const Ct=`matrix(${$e.viewport.transform.join(",")})`;$e.div.style.transform=Ct,$e.div.hidden=!1}}e.XfaLayer=s},(t,e,i)=>{var N,P,St,Tt,vt,bt,gt,et,ft,_t,xt,yt,p,pe,At,Oi,a,Di,ze,Mi,Ot,Li,jt,si,Nt,Ii,Ut,ai,un,Ni,Pt,ji,h,$i,Le,Bi,mt,Ui,Ft,Zn,Bt,oi,Zt,wr,nn,Tr,Sn,or,yn,li,zt,Cr,tn,Wi,mn,ci,Ln,zi,Nn,Hi,In,ui,cn,Rr,Vt,lr;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var n=i(1),s=i(4),b=i(29),$e=i(6),Ct=i(5);const gn=class gn extends s.AnnotationEditor{constructor(Jt){super({...Jt,name:"inkEditor"});It(this,At);It(this,a);It(this,ze);It(this,Ot);It(this,jt);It(this,Nt);It(this,Ut);It(this,un);It(this,Pt);It(this,h);It(this,Le);It(this,mt);It(this,Ft);It(this,Bt);It(this,Zt);It(this,nn);It(this,Sn);It(this,yn);It(this,zt);It(this,Nn);It(this,In);It(this,cn);It(this,Vt);It(this,N,0);It(this,P,0);It(this,St,this.canvasPointermove.bind(this));It(this,Tt,this.canvasPointerleave.bind(this));It(this,vt,this.canvasPointerup.bind(this));It(this,bt,this.canvasPointerdown.bind(this));It(this,gt,new Path2D);It(this,et,!1);It(this,ft,!1);It(this,_t,!1);It(this,xt,null);It(this,yt,0);It(this,p,0);It(this,pe,null);this.color=Jt.color||null,this.thickness=Jt.thickness||null,this.opacity=Jt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Jt){s.AnnotationEditor.initialize(Jt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Jt,_n){switch(Jt){case n.AnnotationEditorParamsType.INK_THICKNESS:gn._defaultThickness=_n;break;case n.AnnotationEditorParamsType.INK_COLOR:gn._defaultColor=_n;break;case n.AnnotationEditorParamsType.INK_OPACITY:gn._defaultOpacity=_n/100;break}}updateParams(Jt,_n){switch(Jt){case n.AnnotationEditorParamsType.INK_THICKNESS:Ht(this,At,Oi).call(this,_n);break;case n.AnnotationEditorParamsType.INK_COLOR:Ht(this,a,Di).call(this,_n);break;case n.AnnotationEditorParamsType.INK_OPACITY:Ht(this,ze,Mi).call(this,_n);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,gn._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,gn._defaultColor||s.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(gn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||gn._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||gn._defaultColor||s.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??gn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ht(this,Zt,wr).call(this),Ht(this,nn,Tr).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ht(this,Sn,or).call(this)),Ht(this,Vt,lr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,o(this,xt).disconnect(),Qt(this,xt,null),super.remove())}setParent(Jt){!this.parent&&Jt?this._uiManager.removeShouldRescale(this):this.parent&&Jt===null&&this._uiManager.addShouldRescale(this),super.setParent(Jt)}onScaleChanging(){const[Jt,_n]=this.parentDimensions,Cn=this.width*Jt,En=this.height*_n;this.setDimensions(Cn,En)}enableEditMode(){o(this,et)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",o(this,bt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",o(this,bt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){o(this,et)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Qt(this,et,!0),this.div.classList.add("disabled"),Ht(this,Vt,lr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Jt){this._focusEventsAllowed&&(super.focusin(Jt),this.enableEditMode())}canvasPointerdown(Jt){Jt.button!==0||!this.isInEditMode()||o(this,et)||(this.setInForeground(),Jt.preventDefault(),Jt.type!=="mouse"&&this.div.focus(),Ht(this,Nt,Ii).call(this,Jt.offsetX,Jt.offsetY))}canvasPointermove(Jt){Jt.preventDefault(),Ht(this,Ut,ai).call(this,Jt.offsetX,Jt.offsetY)}canvasPointerup(Jt){Jt.preventDefault(),Ht(this,Bt,oi).call(this,Jt)}canvasPointerleave(Jt){Ht(this,Bt,oi).call(this,Jt)}get isResizable(){return!this.isEmpty()&&o(this,et)}render(){if(this.div)return this.div;let Jt,_n;this.width&&(Jt=this.x,_n=this.y),super.render(),s.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(zn=>{var pn;return(pn=this.div)==null?void 0:pn.setAttribute("aria-label",zn)});const[Cn,En,kn,Dn]=Ht(this,Ot,Li).call(this);if(this.setAt(Cn,En,0,0),this.setDims(kn,Dn),Ht(this,Zt,wr).call(this),this.width){const[zn,pn]=this.parentDimensions;this.setAspectRatio(this.width*zn,this.height*pn),this.setAt(Jt*zn,_n*pn,this.width*zn,this.height*pn),Qt(this,_t,!0),Ht(this,Sn,or).call(this),this.setDims(this.width*zn,this.height*pn),Ht(this,Ft,Zn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ht(this,nn,Tr).call(this),this.div}setDimensions(Jt,_n){const Cn=Math.round(Jt),En=Math.round(_n);if(o(this,yt)===Cn&&o(this,p)===En)return;Qt(this,yt,Cn),Qt(this,p,En),this.canvas.style.visibility="hidden";const[kn,Dn]=this.parentDimensions;this.width=Jt/kn,this.height=_n/Dn,this.fixAndSetPosition(),o(this,et)&&Ht(this,yn,li).call(this,Jt,_n),Ht(this,Sn,or).call(this),Ht(this,Ft,Zn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Jt,_n,Cn){var $t,Yt,sn;if(Jt instanceof b.InkAnnotationElement)return null;const En=super.deserialize(Jt,_n,Cn);En.thickness=Jt.thickness,En.color=n.Util.makeHexColor(...Jt.color),En.opacity=Jt.opacity;const[kn,Dn]=En.pageDimensions,zn=En.width*kn,pn=En.height*Dn,Un=En.parentScale,Tn=Jt.thickness/2;Qt(En,et,!0),Qt(En,yt,Math.round(zn)),Qt(En,p,Math.round(pn));const{paths:Dt,rect:u,rotation:wt}=Jt;for(let{bezier:dn}of Dt){dn=Ht($t=gn,Ln,zi).call($t,dn,u,wt);const xn=[];En.paths.push(xn);let An=Un*(dn[0]-Tn),$n=Un*(dn[1]-Tn);for(let wn=2,jn=dn.length;wn<jn;wn+=6){const Bn=Un*(dn[wn]-Tn),Wn=Un*(dn[wn+1]-Tn),Hn=Un*(dn[wn+2]-Tn),Yn=Un*(dn[wn+3]-Tn),Xn=Un*(dn[wn+4]-Tn),Kn=Un*(dn[wn+5]-Tn);xn.push([[An,$n],[Bn,Wn],[Hn,Yn],[Xn,Kn]]),An=Xn,$n=Kn}const Pn=Ht(this,tn,Wi).call(this,xn);En.bezierPath2D.push(Pn)}const Mt=Ht(Yt=En,In,ui).call(Yt);return Qt(En,P,Math.max(s.AnnotationEditor.MIN_SIZE,Mt[2]-Mt[0])),Qt(En,N,Math.max(s.AnnotationEditor.MIN_SIZE,Mt[3]-Mt[1])),Ht(sn=En,yn,li).call(sn,zn,pn),En}serialize(){if(this.isEmpty())return null;const Jt=this.getRect(0,0),_n=s.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:_n,thickness:this.thickness,opacity:this.opacity,paths:Ht(this,Nn,Hi).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Jt),pageIndex:this.pageIndex,rect:Jt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};N=new WeakMap,P=new WeakMap,St=new WeakMap,Tt=new WeakMap,vt=new WeakMap,bt=new WeakMap,gt=new WeakMap,et=new WeakMap,ft=new WeakMap,_t=new WeakMap,xt=new WeakMap,yt=new WeakMap,p=new WeakMap,pe=new WeakMap,At=new WeakSet,Oi=function(Jt){const _n=this.thickness;this.addCommands({cmd:()=>{this.thickness=Jt,Ht(this,Vt,lr).call(this)},undo:()=>{this.thickness=_n,Ht(this,Vt,lr).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},a=new WeakSet,Di=function(Jt){const _n=this.color;this.addCommands({cmd:()=>{this.color=Jt,Ht(this,Ft,Zn).call(this)},undo:()=>{this.color=_n,Ht(this,Ft,Zn).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ze=new WeakSet,Mi=function(Jt){Jt/=100;const _n=this.opacity;this.addCommands({cmd:()=>{this.opacity=Jt,Ht(this,Ft,Zn).call(this)},undo:()=>{this.opacity=_n,Ht(this,Ft,Zn).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ot=new WeakSet,Li=function(){const{parentRotation:Jt,parentDimensions:[_n,Cn]}=this;switch(Jt){case 90:return[0,Cn,Cn,_n];case 180:return[_n,Cn,_n,Cn];case 270:return[_n,0,Cn,_n];default:return[0,0,_n,Cn]}},jt=new WeakSet,si=function(){const{ctx:Jt,color:_n,opacity:Cn,thickness:En,parentScale:kn,scaleFactor:Dn}=this;Jt.lineWidth=En*kn/Dn,Jt.lineCap="round",Jt.lineJoin="round",Jt.miterLimit=10,Jt.strokeStyle=`${_n}${(0,Ct.opacityToHex)(Cn)}`},Nt=new WeakSet,Ii=function(Jt,_n){this.canvas.addEventListener("contextmenu",$e.noContextMenu),this.canvas.addEventListener("pointerleave",o(this,Tt)),this.canvas.addEventListener("pointermove",o(this,St)),this.canvas.addEventListener("pointerup",o(this,vt)),this.canvas.removeEventListener("pointerdown",o(this,bt)),this.isEditing=!0,o(this,_t)||(Qt(this,_t,!0),Ht(this,Sn,or).call(this),this.thickness||(this.thickness=gn._defaultThickness),this.color||(this.color=gn._defaultColor||s.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=gn._defaultOpacity)),this.currentPath.push([Jt,_n]),Qt(this,ft,!1),Ht(this,jt,si).call(this),Qt(this,pe,()=>{Ht(this,h,$i).call(this),o(this,pe)&&window.requestAnimationFrame(o(this,pe))}),window.requestAnimationFrame(o(this,pe))},Ut=new WeakSet,ai=function(Jt,_n){const[Cn,En]=this.currentPath.at(-1);if(this.currentPath.length>1&&Jt===Cn&&_n===En)return;const kn=this.currentPath;let Dn=o(this,gt);if(kn.push([Jt,_n]),Qt(this,ft,!0),kn.length<=2){Dn.moveTo(...kn[0]),Dn.lineTo(Jt,_n);return}kn.length===3&&(Qt(this,gt,Dn=new Path2D),Dn.moveTo(...kn[0])),Ht(this,Le,Bi).call(this,Dn,...kn.at(-3),...kn.at(-2),Jt,_n)},un=new WeakSet,Ni=function(){if(this.currentPath.length===0)return;const Jt=this.currentPath.at(-1);o(this,gt).lineTo(...Jt)},Pt=new WeakSet,ji=function(Jt,_n){Qt(this,pe,null),Jt=Math.min(Math.max(Jt,0),this.canvas.width),_n=Math.min(Math.max(_n,0),this.canvas.height),Ht(this,Ut,ai).call(this,Jt,_n),Ht(this,un,Ni).call(this);let Cn;if(this.currentPath.length!==1)Cn=Ht(this,mt,Ui).call(this);else{const pn=[Jt,_n];Cn=[[pn,pn.slice(),pn.slice(),pn]]}const En=o(this,gt),kn=this.currentPath;this.currentPath=[],Qt(this,gt,new Path2D);const Dn=()=>{this.allRawPaths.push(kn),this.paths.push(Cn),this.bezierPath2D.push(En),this.rebuild()},zn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ht(this,Zt,wr).call(this),Ht(this,nn,Tr).call(this)),Ht(this,Vt,lr).call(this))};this.addCommands({cmd:Dn,undo:zn,mustExec:!0})},h=new WeakSet,$i=function(){if(!o(this,ft))return;Qt(this,ft,!1);const Jt=Math.ceil(this.thickness*this.parentScale),_n=this.currentPath.slice(-3),Cn=_n.map(Dn=>Dn[0]),En=_n.map(Dn=>Dn[1]);Math.min(...Cn)-Jt,Math.max(...Cn)+Jt,Math.min(...En)-Jt,Math.max(...En)+Jt;const{ctx:kn}=this;kn.save(),kn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Dn of this.bezierPath2D)kn.stroke(Dn);kn.stroke(o(this,gt)),kn.restore()},Le=new WeakSet,Bi=function(Jt,_n,Cn,En,kn,Dn,zn){const pn=(_n+En)/2,Un=(Cn+kn)/2,Tn=(En+Dn)/2,Dt=(kn+zn)/2;Jt.bezierCurveTo(pn+2*(En-pn)/3,Un+2*(kn-Un)/3,Tn+2*(En-Tn)/3,Dt+2*(kn-Dt)/3,Tn,Dt)},mt=new WeakSet,Ui=function(){const Jt=this.currentPath;if(Jt.length<=2)return[[Jt[0],Jt[0],Jt.at(-1),Jt.at(-1)]];const _n=[];let Cn,[En,kn]=Jt[0];for(Cn=1;Cn<Jt.length-2;Cn++){const[u,wt]=Jt[Cn],[Mt,$t]=Jt[Cn+1],Yt=(u+Mt)/2,sn=(wt+$t)/2,dn=[En+2*(u-En)/3,kn+2*(wt-kn)/3],xn=[Yt+2*(u-Yt)/3,sn+2*(wt-sn)/3];_n.push([[En,kn],dn,xn,[Yt,sn]]),[En,kn]=[Yt,sn]}const[Dn,zn]=Jt[Cn],[pn,Un]=Jt[Cn+1],Tn=[En+2*(Dn-En)/3,kn+2*(zn-kn)/3],Dt=[pn+2*(Dn-pn)/3,Un+2*(zn-Un)/3];return _n.push([[En,kn],Tn,Dt,[pn,Un]]),_n},Ft=new WeakSet,Zn=function(){if(this.isEmpty()){Ht(this,zt,Cr).call(this);return}Ht(this,jt,si).call(this);const{canvas:Jt,ctx:_n}=this;_n.setTransform(1,0,0,1,0,0),_n.clearRect(0,0,Jt.width,Jt.height),Ht(this,zt,Cr).call(this);for(const Cn of this.bezierPath2D)_n.stroke(Cn)},Bt=new WeakSet,oi=function(Jt){this.canvas.removeEventListener("pointerleave",o(this,Tt)),this.canvas.removeEventListener("pointermove",o(this,St)),this.canvas.removeEventListener("pointerup",o(this,vt)),this.canvas.addEventListener("pointerdown",o(this,bt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",$e.noContextMenu)},10),Ht(this,Pt,ji).call(this,Jt.offsetX,Jt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Zt=new WeakSet,wr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",s.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Jt=>{var _n;return(_n=this.canvas)==null?void 0:_n.setAttribute("aria-label",Jt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},nn=new WeakSet,Tr=function(){Qt(this,xt,new ResizeObserver(Jt=>{const _n=Jt[0].contentRect;_n.width&&_n.height&&this.setDimensions(_n.width,_n.height)})),o(this,xt).observe(this.div)},Sn=new WeakSet,or=function(){if(!o(this,_t))return;const[Jt,_n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Jt),this.canvas.height=Math.ceil(this.height*_n),Ht(this,zt,Cr).call(this)},yn=new WeakSet,li=function(Jt,_n){const Cn=Ht(this,cn,Rr).call(this),En=(Jt-Cn)/o(this,P),kn=(_n-Cn)/o(this,N);this.scaleFactor=Math.min(En,kn)},zt=new WeakSet,Cr=function(){const Jt=Ht(this,cn,Rr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Jt,this.translationY*this.scaleFactor+Jt)},tn=new WeakSet,Wi=function(Jt){const _n=new Path2D;for(let Cn=0,En=Jt.length;Cn<En;Cn++){const[kn,Dn,zn,pn]=Jt[Cn];Cn===0&&_n.moveTo(...kn),_n.bezierCurveTo(Dn[0],Dn[1],zn[0],zn[1],pn[0],pn[1])}return _n},mn=new WeakSet,ci=function(Jt,_n,Cn){const[En,kn,Dn,zn]=_n;switch(Cn){case 0:for(let pn=0,Un=Jt.length;pn<Un;pn+=2)Jt[pn]+=En,Jt[pn+1]=zn-Jt[pn+1];break;case 90:for(let pn=0,Un=Jt.length;pn<Un;pn+=2){const Tn=Jt[pn];Jt[pn]=Jt[pn+1]+En,Jt[pn+1]=Tn+kn}break;case 180:for(let pn=0,Un=Jt.length;pn<Un;pn+=2)Jt[pn]=Dn-Jt[pn],Jt[pn+1]+=kn;break;case 270:for(let pn=0,Un=Jt.length;pn<Un;pn+=2){const Tn=Jt[pn];Jt[pn]=Dn-Jt[pn+1],Jt[pn+1]=zn-Tn}break;default:throw new Error("Invalid rotation")}return Jt},Ln=new WeakSet,zi=function(Jt,_n,Cn){const[En,kn,Dn,zn]=_n;switch(Cn){case 0:for(let pn=0,Un=Jt.length;pn<Un;pn+=2)Jt[pn]-=En,Jt[pn+1]=zn-Jt[pn+1];break;case 90:for(let pn=0,Un=Jt.length;pn<Un;pn+=2){const Tn=Jt[pn];Jt[pn]=Jt[pn+1]-kn,Jt[pn+1]=Tn-En}break;case 180:for(let pn=0,Un=Jt.length;pn<Un;pn+=2)Jt[pn]=Dn-Jt[pn],Jt[pn+1]-=kn;break;case 270:for(let pn=0,Un=Jt.length;pn<Un;pn+=2){const Tn=Jt[pn];Jt[pn]=zn-Jt[pn+1],Jt[pn+1]=Dn-Tn}break;default:throw new Error("Invalid rotation")}return Jt},Nn=new WeakSet,Hi=function(Jt,_n,Cn,En){var Un,Tn;const kn=[],Dn=this.thickness/2,zn=Jt*_n+Dn,pn=Jt*Cn+Dn;for(const Dt of this.paths){const u=[],wt=[];for(let Mt=0,$t=Dt.length;Mt<$t;Mt++){const[Yt,sn,dn,xn]=Dt[Mt],An=Jt*Yt[0]+zn,$n=Jt*Yt[1]+pn,Pn=Jt*sn[0]+zn,wn=Jt*sn[1]+pn,jn=Jt*dn[0]+zn,Bn=Jt*dn[1]+pn,Wn=Jt*xn[0]+zn,Hn=Jt*xn[1]+pn;Mt===0&&(u.push(An,$n),wt.push(An,$n)),u.push(Pn,wn,jn,Bn,Wn,Hn),wt.push(Pn,wn),Mt===$t-1&&wt.push(Wn,Hn)}kn.push({bezier:Ht(Un=gn,mn,ci).call(Un,u,En,this.rotation),points:Ht(Tn=gn,mn,ci).call(Tn,wt,En,this.rotation)})}return kn},In=new WeakSet,ui=function(){let Jt=1/0,_n=-1/0,Cn=1/0,En=-1/0;for(const kn of this.paths)for(const[Dn,zn,pn,Un]of kn){const Tn=n.Util.bezierBoundingBox(...Dn,...zn,...pn,...Un);Jt=Math.min(Jt,Tn[0]),Cn=Math.min(Cn,Tn[1]),_n=Math.max(_n,Tn[2]),En=Math.max(En,Tn[3])}return[Jt,Cn,_n,En]},cn=new WeakSet,Rr=function(){return o(this,et)?Math.ceil(this.thickness*this.parentScale):0},Vt=new WeakSet,lr=function(Jt=!1){if(this.isEmpty())return;if(!o(this,et)){Ht(this,Ft,Zn).call(this);return}const _n=Ht(this,In,ui).call(this),Cn=Ht(this,cn,Rr).call(this);Qt(this,P,Math.max(s.AnnotationEditor.MIN_SIZE,_n[2]-_n[0])),Qt(this,N,Math.max(s.AnnotationEditor.MIN_SIZE,_n[3]-_n[1]));const En=Math.ceil(Cn+o(this,P)*this.scaleFactor),kn=Math.ceil(Cn+o(this,N)*this.scaleFactor),[Dn,zn]=this.parentDimensions;this.width=En/Dn,this.height=kn/zn,this.setAspectRatio(En,kn);const pn=this.translationX,Un=this.translationY;this.translationX=-_n[0],this.translationY=-_n[1],Ht(this,Sn,or).call(this),Ht(this,Ft,Zn).call(this),Qt(this,yt,En),Qt(this,p,kn),this.setDims(En,kn);const Tn=Jt?Cn/this.scaleFactor/2:0;this.translate(pn-this.translationX-Tn,Un-this.translationY-Tn)},It(gn,tn),It(gn,mn),It(gn,Ln),qn(gn,"_defaultColor",null),qn(gn,"_defaultOpacity",1),qn(gn,"_defaultThickness",1),qn(gn,"_type","ink");let E=gn;e.InkEditor=E},(t,e,i)=>{var E,N,P,St,Tt,vt,bt,gt,et,ft,_t,mr,yt,br,pe,kr,d,di,dt,Gi,kt,Vi,Et,hi,Wt,Fr,Lt,qi;Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var n=i(1),s=i(4),b=i(6),$e=i(29);const ln=class ln extends s.AnnotationEditor{constructor(Pt){super({...Pt,name:"stampEditor"});It(this,_t);It(this,yt);It(this,pe);It(this,d);It(this,dt);It(this,kt);It(this,Et);It(this,Wt);It(this,Lt);It(this,E,null);It(this,N,null);It(this,P,null);It(this,St,null);It(this,Tt,null);It(this,vt,null);It(this,bt,null);It(this,gt,null);It(this,et,!1);It(this,ft,!1);Qt(this,St,Pt.bitmapUrl),Qt(this,Tt,Pt.bitmapFile)}static initialize(Pt){s.AnnotationEditor.initialize(Pt)}static get supportedTypes(){const Pt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,n.shadow)(this,"supportedTypes",Pt.map(l=>`image/${l}`))}static get supportedTypesStr(){return(0,n.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Pt){return this.supportedTypes.includes(Pt)}static paste(Pt,l){l.pasteEditor(n.AnnotationEditorType.STAMP,{bitmapFile:Pt.getAsFile()})}remove(){var Pt,l;o(this,N)&&(Qt(this,E,null),this._uiManager.imageManager.deleteId(o(this,N)),(Pt=o(this,vt))==null||Pt.remove(),Qt(this,vt,null),(l=o(this,bt))==null||l.disconnect(),Qt(this,bt,null)),super.remove()}rebuild(){if(!this.parent){o(this,N)&&Ht(this,pe,kr).call(this);return}super.rebuild(),this.div!==null&&(o(this,N)&&Ht(this,pe,kr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(o(this,P)||o(this,E)||o(this,St)||o(this,Tt))}get isResizable(){return!0}render(){if(this.div)return this.div;let Pt,l;if(this.width&&(Pt=this.x,l=this.y),super.render(),this.div.hidden=!0,o(this,E)?Ht(this,d,di).call(this):Ht(this,pe,kr).call(this),this.width){const[h,c]=this.parentDimensions;this.setAt(Pt*h,l*c,this.width*h,this.height*c)}return this.div}static deserialize(Pt,l,h){if(Pt instanceof $e.StampAnnotationElement)return null;const c=super.deserialize(Pt,l,h),{rect:Le,bitmapUrl:Qe,bitmapId:mt,isSvg:Rt,accessibilityData:Ft}=Pt;mt&&h.imageManager.isValidId(mt)?Qt(c,N,mt):Qt(c,St,Qe),Qt(c,et,Rt);const[qt,Bt]=c.pageDimensions;return c.width=(Le[2]-Le[0])/qt,c.height=(Le[3]-Le[1])/Bt,Ft&&(c.altTextData=Ft),c}serialize(Pt=!1,l=null){if(this.isEmpty())return null;const h={annotationType:n.AnnotationEditorType.STAMP,bitmapId:o(this,N),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:o(this,et),structTreeParentId:this._structTreeParentId};if(Pt)return h.bitmapUrl=Ht(this,Wt,Fr).call(this,!0),h.accessibilityData=this.altTextData,h;const{decorative:c,altText:Le}=this.altTextData;if(!c&&Le&&(h.accessibilityData={type:"Figure",alt:Le}),l===null)return h;l.stamps||(l.stamps=new Map);const Qe=o(this,et)?(h.rect[2]-h.rect[0])*(h.rect[3]-h.rect[1]):null;if(!l.stamps.has(o(this,N)))l.stamps.set(o(this,N),{area:Qe,serialized:h}),h.bitmap=Ht(this,Wt,Fr).call(this,!1);else if(o(this,et)){const mt=l.stamps.get(o(this,N));Qe>mt.area&&(mt.area=Qe,mt.serialized.bitmap.close(),mt.serialized.bitmap=Ht(this,Wt,Fr).call(this,!1))}return h}};E=new WeakMap,N=new WeakMap,P=new WeakMap,St=new WeakMap,Tt=new WeakMap,vt=new WeakMap,bt=new WeakMap,gt=new WeakMap,et=new WeakMap,ft=new WeakMap,_t=new WeakSet,mr=function(Pt,l=!1){if(!Pt){this.remove();return}Qt(this,E,Pt.bitmap),l||(Qt(this,N,Pt.id),Qt(this,et,Pt.isSvg)),Ht(this,d,di).call(this)},yt=new WeakSet,br=function(){Qt(this,P,null),this._uiManager.enableWaiting(!1),o(this,vt)&&this.div.focus()},pe=new WeakSet,kr=function(){if(o(this,N)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(o(this,N)).then(l=>Ht(this,_t,mr).call(this,l,!0)).finally(()=>Ht(this,yt,br).call(this));return}if(o(this,St)){const l=o(this,St);Qt(this,St,null),this._uiManager.enableWaiting(!0),Qt(this,P,this._uiManager.imageManager.getFromUrl(l).then(h=>Ht(this,_t,mr).call(this,h)).finally(()=>Ht(this,yt,br).call(this)));return}if(o(this,Tt)){const l=o(this,Tt);Qt(this,Tt,null),this._uiManager.enableWaiting(!0),Qt(this,P,this._uiManager.imageManager.getFromFile(l).then(h=>Ht(this,_t,mr).call(this,h)).finally(()=>Ht(this,yt,br).call(this)));return}const Pt=document.createElement("input");Pt.type="file",Pt.accept=ln.supportedTypesStr,Qt(this,P,new Promise(l=>{Pt.addEventListener("change",async()=>{if(!Pt.files||Pt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const h=await this._uiManager.imageManager.getFromFile(Pt.files[0]);Ht(this,_t,mr).call(this,h)}l()}),Pt.addEventListener("cancel",()=>{this.remove(),l()})}).finally(()=>Ht(this,yt,br).call(this))),Pt.click()},d=new WeakSet,di=function(){const{div:Pt}=this;let{width:l,height:h}=o(this,E);const[c,Le]=this.pageDimensions,Qe=.75;if(this.width)l=this.width*c,h=this.height*Le;else if(l>Qe*c||h>Qe*Le){const qt=Math.min(Qe*c/l,Qe*Le/h);l*=qt,h*=qt}const[mt,Rt]=this.parentDimensions;this.setDims(l*mt/c,h*Rt/Le),this._uiManager.enableWaiting(!1);const Ft=Qt(this,vt,document.createElement("canvas"));Pt.append(Ft),Pt.hidden=!1,Ht(this,Et,hi).call(this,l,h),Ht(this,Lt,qi).call(this),o(this,ft)||(this.parent.addUndoableEditor(this),Qt(this,ft,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},dt=new WeakSet,Gi=function(Pt,l){var Qe;const[h,c]=this.parentDimensions;this.width=Pt/h,this.height=l/c,this.setDims(Pt,l),(Qe=this._initialOptions)!=null&&Qe.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,o(this,gt)!==null&&clearTimeout(o(this,gt)),Qt(this,gt,setTimeout(()=>{Qt(this,gt,null),Ht(this,Et,hi).call(this,Pt,l)},200))},kt=new WeakSet,Vi=function(Pt,l){const{width:h,height:c}=o(this,E);let Le=h,Qe=c,mt=o(this,E);for(;Le>2*Pt||Qe>2*l;){const Rt=Le,Ft=Qe;Le>2*Pt&&(Le=Le>=16384?Math.floor(Le/2)-1:Math.ceil(Le/2)),Qe>2*l&&(Qe=Qe>=16384?Math.floor(Qe/2)-1:Math.ceil(Qe/2));const qt=new OffscreenCanvas(Le,Qe);qt.getContext("2d").drawImage(mt,0,0,Rt,Ft,0,0,Le,Qe),mt=qt.transferToImageBitmap()}return mt},Et=new WeakSet,hi=function(Pt,l){Pt=Math.ceil(Pt),l=Math.ceil(l);const h=o(this,vt);if(!h||h.width===Pt&&h.height===l)return;h.width=Pt,h.height=l;const c=o(this,et)?o(this,E):Ht(this,kt,Vi).call(this,Pt,l),Le=h.getContext("2d");Le.filter=this._uiManager.hcmFilter,Le.drawImage(c,0,0,c.width,c.height,0,0,Pt,l)},Wt=new WeakSet,Fr=function(Pt){if(Pt){if(o(this,et)){const c=this._uiManager.imageManager.getSvgUrl(o(this,N));if(c)return c}const l=document.createElement("canvas");return{width:l.width,height:l.height}=o(this,E),l.getContext("2d").drawImage(o(this,E),0,0),l.toDataURL()}if(o(this,et)){const[l,h]=this.pageDimensions,c=Math.round(this.width*l*b.PixelsPerInch.PDF_TO_CSS_UNITS),Le=Math.round(this.height*h*b.PixelsPerInch.PDF_TO_CSS_UNITS),Qe=new OffscreenCanvas(c,Le);return Qe.getContext("2d").drawImage(o(this,E),0,0,o(this,E).width,o(this,E).height,0,0,c,Le),Qe.transferToImageBitmap()}return structuredClone(o(this,E))},Lt=new WeakSet,qi=function(){Qt(this,bt,new ResizeObserver(Pt=>{const l=Pt[0].contentRect;l.width&&l.height&&Ht(this,dt,Gi).call(this,l.width,l.height)})),o(this,bt).observe(this.div)},qn(ln,"_type","stamp");let Ct=ln;e.StampEditor=Ct}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var i=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return b.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return $e.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return Ct.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"DOMSVGFactory",{enumerable:!0,get:function(){return n.DOMSVGFactory}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return E.GlobalWorkerOptions}}),Object.defineProperty(t,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(t,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return N.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return n.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(t,"noContextMenu",{enumerable:!0,get:function(){return n.noContextMenu}}),Object.defineProperty(t,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return n.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return s.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return i.version}});var e=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),n=__w_pdfjs_require__(6),s=__w_pdfjs_require__(26),b=__w_pdfjs_require__(27),$e=__w_pdfjs_require__(5),Ct=__w_pdfjs_require__(29),E=__w_pdfjs_require__(14),N=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule,pdfjs$1=pdfjs;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function t(n,s,b,$e,Ct,E){if(E!==ReactPropTypesSecret){var N=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw N.name="Invariant Violation",N}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return i.PropTypes=i,i};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=globalThis&&globalThis.__spreadArray||function(t,e,i){if(i||arguments.length===2)for(var n=0,s=e.length,b;n<s;n++)(b||!(n in e))&&(b||(b=Array.prototype.slice.call(e,0,n)),b[n]=e[n]);return t.concat(b||Array.prototype.slice.call(e))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(t,e){var i={};return allEvents.forEach(function(n){var s=t[n];s&&(e?i[n]=function(b){return s(b,e(n))}:i[n]=s)}),i}function makeCancellablePromise(t){var e=!1,i=new Promise(function(n,s){t.then(function(b){return!e&&n(b)}).catch(function(b){return!e&&s(b)})});return{promise:i,cancel:function(){e=!0}}}function r(t){var e,i,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(i=r(t[e]))&&(n&&(n+=" "),n+=i);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function clsx(){for(var t,e,i=0,n="";i<arguments.length;)(t=arguments[i++])&&(e=r(t))&&(n&&(n+=" "),n+=e);return n}var isProduction=!0,prefix="Invariant failed";function invariant(t,e){if(!t){if(isProduction)throw new Error(prefix);var i=typeof e=="function"?e():e,n=i?"".concat(prefix,": ").concat(i):prefix;throw new Error(n)}}function warning(t,e){}const DocumentContext=reactExports.createContext(null);function Message({children:t,type:e}){return React.createElement("div",{className:`react-pdf__message react-pdf__message--${e}`},t)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(i=>{invariant(this.pdfDocument,"PDF document not loaded."),invariant(e,"Destination is not specified."),typeof e=="string"?this.pdfDocument.getDestination(e).then(i):Array.isArray(e)?i(e):e.then(i)}).then(i=>{invariant(Array.isArray(i),`"${i}" is not a valid destination array.`);const n=i[0];new Promise(s=>{invariant(this.pdfDocument,"PDF document not loaded."),n instanceof Object?this.pdfDocument.getPageIndex(n).then(b=>{s(b)}).catch(()=>{invariant(!1,`"${n}" is not a valid page reference.`)}):typeof n=="number"?s(n):invariant(!1,`"${n}" is not a valid destination reference.`)}).then(s=>{const b=s+1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(b>=1&&b<=this.pagesCount,`"${b}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:i,pageIndex:s,pageNumber:b})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const i=e-1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:i,pageNumber:e})}addLinkAttributes(e,i,n){e.href=i,e.rel=this.externalLinkRel||DEFAULT_LINK_REL,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PasswordResponses$1=PasswordResponses,isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(t){return typeof t<"u"}function isProvided(t){return isDefined(t)&&t!==null}function isString(t){return typeof t=="string"}function isArrayBuffer(t){return t instanceof ArrayBuffer}function isBlob(t){return invariant(isBrowser,"isBlob can only be used in a browser environment"),t instanceof Blob}function isDataURI(t){return isString(t)&&/^data:/.test(t)}function dataURItoByteString(t){invariant(isDataURI(t),"Invalid data URI.");const[e="",i=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(i):unescape(i)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}function displayWorkerWarning(){}function cancelRunningTask(t){t&&t.cancel&&t.cancel()}function makePageCallback(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function isCancelException(t){return t.name==="RenderingCancelledException"}function loadFromFile(t){return new Promise((e,i)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return i(new Error("Error while reading a file."));e(n.result)},n.onerror=s=>{if(!s.target)return i(new Error("Error while reading a file."));const{error:b}=s.target;if(!b)return i(new Error("Error while reading a file."));switch(b.code){case b.NOT_FOUND_ERR:return i(new Error("Error while reading a file: File not found."));case b.SECURITY_ERR:return i(new Error("Error while reading a file: Security error."));case b.ABORT_ERR:return i(new Error("Error while reading a file: Aborted."));default:return i(new Error("Error while reading a file."))}},n.readAsArrayBuffer(t)})}function reducer$1(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function useResolver(){return reactExports.useReducer(reducer$1,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs$1,eventProps=(()=>{const t={};return allEvents.forEach(e=>{t[e]=PropTypes.func}),t})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function t(e,i,n){const{[i]:s,pageNumber:b,pdf:$e}=e;if(!isDefined($e))return null;if(isDefined(s)){if(typeof s!="number")return new Error(`\`${i}\` of type \`${typeof s}\` supplied to \`${n}\`, expected \`number\`.`);if(s<0)return new Error(`Expected \`${i}\` to be greater or equal to 0.`);const{numPages:Ct}=$e;if(s+1>Ct)return new Error(`Expected \`${i}\` to be less or equal to ${Ct-1}.`)}else if(!isDefined(b))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${n}\`.`);return null},isPageNumber=function t(e,i,n){const{[i]:s,pageIndex:b,pdf:$e}=e;if(!isDefined($e))return null;if(isDefined(s)){if(typeof s!="number")return new Error(`\`${i}\` of type \`${typeof s}\` supplied to \`${n}\`, expected \`number\`.`);if(s<1)return new Error(`Expected \`${i}\` to be greater or equal to 1.`);const{numPages:Ct}=$e;if(s>Ct)return new Error(`Expected \`${i}\` to be less or equal to ${Ct}.`)}else if(!isDefined(b))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${n}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=globalThis&&globalThis.__awaiter||function(t,e,i,n){function s(b){return b instanceof i?b:new i(function($e){$e(b)})}return new(i||(i=Promise))(function(b,$e){function Ct(P){try{N(n.next(P))}catch(St){$e(St)}}function E(P){try{N(n.throw(P))}catch(St){$e(St)}}function N(P){P.done?b(P.value):s(P.value).then(Ct,E)}N((n=n.apply(t,e||[])).next())})},__rest$1=globalThis&&globalThis.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]]);return i};const{PDFDataRangeTransport}=pdfjs$1,defaultOnPassword=(t,e)=>{switch(e){case PasswordResponses$1.NEED_PASSWORD:{const i=prompt("Enter the password to open this PDF file.");t(i);break}case PasswordResponses$1.INCORRECT_PASSWORD:{const i=prompt("Invalid password. Please try again.");t(i);break}}},Document=reactExports.forwardRef(function t(e,i){var{children:n,className:s,error:b="Failed to load PDF file.",externalLinkRel:$e,externalLinkTarget:Ct,file:E,inputRef:N,imageResourcesPath:P,loading:St="Loading PDF…",noData:Tt="No PDF file specified.",onItemClick:vt,onLoadError:bt,onLoadProgress:gt,onLoadSuccess:et,onPassword:ft=defaultOnPassword,onSourceError:_t,onSourceSuccess:xt,options:yt,renderMode:p,rotate:pe}=e,At=__rest$1(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[d,a]=useResolver(),{value:dt,error:ze}=d,[kt,Ot]=useResolver(),{value:Et,error:jt}=kt,Wt=reactExports.useRef(new LinkService),Nt=reactExports.useRef([]),Lt=reactExports.useRef({scrollPageIntoView:Gt=>{const{dest:Zt,pageNumber:an,pageIndex:nn=an-1}=Gt;if(vt){vt({dest:Zt,pageIndex:nn,pageNumber:an});return}const vn=Nt.current[nn];if(vn){vn.scrollIntoView();return}}});reactExports.useImperativeHandle(i,()=>({linkService:Wt,pages:Nt,viewer:Lt}),[]);function Ut(){xt&&xt()}function ln(){ze&&(ze.toString(),_t&&_t(ze))}function un(){a({type:"RESET"})}reactExports.useEffect(un,[E,a]);const rn=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!E)return null;if(typeof E=="string")return isDataURI(E)?{data:dataURItoByteString(E)}:{url:E};if(E instanceof PDFDataRangeTransport)return{range:E};if(isArrayBuffer(E))return{data:E};if(isBrowser&&isBlob(E))return{data:yield loadFromFile(E)};if(invariant(typeof E=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant("data"in E||"range"in E||"url"in E,"Invalid parameter object: need either .data, .range or .url"),"url"in E&&typeof E.url=="string"&&isDataURI(E.url)){const{url:Gt}=E,Zt=__rest$1(E,["url"]),an=dataURItoByteString(Gt);return Object.assign({data:an},Zt)}return E}),[E]);reactExports.useEffect(()=>{const Gt=makeCancellablePromise(rn());return Gt.promise.then(Zt=>{a({type:"RESOLVE",value:Zt})}).catch(Zt=>{a({type:"REJECT",error:Zt})}),()=>{cancelRunningTask(Gt)}},[rn,a]),reactExports.useEffect(()=>{if(!(typeof dt>"u")){if(dt===!1){ln();return}Ut()}},[dt]);function Pt(){Et&&(et&&et(Et),Nt.current=new Array(Et.numPages),Wt.current.setDocument(Et))}function l(){jt&&(jt.toString(),bt&&bt(jt))}function h(){Ot({type:"RESET"})}reactExports.useEffect(h,[Ot,dt]);function c(){if(!dt)return;const Gt=yt?Object.assign(Object.assign({},dt),yt):dt,Zt=pdfjs$1.getDocument(Gt);gt&&(Zt.onProgress=gt),ft&&(Zt.onPassword=ft);const an=Zt;return an.promise.then(nn=>{Ot({type:"RESOLVE",value:nn})}).catch(nn=>{an.destroyed||Ot({type:"REJECT",error:nn})}),()=>{an.destroy()}}reactExports.useEffect(c,[yt,Ot,dt]),reactExports.useEffect(()=>{if(!(typeof Et>"u")){if(Et===!1){l();return}Pt()}},[Et]);function Le(){Wt.current.setViewer(Lt.current),Wt.current.setExternalLinkRel($e),Wt.current.setExternalLinkTarget(Ct)}reactExports.useEffect(Le,[$e,Ct]);function Qe(Gt,Zt){Nt.current[Gt]=Zt}function mt(Gt){delete Nt.current[Gt]}const Rt=reactExports.useMemo(()=>({imageResourcesPath:P,linkService:Wt.current,onItemClick:vt,pdf:Et,registerPage:Qe,renderMode:p,rotate:pe,unregisterPage:mt}),[P,vt,Et,p,pe]),Ft=reactExports.useMemo(()=>makeEventProps(At,()=>Et),[At,Et]);function qt(){return React.createElement(DocumentContext.Provider,{value:Rt},n)}function Bt(){return E?Et==null?React.createElement(Message,{type:"loading"},typeof St=="function"?St():St):Et===!1?React.createElement(Message,{type:"error"},typeof b=="function"?b():b):qt():React.createElement(Message,{type:"no-data"},typeof Tt=="function"?Tt():Tt)}return React.createElement("div",Object.assign({className:clsx("react-pdf__Document",s),ref:N,style:{"--scale-factor":"1"}},Ft),Bt())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});const Document$1=Document;function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.filter(Boolean);if(i.length<=1){var n=i[0];return n||null}return function(b){i.forEach(function($e){typeof $e=="function"?$e(b):$e&&($e.current=b)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(t){return t in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(t){return"children"in t}function isStructTreeNodeWithOnlyContentChild(t){return isStructTreeNode(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function getRoleAttributes(t){const e={};if(isStructTreeNode(t)){const{role:i}=t,n=i.match(HEADING_PATTERN);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(isPdfRole(i)){const s=PDF_ROLE_TO_HTML_ROLE[i];s&&(e.role=s)}}return e}function getBaseAttributes(t){const e={};if(isStructTreeNode(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),isStructTreeNodeWithOnlyContentChild(t)){const[i]=t.children;if(i){const n=getBaseAttributes(i);return Object.assign(Object.assign({},e),n)}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function getAttributes(t){return t?Object.assign(Object.assign({},getRoleAttributes(t)),getBaseAttributes(t)):null}function StructTreeItem({className:t,node:e}){const i=reactExports.useMemo(()=>getAttributes(e),[e]),n=reactExports.useMemo(()=>!isStructTreeNode(e)||isStructTreeNodeWithOnlyContentChild(e)?null:e.children.map((s,b)=>React.createElement(StructTreeItem,{key:b,node:s})),[e]);return React.createElement("span",Object.assign({className:t},i),n)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const t=usePageContext();invariant(t,"Unable to find Page context.");const{onGetStructTreeError:e,onGetStructTreeSuccess:i}=t,[n,s]=useResolver(),{value:b,error:$e}=n,{customTextRenderer:Ct,page:E}=t;function N(){b&&i&&i(b)}function P(){$e&&($e.toString(),e&&e($e))}function St(){s({type:"RESET"})}reactExports.useEffect(St,[s,E]);function Tt(){if(Ct||!E)return;const vt=makeCancellablePromise(E.getStructTree()),bt=vt;return vt.promise.then(gt=>{s({type:"RESOLVE",value:gt})}).catch(gt=>{s({type:"REJECT",error:gt})}),()=>cancelRunningTask(bt)}return reactExports.useEffect(Tt,[Ct,E,s]),reactExports.useEffect(()=>{if(b!==void 0){if(b===!1){P();return}N()}},[b]),b?React.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:b}):null}const ANNOTATION_MODE=pdfjs$1.AnnotationMode;function PageCanvas(t){const e=usePageContext();invariant(e,"Unable to find Page context.");const i=Object.assign(Object.assign({},e),t),{_className:n,canvasBackground:s,devicePixelRatio:b=getDevicePixelRatio(),onRenderError:$e,onRenderSuccess:Ct,page:E,renderForms:N,renderTextLayer:P,rotate:St,scale:Tt}=i,{canvasRef:vt}=t;invariant(E,"Attempted to render page canvas, but no page was specified.");const bt=reactExports.useRef(null);function gt(){E&&Ct&&Ct(makePageCallback(E,Tt))}function et(p){isCancelException(p)||(p.toString(),$e&&$e(p))}const ft=reactExports.useMemo(()=>E.getViewport({scale:Tt*b,rotation:St}),[b,E,St,Tt]),_t=reactExports.useMemo(()=>E.getViewport({scale:Tt,rotation:St}),[E,St,Tt]);function xt(){if(!E)return;E.cleanup();const{current:p}=bt;if(!p)return;p.width=ft.width,p.height=ft.height,p.style.width=`${Math.floor(_t.width)}px`,p.style.height=`${Math.floor(_t.height)}px`,p.style.visibility="hidden";const pe={annotationMode:N?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:p.getContext("2d",{alpha:!1}),viewport:ft};s&&(pe.background=s);const At=E.render(pe),d=At;return At.promise.then(()=>{p.style.visibility="",gt()}).catch(et),()=>cancelRunningTask(d)}reactExports.useEffect(xt,[s,bt,b,E,N,ft,_t]);const yt=reactExports.useCallback(()=>{const{current:p}=bt;p&&(p.width=0,p.height=0)},[bt]);return reactExports.useEffect(()=>yt,[yt]),React.createElement("canvas",{className:`${n}__canvas`,dir:"ltr",ref:mergeRefs(vt,bt),style:{display:"block",userSelect:"none"}},P?React.createElement(StructTree,null):null)}function PageSVG(){const t=usePageContext();invariant(t,"Unable to find Page context.");const{_className:e,onRenderSuccess:i,onRenderError:n,page:s,rotate:b,scale:$e}=t;invariant(s,"Attempted to render page SVG, but no page was specified.");const[Ct,E]=useResolver(),{value:N,error:P}=Ct;function St(){s&&i&&i(makePageCallback(s,$e))}function Tt(){P&&(isCancelException(P)||(P.toString(),n&&n(P)))}const vt=reactExports.useMemo(()=>s.getViewport({scale:$e,rotation:b}),[s,b,$e]);function bt(){E({type:"RESET"})}reactExports.useEffect(bt,[s,E,vt]);function gt(){if(!s)return;const xt=makeCancellablePromise(s.getOperatorList());return xt.promise.then(yt=>{new pdfjs$1.SVGGraphics(s.commonObjs,s.objs).getSVG(yt,vt).then(pe=>{if(!(pe instanceof SVGElement))throw new Error("getSVG returned unexpected result.");E({type:"RESOLVE",value:pe})}).catch(pe=>{E({type:"REJECT",error:pe})})}).catch(yt=>{E({type:"REJECT",error:yt})}),()=>cancelRunningTask(xt)}reactExports.useEffect(gt,[s,E,vt]),reactExports.useEffect(()=>{if(N!==void 0){if(N===!1){Tt();return}St()}},[N]);function et(xt){if(!xt||!N)return;xt.firstElementChild||xt.appendChild(N);const{width:yt,height:p}=vt;N.setAttribute("width",`${yt}`),N.setAttribute("height",`${p}`)}const{width:ft,height:_t}=vt;return React.createElement("div",{className:`${e}__svg`,ref:xt=>et(xt),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:ft,height:_t,userSelect:"none"}})}function isTextItem(t){return"str"in t}function TextLayer(){const t=usePageContext();invariant(t,"Unable to find Page context.");const{customTextRenderer:e,onGetTextError:i,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:b,page:$e,pageIndex:Ct,pageNumber:E,rotate:N,scale:P}=t;invariant($e,"Attempted to load page text content, but no page was specified.");const[St,Tt]=useResolver(),{value:vt,error:bt}=St,gt=reactExports.useRef(null),et=reactExports.useRef();parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10);function ft(){vt&&n&&n(vt)}function _t(){bt&&(bt.toString(),i&&i(bt))}function xt(){Tt({type:"RESET"})}reactExports.useEffect(xt,[$e,Tt]);function yt(){if(!$e)return;const ze=makeCancellablePromise($e.getTextContent()),kt=ze;return ze.promise.then(Ot=>{Tt({type:"RESOLVE",value:Ot})}).catch(Ot=>{Tt({type:"REJECT",error:Ot})}),()=>cancelRunningTask(kt)}reactExports.useEffect(yt,[$e,Tt]),reactExports.useEffect(()=>{if(vt!==void 0){if(vt===!1){_t();return}ft()}},[vt]);const p=reactExports.useCallback(()=>{b&&b()},[b]),pe=reactExports.useCallback(ze=>{ze.toString(),s&&s(ze)},[s]);function At(){const ze=et.current;ze&&ze.classList.add("active")}function d(){const ze=et.current;ze&&ze.classList.remove("active")}const a=reactExports.useMemo(()=>$e.getViewport({scale:P,rotation:N}),[$e,N,P]);function dt(){if(!$e||!vt)return;const{current:ze}=gt;if(!ze)return;ze.innerHTML="";const kt=$e.streamTextContent({includeMarkedContent:!0}),Ot={container:ze,textContentSource:kt,viewport:a},Et=pdfjs$1.renderTextLayer(Ot),jt=Et;return Et.promise.then(()=>{const Wt=document.createElement("div");Wt.className="endOfContent",ze.append(Wt),et.current=Wt;const Nt=ze.querySelectorAll('[role="presentation"]');if(e){let Lt=0;vt.items.forEach((Ut,ln)=>{if(!isTextItem(Ut))return;const un=Nt[Lt];if(!un)return;const rn=e(Object.assign({pageIndex:Ct,pageNumber:E,itemIndex:ln},Ut));un.innerHTML=rn,Lt+=Ut.str&&Ut.hasEOL?2:1})}p()}).catch(pe),()=>cancelRunningTask(jt)}return reactExports.useLayoutEffect(dt,[e,pe,p,$e,Ct,E,vt,a]),React.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:d,onMouseDown:At,ref:gt})}function AnnotationLayer(){const t=useDocumentContext();invariant(t,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const e=usePageContext();invariant(e,"Unable to find Page context.");const i=Object.assign(Object.assign({},t),e),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:b,onGetAnnotationsSuccess:$e,onRenderAnnotationLayerError:Ct,onRenderAnnotationLayerSuccess:E,page:N,pdf:P,renderForms:St,rotate:Tt,scale:vt=1}=i;invariant(N,"Attempted to load page annotations, but no page was specified.");const[bt,gt]=useResolver(),{value:et,error:ft}=bt,_t=reactExports.useRef(null);parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10);function xt(){et&&$e&&$e(et)}function yt(){ft&&(ft.toString(),b&&b(ft))}function p(){gt({type:"RESET"})}reactExports.useEffect(p,[gt,N]);function pe(){if(!N)return;const ze=makeCancellablePromise(N.getAnnotations()),kt=ze;return ze.promise.then(Ot=>{gt({type:"RESOLVE",value:Ot})}).catch(Ot=>{gt({type:"REJECT",error:Ot})}),()=>{cancelRunningTask(kt)}}reactExports.useEffect(pe,[gt,N,St]),reactExports.useEffect(()=>{if(et!==void 0){if(et===!1){yt();return}xt()}},[et]);function At(){E&&E()}function d(ze){Ct&&Ct(ze)}const a=reactExports.useMemo(()=>N.getViewport({scale:vt,rotation:Tt}),[N,Tt,vt]);function dt(){if(!P||!N||!et)return;const{current:ze}=_t;if(!ze)return;const kt=a.clone({dontFlip:!0}),Ot={accessibilityManager:null,annotationCanvasMap:null,div:ze,l10n:null,page:N,viewport:kt},Et={annotations:et,annotationStorage:P.annotationStorage,div:ze,downloadManager:null,imageResourcesPath:n,linkService:s,page:N,renderForms:St,viewport:kt};ze.innerHTML="";try{new pdfjs$1.AnnotationLayer(Ot).render(Et),At()}catch(jt){d(jt)}return()=>{}}return reactExports.useEffect(dt,[et,n,s,N,St,a]),React.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:_t})}var __rest=globalThis&&globalThis.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]]);return i};const defaultScale=1,Page=function t(e){const i=useDocumentContext();invariant(i,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const n=Object.assign(Object.assign({},i),e),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:b=!0,canvasBackground:$e,canvasRef:Ct,children:E,className:N,customRenderer:P,customTextRenderer:St,devicePixelRatio:Tt,error:vt="Failed to load the page.",height:bt,inputRef:gt,loading:et="Loading page…",noData:ft="No page specified.",onGetAnnotationsError:_t,onGetAnnotationsSuccess:xt,onGetStructTreeError:yt,onGetStructTreeSuccess:p,onGetTextError:pe,onGetTextSuccess:At,onLoadError:d,onLoadSuccess:a,onRenderAnnotationLayerError:dt,onRenderAnnotationLayerSuccess:ze,onRenderError:kt,onRenderSuccess:Ot,onRenderTextLayerError:Et,onRenderTextLayerSuccess:jt,pageIndex:Wt,pageNumber:Nt,pdf:Lt,registerPage:Ut,renderAnnotationLayer:ln=!0,renderForms:un=!1,renderMode:rn="canvas",renderTextLayer:Pt=!0,rotate:l,scale:h=defaultScale,unregisterPage:c,width:Le}=n,Qe=__rest(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[mt,Rt]=useResolver(),{value:Ft,error:qt}=mt,Bt=reactExports.useRef(null);invariant(Lt,"Attempted to load a page, but no document was specified.");const Gt=isProvided(Nt)?Nt-1:Wt??null,Zt=Nt??(isProvided(Wt)?Wt+1:null),an=l??(Ft?Ft.rotate:null),nn=reactExports.useMemo(()=>{if(!Ft)return null;let Rn=1;const In=h??defaultScale;if(Le||bt){const Mn=Ft.getViewport({scale:1,rotation:an});Le?Rn=Le/Mn.width:bt&&(Rn=bt/Mn.height)}return In*Rn},[bt,Ft,an,h,Le]);function vn(){return()=>{isProvided(Gt)&&b&&c&&c(Gt)}}reactExports.useEffect(vn,[b,Lt,Gt,c]);function Sn(){if(a){if(!Ft||!nn)return;a(makePageCallback(Ft,nn))}if(b&&Ut){if(!isProvided(Gt)||!Bt.current)return;Ut(Gt,Bt.current)}}function hn(){qt&&(qt.toString(),d&&d(qt))}function yn(){Rt({type:"RESET"})}reactExports.useEffect(yn,[Rt,Lt,Gt]);function on(){if(!Lt||!Zt)return;const Rn=makeCancellablePromise(Lt.getPage(Zt)),In=Rn;return Rn.promise.then(Mn=>{Rt({type:"RESOLVE",value:Mn})}).catch(Mn=>{Rt({type:"REJECT",error:Mn})}),()=>cancelRunningTask(In)}reactExports.useEffect(on,[Rt,Lt,Gt,Zt,Ut]),reactExports.useEffect(()=>{if(Ft!==void 0){if(Ft===!1){hn();return}Sn()}},[Ft,nn]);const zt=reactExports.useMemo(()=>Ft&&isProvided(Gt)&&Zt&&isProvided(an)&&isProvided(nn)?{_className:s,canvasBackground:$e,customTextRenderer:St,devicePixelRatio:Tt,onGetAnnotationsError:_t,onGetAnnotationsSuccess:xt,onGetStructTreeError:yt,onGetStructTreeSuccess:p,onGetTextError:pe,onGetTextSuccess:At,onRenderAnnotationLayerError:dt,onRenderAnnotationLayerSuccess:ze,onRenderError:kt,onRenderSuccess:Ot,onRenderTextLayerError:Et,onRenderTextLayerSuccess:jt,page:Ft,pageIndex:Gt,pageNumber:Zt,renderForms:un,renderTextLayer:Pt,rotate:an,scale:nn}:null,[s,$e,St,Tt,_t,xt,yt,p,pe,At,dt,ze,kt,Ot,Et,jt,Ft,Gt,Zt,un,Pt,an,nn]),Xt=reactExports.useMemo(()=>makeEventProps(Qe,()=>Ft&&(nn?makePageCallback(Ft,nn):void 0)),[Qe,Ft,nn]),tn=`${Gt}@${nn}/${an}`,bn=`${Gt}/${an}`;function mn(){switch(rn){case"custom":return invariant(P,'renderMode was set to "custom", but no customRenderer was passed.'),React.createElement(P,{key:`${tn}_custom`});case"none":return null;case"svg":return React.createElement(PageSVG,{key:`${bn}_svg`});case"canvas":default:return React.createElement(PageCanvas,{key:`${tn}_canvas`,canvasRef:Ct})}}function Fn(){return Pt?React.createElement(TextLayer,{key:`${tn}_text`}):null}function Ln(){return ln?React.createElement(AnnotationLayer,{key:`${tn}_annotations`}):null}function On(){return React.createElement(PageContext.Provider,{value:zt},mn(),Fn(),Ln(),E)}function Nn(){return Zt?Lt===null||Ft===void 0||Ft===null?React.createElement(Message,{type:"loading"},typeof et=="function"?et():et):Lt===!1||Ft===!1?React.createElement(Message,{type:"error"},typeof vt=="function"?vt():vt):On():React.createElement(Message,{type:"no-data"},typeof ft=="function"?ft():ft)}return React.createElement("div",Object.assign({className:clsx(s,N),"data-page-number":Zt,ref:mergeRefs(gt,Bt),style:{"--scale-factor":`${nn}`,backgroundColor:$e||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Xt),Nn())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});const Page$1=Page;displayWorkerWarning();pdfjs$1.GlobalWorkerOptions.workerSrc="pdf.worker.js";var SET_ZOOM_LEVEL="SET_ZOOM_LEVEL",setZoomLevel=function(t){return{type:SET_ZOOM_LEVEL,value:t}},SET_PDF_PAGINATED="SET_PDF_PAGINATED",setPDFPaginated=function(t){return{type:SET_PDF_PAGINATED,value:t}},SET_NUM_PAGES="SET_NUM_PAGES",setNumPages=function(t){return{type:SET_NUM_PAGES,value:t}},SET_CURRENT_PAGE="SET_CURRENT_PAGE",setCurrentPage=function(t){return{type:SET_CURRENT_PAGE,value:t}},__assign$6=globalThis&&globalThis.__assign||function(){return __assign$6=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$6.apply(this,arguments)},initialPDFState={defaultZoomLevel:1,zoomLevel:1,zoomJump:.1,paginated:!0,numPages:0,currentPage:1},reducer=function(t,e){switch(t===void 0&&(t=initialPDFState),e.type){case SET_ZOOM_LEVEL:{var i=e.value;return __assign$6(__assign$6({},t),{zoomLevel:i})}case SET_PDF_PAGINATED:{var i=e.value;return __assign$6(__assign$6({},t),{paginated:i})}case SET_NUM_PAGES:{var i=e.value;return __assign$6(__assign$6({},t),{numPages:i})}case SET_CURRENT_PAGE:{var i=e.value;return __assign$6(__assign$6({},t),{currentPage:i})}default:return t}},__assign$5=globalThis&&globalThis.__assign||function(){return __assign$5=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$5.apply(this,arguments)},PDFContext=reactExports.createContext({state:initialPDFState,dispatch:function(){return null}}),PDFProvider=function(t){var e,i,n,s,b,$e,Ct,E,N,P,St=t.children,Tt=t.mainState,vt=reactExports.useReducer(reducer,__assign$5(__assign$5({},initialPDFState),{defaultZoomLevel:(n=(i=(e=Tt.config)===null||e===void 0?void 0:e.pdfZoom)===null||i===void 0?void 0:i.defaultZoom)!==null&&n!==void 0?n:initialPDFState.defaultZoomLevel,zoomLevel:($e=(b=(s=Tt.config)===null||s===void 0?void 0:s.pdfZoom)===null||b===void 0?void 0:b.defaultZoom)!==null&&$e!==void 0?$e:initialPDFState.zoomLevel,zoomJump:(N=(E=(Ct=Tt.config)===null||Ct===void 0?void 0:Ct.pdfZoom)===null||E===void 0?void 0:E.zoomJump)!==null&&N!==void 0?N:initialPDFState.zoomJump,paginated:!((P=Tt.config)===null||P===void 0)&&P.pdfVerticalScrollByDefault?!1:initialPDFState.paginated,mainState:Tt})),bt=vt[0],gt=vt[1];return React.createElement(PDFContext.Provider,{value:{state:bt,dispatch:gt}},St)},__makeTemplateObject$a=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},PDFSinglePage=function(t){var e=t.pageNum,i=reactExports.useContext(PDFContext).state,n=i.mainState,s=i.paginated,b=i.zoomLevel,$e=i.numPages,Ct=i.currentPage,E=useTranslation().t,N=(n==null?void 0:n.rendererRect)||null,P=e||Ct;return React.createElement(PageWrapper,{id:"pdf-page-wrapper",last:P>=$e},!s&&React.createElement(PageTag$1,{id:"pdf-page-info"},E("pdfPluginPageNumber",{currentPage:P,allPagesCount:$e})),React.createElement(Page$1,{pageNumber:P||Ct,scale:b,height:((N==null?void 0:N.height)||100)-100,width:((N==null?void 0:N.width)||100)-100,loading:E("pdfPluginLoading")}))},PageWrapper=ut.div(templateObject_1$a||(templateObject_1$a=__makeTemplateObject$a([`
  margin: 20px 0;
`],[`
  margin: 20px 0;
`]))),PageTag$1=ut.div(templateObject_2$4||(templateObject_2$4=__makeTemplateObject$a([`
  padding: 0 0 10px 10px;
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`],[`
  padding: 0 0 10px 10px;
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`])),function(t){return t.theme.textTertiary}),templateObject_1$a,templateObject_2$4,PDFAllPages=function(){for(var t=reactExports.useContext(PDFContext).state.numPages,e=[],i=0;i<t;i++)e.push(React.createElement(PDFSinglePage,{key:i+1,pageNum:i+1}));return React.createElement(React.Fragment,null,e)},__makeTemplateObject$9=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},PDFPages=function(){var t=reactExports.useContext(PDFContext),e=t.state,i=e.mainState,n=e.paginated,s=t.dispatch,b=useTranslation().t,$e=(i==null?void 0:i.currentDocument)||null;return reactExports.useEffect(function(){s(setNumPages(initialPDFState.numPages))},[$e]),!$e||$e.fileData===void 0?null:React.createElement(DocumentPDF,{file:$e.fileData,onLoadSuccess:function(Ct){var E=Ct.numPages;return s(setNumPages(E))},loading:React.createElement("span",null,b("pdfPluginLoading"))},n?React.createElement(PDFSinglePage,null):React.createElement(PDFAllPages,null))},DocumentPDF=ut(Document$1)(templateObject_1$9||(templateObject_1$9=__makeTemplateObject$9([`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`],[`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`]))),templateObject_1$9,__assign$4=globalThis&&globalThis.__assign||function(){return __assign$4=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$4.apply(this,arguments)},PrevPDFNavIcon=function(t){return React.createElement(PDFNavArrow,__assign$4({},t,{reverse:!0}))},NextPDFNavIcon=function(t){return React.createElement(PDFNavArrow,__assign$4({},t))},PDFNavArrow=function(t){var e=t.color,i=t.size,n=t.reverse;return React.createElement("svg",{width:i||"100%",height:i||"100%",style:{transform:"".concat(n?"rotate(180deg)":"")},viewBox:"0 0 12 12",version:"1.1"},React.createElement("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{id:"Rounded",transform:"translate(-548.000000, -1000.000000)"},React.createElement("g",{id:"AV",transform:"translate(100.000000, 852.000000)"},React.createElement("g",{id:"-Round-/-AV-/-skip_next",transform:"translate(442.000000, 142.000000)"},React.createElement("g",null,React.createElement("rect",{id:"Rectangle-Copy-52",x:"0",y:"0",width:"24",height:"24"}),React.createElement("path",{d:"M7.58,16.89 L13.35,12.82 C13.91,12.42 13.91,11.58 13.35,11.19 L7.58,7.11 C6.91,6.65 6,7.12 6,7.93 L6,16.07 C6,16.88 6.91,17.35 7.58,16.89 Z M16,7 L16,17 C16,17.55 16.45,18 17,18 C17.55,18 18,17.55 18,17 L18,7 C18,6.45 17.55,6 17,6 C16.45,6 16,6.45 16,7 Z",id:"icon_color",fill:e||"#aaa"})))))))},DownloadPDFIcon=function(t){var e=t.color,i=t.size,n=t.reverse;return React.createElement("svg",{width:i||"100%",height:i||"100%",style:{transform:"".concat(n?"rotate(180deg)":"")},id:"Layer_1",viewBox:"0 0 24 24"},React.createElement("path",{d:"M20.57,9.43A8,8,0,0,0,5.26,10,5,5,0,1,0,5,20h5V18H5a3,3,0,0,1,0-6,3.1,3.1,0,0,1,.79.12l1.12.31.14-1.15a6,6,0,0,1,11.74-.82l.15.54.54.16A3.46,3.46,0,0,1,22,14.5,3.5,3.5,0,0,1,18.5,18H16v2h2.5A5.48,5.48,0,0,0,20.57,9.43Z",fill:e||"#aaa"}),React.createElement("polygon",{points:"12 11 12 15.59 10.71 14.29 9.29 15.71 13 19.41 16.71 15.71 15.29 14.29 14 15.59 14 11 12 11",fill:e||"#aaa"}))},ZoomInPDFIcon=function(t){return React.createElement(ZoomPDFIcon,__assign$4({},t))},ZoomOutPDFIcon=function(t){return React.createElement(ZoomPDFIcon,__assign$4({},t,{reverse:!0}))},ZoomPDFIcon=function(t){var e=t.color,i=t.size,n=t.reverse;return React.createElement("svg",{width:i||"100%",height:i||"100%",viewBox:"0 0 32 32",version:"1.1"},React.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{id:"search-plus-icon",fill:e||"#aaa"},React.createElement("path",{id:"search-plus",d:n?"M 13 13 L 16 13 L 19 13 L 19 16 L 16 16 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z":"M 13 13 L 13 10 L 16 10 L 16 13 L 19 13 L 19 16 L 16 16 L 16 19 L 13 19 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z"}))))},ResetZoomPDFIcon=function(t){var e=t.color,i=t.size;return React.createElement("svg",{width:i||"100%",height:i||"100%",viewBox:"0 0 24 24"},React.createElement("path",{fill:e||"#aaa",d:"M9.29,13.29,4,18.59V17a1,1,0,0,0-2,0v4a1,1,0,0,0,.08.38,1,1,0,0,0,.54.54A1,1,0,0,0,3,22H7a1,1,0,0,0,0-2H5.41l5.3-5.29a1,1,0,0,0-1.42-1.42ZM5.41,4H7A1,1,0,0,0,7,2H3a1,1,0,0,0-.38.08,1,1,0,0,0-.54.54A1,1,0,0,0,2,3V7A1,1,0,0,0,4,7V5.41l5.29,5.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42ZM21,16a1,1,0,0,0-1,1v1.59l-5.29-5.3a1,1,0,0,0-1.42,1.42L18.59,20H17a1,1,0,0,0,0,2h4a1,1,0,0,0,.38-.08,1,1,0,0,0,.54-.54A1,1,0,0,0,22,21V17A1,1,0,0,0,21,16Zm.92-13.38a1,1,0,0,0-.54-.54A1,1,0,0,0,21,2H17a1,1,0,0,0,0,2h1.59l-5.3,5.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L20,5.41V7a1,1,0,0,0,2,0V3A1,1,0,0,0,21.92,2.62Z"}))},TogglePaginationPDFIcon=function(t){var e=t.color,i=t.size,n=t.reverse;return React.createElement("svg",{width:i||"100%",height:i||"100%",style:{transform:"".concat(n?"rotate(90deg)":"")},version:"1.1",id:"Scroll_1",viewBox:"0 0 297 297",xmlSpace:"preserve"},React.createElement("path",{fill:e||"#aaa",d:`M206.004,200.723h-31.231V96.277h31.231c0.005,0,0.014,0,0.019,0c5.289,0,9.575-4.287,9.575-9.574
  c0-2.342-0.841-4.488-2.236-6.151L156.168,3.851C154.36,1.428,151.515,0,148.492,0c-3.023,0-5.868,1.428-7.675,3.851L83.302,80.98
  c-2.166,2.902-2.507,6.779-0.883,10.017c1.624,3.236,4.936,5.28,8.559,5.28h31.231v104.445H90.978c-3.623,0-6.934,2.044-8.559,5.28
  c-1.624,3.237-1.283,7.114,0.883,10.017l57.513,77.129c1.808,2.424,4.652,3.852,7.675,3.852c3.023,0,5.868-1.428,7.676-3.852
  l57.514-77.129c2.164-2.902,2.507-6.779,0.883-10.017C212.938,202.767,209.627,200.723,206.004,200.723z`}))},__makeTemplateObject$8=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},PDFPagination=function(){var t=reactExports.useContext(PDFContext),e=t.state,i=e.currentPage,n=e.numPages,s=t.dispatch,b=useTranslation().t;return React.createElement(Container$6,{id:"pdf-pagination"},React.createElement(PageNavButtonLeft,{id:"pdf-pagination-prev",onClick:function(){return s(setCurrentPage(i-1))},disabled:i===1},React.createElement(PrevPDFNavIcon,{color:"#000",size:"50%"})),React.createElement(PageTag,{id:"pdf-pagination-info"},b("pdfPluginPageNumber",{currentPage:i,allPagesCount:n})),React.createElement(PageNavButtonRight,{id:"pdf-pagination-next",onClick:function(){return s(setCurrentPage(i+1))},disabled:i>=n},React.createElement(NextPDFNavIcon,{color:"#000",size:"50%"})))},Container$6=ut.div(templateObject_1$8||(templateObject_1$8=__makeTemplateObject$8([`
  display: flex;
  align-items: center;
`],[`
  display: flex;
  align-items: center;
`]))),PageNavButtonLeft=ut(Button)(templateObject_2$3||(templateObject_2$3=__makeTemplateObject$8([`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),PageNavButtonRight=ut(PageNavButtonLeft)(templateObject_3$1||(templateObject_3$1=__makeTemplateObject$8([`
  margin: 0 20px 0 5px;
`],[`
  margin: 0 20px 0 5px;
`]))),PageTag=ut.div(templateObject_4||(templateObject_4=__makeTemplateObject$8([`
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`],[`
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`])),function(t){return t.theme.textPrimary}),templateObject_1$8,templateObject_2$3,templateObject_3$1,templateObject_4,__makeTemplateObject$7=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},PDFControls=function(){var t=useTranslation().t,e=reactExports.useContext(PDFContext),i=e.state,n=i.mainState,s=i.paginated,b=i.zoomLevel,$e=i.numPages,Ct=i.zoomJump,E=i.defaultZoomLevel,N=e.dispatch,P=(n==null?void 0:n.currentDocument)||null;return React.createElement(Container$5,{id:"pdf-controls"},s&&$e>1&&React.createElement(PDFPagination,null),(P==null?void 0:P.fileData)&&React.createElement(DownloadButton,{id:"pdf-download",href:P==null?void 0:P.fileData,download:(P==null?void 0:P.fileName)||(P==null?void 0:P.uri),title:t("downloadButtonLabel")},React.createElement(DownloadPDFIcon,{color:"#000",size:"75%"})),React.createElement(ControlButton,{id:"pdf-zoom-out",onMouseDown:function(){return N(setZoomLevel(b-Ct))}},React.createElement(ZoomOutPDFIcon,{color:"#000",size:"80%"})),React.createElement(ControlButton,{id:"pdf-zoom-in",onMouseDown:function(){return N(setZoomLevel(b+Ct))}},React.createElement(ZoomInPDFIcon,{color:"#000",size:"80%"})),React.createElement(ControlButton,{id:"pdf-zoom-reset",onMouseDown:function(){return N(setZoomLevel(E))},disabled:b===E},React.createElement(ResetZoomPDFIcon,{color:"#000",size:"70%"})),$e>1&&React.createElement(ControlButton,{id:"pdf-toggle-pagination",onMouseDown:function(){return N(setPDFPaginated(!s))}},React.createElement(TogglePaginationPDFIcon,{color:"#000",size:"70%",reverse:s})))},Container$5=ut.div(templateObject_1$7||(templateObject_1$7=__makeTemplateObject$7([`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: `,`;
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`],[`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: `,`;
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`])),function(t){return t.theme.tertiary}),ControlButton=ut(Button)(templateObject_2$2||(templateObject_2$2=__makeTemplateObject$7([`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),DownloadButton=ut(LinkButton)(templateObject_3||(templateObject_3=__makeTemplateObject$7([`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),templateObject_1$7,templateObject_2$2,templateObject_3,__makeTemplateObject$6=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};pdfjs$1.GlobalWorkerOptions.workerSrc="//unpkg.com/pdfjs-dist@".concat(pdfjs$1.version,"/build/pdf.worker.min.js");var PDFRenderer=function(t){var e=t.mainState;return React.createElement(PDFProvider,{mainState:e},React.createElement(Container$4,{id:"pdf-renderer","data-testid":"pdf-renderer"},React.createElement(PDFControls,null),React.createElement(PDFPages,null)))};PDFRenderer.fileTypes=["pdf","application/pdf"];PDFRenderer.weight=0;var Container$4=ut.div(templateObject_1$6||(templateObject_1$6=__makeTemplateObject$6([`
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow-y: auto;

  /* width */
  &::-webkit-scrollbar {
    `,`;
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: `,`; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: `,`;
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: `,`;
  }
`],[`
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow-y: auto;

  /* width */
  &::-webkit-scrollbar {
    `,`;
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: `,`; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: `,`;
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: `,`;
  }
`])),function(t){return t.theme.disableThemeScrollbar?"":"width: 10px"},function(t){return t.theme.secondary},function(t){return t.theme.tertiary},function(t){return t.theme.primary}),templateObject_1$6,__makeTemplateObject$5=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__assign$3=globalThis&&globalThis.__assign||function(){return __assign$3=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$3.apply(this,arguments)},StyledImageRenderer=ut(ImageProxyRenderer)(templateObject_1$5||(templateObject_1$5=__makeTemplateObject$5([`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position:
    0 0,
    0 10px,
    10px -10px,
    -10px 0px;
`],[`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position:
    0 0,
    0 10px,
    10px -10px,
    -10px 0px;
`]))),PNGRenderer=function(t){return React.createElement(StyledImageRenderer,__assign$3({},t))};PNGRenderer.fileTypes=["png","image/png"];PNGRenderer.weight=0;var templateObject_1$5,_this=globalThis,tiffDataView=void 0,littleEndian=void 0,fileDirectories=[],isLittleEndian=function(){var t=getBytes(2,0);if(t===18761)littleEndian=!0;else if(t===19789)littleEndian=!1;else throw TypeError("Invalid byte order value.");return littleEndian},hasTowel=function(){if(getBytes(2,2)!==42)throw RangeError("You forgot your towel!");return!0},getFieldTagName=function(t){var e={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop"},i;return t in e?i=e[t]:i="Tag"+t,i},getFieldTypeName=function(t){var e={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE"},i;return t in e&&(i=e[t]),i},getFieldTypeLength=function(t){var e;return["BYTE","ASCII","SBYTE","UNDEFINED"].indexOf(t)!==-1?e=1:["SHORT","SSHORT"].indexOf(t)!==-1?e=2:["LONG","SLONG","FLOAT"].indexOf(t)!==-1?e=4:["RATIONAL","SRATIONAL","DOUBLE"].indexOf(t)!==-1&&(e=8),e},getBits=function(t,e,i){i=i||0;var n=Math.floor(i/8),s=e+n,b=i+t,$e=32-t;if(b<=0)throw RangeError("No bits requested");if(b<=8)var Ct=24+i,E=tiffDataView.getUint8(s,littleEndian);else if(b<=16)var Ct=16+i,E=tiffDataView.getUint16(s,littleEndian);else if(b<=32)var Ct=i,E=tiffDataView.getUint32(s,littleEndian);else throw RangeError("Too many bits requested");var N={bits:E<<Ct>>>$e,byteOffset:s+Math.floor(b/8),bitOffset:b%8};return N},getBytes=function(t,e){if(t<=0)throw RangeError("No bytes requested");if(t<=1)return tiffDataView.getUint8(e,littleEndian);if(t<=2)return tiffDataView.getUint16(e,littleEndian);if(t<=3)return tiffDataView.getUint32(e,littleEndian)>>>8;if(t<=4)return tiffDataView.getUint32(e,littleEndian);throw RangeError("Too many bytes requested")},getFieldValues=function(t,e,i,n){var s=[],b=getFieldTypeLength(e),$e=b*i;if($e<=4){if(littleEndian===!1)var Ct=n>>>(4-b)*8;else var Ct=n;s.push(Ct)}else for(var E=0;E<i;E++){var N=b*E;if(b>=8)if(["RATIONAL","SRATIONAL"].indexOf(e)!==-1)s.push(getBytes(4,n+N)),s.push(getBytes(4,n+N+4));else throw TypeError("Can't handle this field type or size");else s.push(getBytes(b,n+N))}return e==="ASCII"&&s.forEach(function(P,St,Tt){Tt[St]=String.fromCharCode(P)}),s},clampColorSample=function(t,e){var i=Math.pow(2,8-e);return Math.floor(t*i+(i-1))},makeRGBAFillValue=function(t,e,i,n){return typeof n>"u"&&(n=1),"rgba("+t+", "+e+", "+i+", "+n+")"},parseFileDirectory=function(t){for(var e=getBytes(2,t),i=[],n=t+2,s=0;s<e;n+=12,s++){var b=getBytes(2,n),$e=getBytes(2,n+2),Ct=getBytes(4,n+4),E=getBytes(4,n+8),N=getFieldTagName(b),P=getFieldTypeName($e),St=getFieldValues(N,P,Ct,E);i[N]={type:P,values:St}}fileDirectories.push(i);var Tt=getBytes(4,n);return Tt===0?fileDirectories:parseFileDirectory(Tt)},parseTIFF=function(t,e){var i=e||document.createElement("canvas");if(t&&(tiffDataView=new DataView(t),littleEndian=isLittleEndian(),!!hasTowel())){var n=getBytes(4,4);fileDirectories=parseFileDirectory(n);var s=fileDirectories[0],b=s.ImageWidth.values[0],$e=s.ImageLength.values[0];i.width=b,i.height=$e;var Ct=[],E=s.Compression?s.Compression.values[0]:1,N=s.SamplesPerPixel.values[0],P=[],St=0,Tt=!1;if(s.BitsPerSample.values.forEach(function(Xt,tn,bn){P[tn]={bitsPerSample:Xt,hasBytesPerSample:!1,bytesPerSample:void 0},Xt%8===0&&(P[tn].hasBytesPerSample=!0,P[tn].bytesPerSample=Xt/8),St+=Xt},_this),St%8===0){Tt=!0;var vt=St/8}var bt=s.StripOffsets.values,gt=bt.length;if(s.StripByteCounts)var et=s.StripByteCounts.values;else if(gt===1)var et=[Math.ceil(b*$e*St/8)];else throw Error("Cannot recover from missing StripByteCounts");for(var ft=0;ft<gt;ft++){var _t=bt[ft];Ct[ft]=[];for(var xt=et[ft],yt=0,p=0,pe=1,At=!0,d=[],a=0,dt=0,ze=0;yt<xt;yt+=pe)switch(E){case 1:for(var kt=0,d=[];kt<N;kt++)if(P[kt].hasBytesPerSample){var Ot=P[kt].bytesPerSample*kt;d.push(getBytes(P[kt].bytesPerSample,_t+yt+Ot))}else{var Et=getBits(P[kt].bitsPerSample,_t+yt,p);throw d.push(Et.bits),yt=Et.byteOffset-_t,p=Et.bitOffset,RangeError("Cannot handle sub-byte bits per sample")}if(Ct[ft].push(d),Tt)pe=vt;else throw pe=0,RangeError("Cannot handle sub-byte bits per pixel");break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:break;case 7:break;case 32773:if(At){At=!1;var jt=1,Wt=1,Nt=tiffDataView.getInt8(_t+yt,littleEndian);Nt>=0&&Nt<=127?jt=Nt+1:Nt>=-127&&Nt<=-1?Wt=-Nt+1:At=!0}else{for(var Lt=getBytes(1,_t+yt),kt=0;kt<Wt;kt++){if(P[dt].hasBytesPerSample)ze=ze<<8*a|Lt,a++,a===P[dt].bytesPerSample&&(d.push(ze),ze=a=0,dt++);else throw RangeError("Cannot handle sub-byte bits per sample");dt===N&&(Ct[ft].push(d),d=[],dt=0)}jt--,jt===0&&(At=!0)}pe=1;break}}if(i.getContext){var Ut=i.getContext("2d");if(Ut.fillStyle=makeRGBAFillValue(255,255,255,0),s.RowsPerStrip)var ln=s.RowsPerStrip.values[0];else var ln=$e;var un=Ct.length,rn=$e%ln,Pt=rn===0?ln:rn,l=ln,h=0,c=s.PhotometricInterpretation.values[0],Le=[],Qe=0;if(s.ExtraSamples&&(Le=s.ExtraSamples.values,Qe=Le.length),s.ColorMap)var mt=s.ColorMap.values,Rt=Math.pow(2,P[0].bitsPerSample);for(var ft=0;ft<un;ft++){ft+1===un&&(l=Pt);for(var Ft=Ct[ft].length,qt=h*ft,Bt=0,Gt=0;Gt<Ft;Bt++)for(var Zt=0;Zt<b;Zt++,Gt++){var an=Ct[ft][Gt],nn=0,vn=0,Sn=0,hn=1;if(Qe>0){for(var yn=0;yn<Qe;yn++)if(Le[yn]===1||Le[yn]===2){hn=an[3+yn]/256;break}}switch(c){case 0:if(P[0].hasBytesPerSample)var on=Math.pow(16,P[0].bytesPerSample*2);an.forEach(function(tn,bn,mn){mn[bn]=on-tn});case 1:nn=vn=Sn=clampColorSample(an[0],P[0].bitsPerSample);break;case 2:nn=clampColorSample(an[0],P[0].bitsPerSample),vn=clampColorSample(an[1],P[1].bitsPerSample),Sn=clampColorSample(an[2],P[2].bitsPerSample);break;case 3:if(mt===void 0)throw Error("Palette image missing color map");var zt=an[0];nn=clampColorSample(mt[zt],16),vn=clampColorSample(mt[Rt+zt],16),Sn=clampColorSample(mt[2*Rt+zt],16);break;case 4:throw RangeError("Not Yet Implemented: Transparency mask");case 5:throw RangeError("Not Yet Implemented: CMYK");case 6:throw RangeError("Not Yet Implemented: YCbCr");case 8:throw RangeError("Not Yet Implemented: CIELab");default:throw RangeError("Unknown Photometric Interpretation:",c)}Ut.fillStyle=makeRGBAFillValue(nn,vn,Sn,hn),Ut.fillRect(Zt,qt+Bt,1,1)}h=l}}return i}},__makeTemplateObject$4=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__assign$2=globalThis&&globalThis.__assign||function(){return __assign$2=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$2.apply(this,arguments)},TIFFRenderer=function(t){var e=t.mainState.currentDocument,i=useTranslation().t,n=reactExports.useState(!1),s=n[0],b=n[1],$e=reactExports.useState(!1),Ct=$e[0],E=$e[1];return reactExports.useEffect(function(){if(!(!e||s)){var N=document.getElementById("tiff-img");try{N&&parseTIFF(e.fileData,N),b(!0)}catch{E(!0)}}},[e,s]),Ct?React.createElement(ImageProxyRenderer,__assign$2({},t),React.createElement("div",null,i("brokenFile"))):React.createElement(ImageProxyRenderer,__assign$2({},t),React.createElement(Canvas,{id:"tiff-img"}))};TIFFRenderer.fileTypes=["tif","tiff","image/tif","image/tiff"];TIFFRenderer.weight=0;TIFFRenderer.fileLoader=arrayBufferFileLoader;var Canvas=ut.canvas(templateObject_1$4||(templateObject_1$4=__makeTemplateObject$4([`
  max-width: 95%;
  max-height: 95%;
`],[`
  max-width: 95%;
  max-height: 95%;
`]))),templateObject_1$4,__makeTemplateObject$3=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},TXTRenderer=function(t){var e=t.mainState.currentDocument;return React.createElement(Container$3,{id:"txt-renderer"},e==null?void 0:e.fileData)};TXTRenderer.fileTypes=["txt","text/plain"];TXTRenderer.weight=0;TXTRenderer.fileLoader=textFileLoader;var Container$3=ut.div(templateObject_1$3||(templateObject_1$3=__makeTemplateObject$3([`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`],[`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`]))),templateObject_1$3,papaparse_min={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(i,n){t.exports=n()})(commonjsGlobal,function i(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},s=!n.document&&!!n.postMessage,b=n.IS_PAPA_WORKER||!1,$e={},Ct=0,E={parse:function(d,a){var dt=(a=a||{}).dynamicTyping||!1;if(At(dt)&&(a.dynamicTypingFunction=dt,dt={}),a.dynamicTyping=dt,a.transform=!!At(a.transform)&&a.transform,a.worker&&E.WORKERS_SUPPORTED){var ze=function(){if(!E.WORKERS_SUPPORTED)return!1;var Ot=(jt=n.URL||n.webkitURL||null,Wt=i.toString(),E.BLOB_URL||(E.BLOB_URL=jt.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Wt,")();"],{type:"text/javascript"})))),Et=new n.Worker(Ot),jt,Wt;return Et.onmessage=_t,Et.id=Ct++,$e[Et.id]=Et}();return ze.userStep=a.step,ze.userChunk=a.chunk,ze.userComplete=a.complete,ze.userError=a.error,a.step=At(a.step),a.chunk=At(a.chunk),a.complete=At(a.complete),a.error=At(a.error),delete a.worker,void ze.postMessage({input:d,config:a,workerId:ze.id})}var kt=null;return E.NODE_STREAM_INPUT,typeof d=="string"?(d=function(Ot){return Ot.charCodeAt(0)===65279?Ot.slice(1):Ot}(d),kt=a.download?new St(a):new vt(a)):d.readable===!0&&At(d.read)&&At(d.on)?kt=new bt(a):(n.File&&d instanceof File||d instanceof Object)&&(kt=new Tt(a)),kt.stream(d)},unparse:function(d,a){var dt=!1,ze=!0,kt=",",Ot=`\r
`,Et='"',jt=Et+Et,Wt=!1,Nt=null,Lt=!1;(function(){if(typeof a=="object"){if(typeof a.delimiter!="string"||E.BAD_DELIMITERS.filter(function(rn){return a.delimiter.indexOf(rn)!==-1}).length||(kt=a.delimiter),(typeof a.quotes=="boolean"||typeof a.quotes=="function"||Array.isArray(a.quotes))&&(dt=a.quotes),typeof a.skipEmptyLines!="boolean"&&typeof a.skipEmptyLines!="string"||(Wt=a.skipEmptyLines),typeof a.newline=="string"&&(Ot=a.newline),typeof a.quoteChar=="string"&&(Et=a.quoteChar),typeof a.header=="boolean"&&(ze=a.header),Array.isArray(a.columns)){if(a.columns.length===0)throw new Error("Option columns is empty");Nt=a.columns}a.escapeChar!==void 0&&(jt=a.escapeChar+Et),(typeof a.escapeFormulae=="boolean"||a.escapeFormulae instanceof RegExp)&&(Lt=a.escapeFormulae instanceof RegExp?a.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Ut=new RegExp(et(Et),"g");if(typeof d=="string"&&(d=JSON.parse(d)),Array.isArray(d)){if(!d.length||Array.isArray(d[0]))return ln(null,d,Wt);if(typeof d[0]=="object")return ln(Nt||Object.keys(d[0]),d,Wt)}else if(typeof d=="object")return typeof d.data=="string"&&(d.data=JSON.parse(d.data)),Array.isArray(d.data)&&(d.fields||(d.fields=d.meta&&d.meta.fields||Nt),d.fields||(d.fields=Array.isArray(d.data[0])?d.fields:typeof d.data[0]=="object"?Object.keys(d.data[0]):[]),Array.isArray(d.data[0])||typeof d.data[0]=="object"||(d.data=[d.data])),ln(d.fields||[],d.data||[],Wt);throw new Error("Unable to serialize unrecognized input");function ln(rn,Pt,l){var h="";typeof rn=="string"&&(rn=JSON.parse(rn)),typeof Pt=="string"&&(Pt=JSON.parse(Pt));var c=Array.isArray(rn)&&0<rn.length,Le=!Array.isArray(Pt[0]);if(c&&ze){for(var Qe=0;Qe<rn.length;Qe++)0<Qe&&(h+=kt),h+=un(rn[Qe],Qe);0<Pt.length&&(h+=Ot)}for(var mt=0;mt<Pt.length;mt++){var Rt=c?rn.length:Pt[mt].length,Ft=!1,qt=c?Object.keys(Pt[mt]).length===0:Pt[mt].length===0;if(l&&!c&&(Ft=l==="greedy"?Pt[mt].join("").trim()==="":Pt[mt].length===1&&Pt[mt][0].length===0),l==="greedy"&&c){for(var Bt=[],Gt=0;Gt<Rt;Gt++){var Zt=Le?rn[Gt]:Gt;Bt.push(Pt[mt][Zt])}Ft=Bt.join("").trim()===""}if(!Ft){for(var an=0;an<Rt;an++){0<an&&!qt&&(h+=kt);var nn=c&&Le?rn[an]:an;h+=un(Pt[mt][nn],an)}mt<Pt.length-1&&(!l||0<Rt&&!qt)&&(h+=Ot)}}return h}function un(rn,Pt){if(rn==null)return"";if(rn.constructor===Date)return JSON.stringify(rn).slice(1,25);var l=!1;Lt&&typeof rn=="string"&&Lt.test(rn)&&(rn="'"+rn,l=!0);var h=rn.toString().replace(Ut,jt);return(l=l||dt===!0||typeof dt=="function"&&dt(rn,Pt)||Array.isArray(dt)&&dt[Pt]||function(c,Le){for(var Qe=0;Qe<Le.length;Qe++)if(-1<c.indexOf(Le[Qe]))return!0;return!1}(h,E.BAD_DELIMITERS)||-1<h.indexOf(kt)||h.charAt(0)===" "||h.charAt(h.length-1)===" ")?Et+h+Et:h}}};if(E.RECORD_SEP=String.fromCharCode(30),E.UNIT_SEP=String.fromCharCode(31),E.BYTE_ORDER_MARK="\uFEFF",E.BAD_DELIMITERS=["\r",`
`,'"',E.BYTE_ORDER_MARK],E.WORKERS_SUPPORTED=!s&&!!n.Worker,E.NODE_STREAM_INPUT=1,E.LocalChunkSize=10485760,E.RemoteChunkSize=5242880,E.DefaultDelimiter=",",E.Parser=ft,E.ParserHandle=gt,E.NetworkStreamer=St,E.FileStreamer=Tt,E.StringStreamer=vt,E.ReadableStreamStreamer=bt,n.jQuery){var N=n.jQuery;N.fn.parse=function(d){var a=d.config||{},dt=[];return this.each(function(Ot){if(!(N(this).prop("tagName").toUpperCase()==="INPUT"&&N(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var Et=0;Et<this.files.length;Et++)dt.push({file:this.files[Et],inputElem:this,instanceConfig:N.extend({},a)})}),ze(),this;function ze(){if(dt.length!==0){var Ot,Et,jt,Wt,Nt=dt[0];if(At(d.before)){var Lt=d.before(Nt.file,Nt.inputElem);if(typeof Lt=="object"){if(Lt.action==="abort")return Ot="AbortError",Et=Nt.file,jt=Nt.inputElem,Wt=Lt.reason,void(At(d.error)&&d.error({name:Ot},Et,jt,Wt));if(Lt.action==="skip")return void kt();typeof Lt.config=="object"&&(Nt.instanceConfig=N.extend(Nt.instanceConfig,Lt.config))}else if(Lt==="skip")return void kt()}var Ut=Nt.instanceConfig.complete;Nt.instanceConfig.complete=function(ln){At(Ut)&&Ut(ln,Nt.file,Nt.inputElem),kt()},E.parse(Nt.file,Nt.instanceConfig)}else At(d.complete)&&d.complete()}function kt(){dt.splice(0,1),ze()}}}function P(d){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(a){var dt=p(a);dt.chunkSize=parseInt(dt.chunkSize),a.step||a.chunk||(dt.chunkSize=null),this._handle=new gt(dt),(this._handle.streamer=this)._config=dt}).call(this,d),this.parseChunk=function(a,dt){if(this.isFirstChunk&&At(this._config.beforeFirstChunk)){var ze=this._config.beforeFirstChunk(a);ze!==void 0&&(a=ze)}this.isFirstChunk=!1,this._halted=!1;var kt=this._partialLine+a;this._partialLine="";var Ot=this._handle.parse(kt,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Et=Ot.meta.cursor;this._finished||(this._partialLine=kt.substring(Et-this._baseIndex),this._baseIndex=Et),Ot&&Ot.data&&(this._rowCount+=Ot.data.length);var jt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(b)n.postMessage({results:Ot,workerId:E.WORKER_ID,finished:jt});else if(At(this._config.chunk)&&!dt){if(this._config.chunk(Ot,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Ot=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Ot.data),this._completeResults.errors=this._completeResults.errors.concat(Ot.errors),this._completeResults.meta=Ot.meta),this._completed||!jt||!At(this._config.complete)||Ot&&Ot.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),jt||Ot&&Ot.meta.paused||this._nextChunk(),Ot}this._halted=!0},this._sendError=function(a){At(this._config.error)?this._config.error(a):b&&this._config.error&&n.postMessage({workerId:E.WORKER_ID,error:a,finished:!1})}}function St(d){var a;(d=d||{}).chunkSize||(d.chunkSize=E.RemoteChunkSize),P.call(this,d),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(dt){this._input=dt,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(a=new XMLHttpRequest,this._config.withCredentials&&(a.withCredentials=this._config.withCredentials),s||(a.onload=pe(this._chunkLoaded,this),a.onerror=pe(this._chunkError,this)),a.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var dt=this._config.downloadRequestHeaders;for(var ze in dt)a.setRequestHeader(ze,dt[ze])}if(this._config.chunkSize){var kt=this._start+this._config.chunkSize-1;a.setRequestHeader("Range","bytes="+this._start+"-"+kt)}try{a.send(this._config.downloadRequestBody)}catch(Ot){this._chunkError(Ot.message)}s&&a.status===0&&this._chunkError()}},this._chunkLoaded=function(){a.readyState===4&&(a.status<200||400<=a.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:a.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(dt){var ze=dt.getResponseHeader("Content-Range");return ze===null?-1:parseInt(ze.substring(ze.lastIndexOf("/")+1))}(a),this.parseChunk(a.responseText)))},this._chunkError=function(dt){var ze=a.statusText||dt;this._sendError(new Error(ze))}}function Tt(d){var a,dt;(d=d||{}).chunkSize||(d.chunkSize=E.LocalChunkSize),P.call(this,d);var ze=typeof FileReader<"u";this.stream=function(kt){this._input=kt,dt=kt.slice||kt.webkitSlice||kt.mozSlice,ze?((a=new FileReader).onload=pe(this._chunkLoaded,this),a.onerror=pe(this._chunkError,this)):a=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var kt=this._input;if(this._config.chunkSize){var Ot=Math.min(this._start+this._config.chunkSize,this._input.size);kt=dt.call(kt,this._start,Ot)}var Et=a.readAsText(kt,this._config.encoding);ze||this._chunkLoaded({target:{result:Et}})},this._chunkLoaded=function(kt){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(kt.target.result)},this._chunkError=function(){this._sendError(a.error)}}function vt(d){var a;P.call(this,d=d||{}),this.stream=function(dt){return a=dt,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var dt,ze=this._config.chunkSize;return ze?(dt=a.substring(0,ze),a=a.substring(ze)):(dt=a,a=""),this._finished=!a,this.parseChunk(dt)}}}function bt(d){P.call(this,d=d||{});var a=[],dt=!0,ze=!1;this.pause=function(){P.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){P.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(kt){this._input=kt,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){ze&&a.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),a.length?this.parseChunk(a.shift()):dt=!0},this._streamData=pe(function(kt){try{a.push(typeof kt=="string"?kt:kt.toString(this._config.encoding)),dt&&(dt=!1,this._checkIsFinished(),this.parseChunk(a.shift()))}catch(Ot){this._streamError(Ot)}},this),this._streamError=pe(function(kt){this._streamCleanUp(),this._sendError(kt)},this),this._streamEnd=pe(function(){this._streamCleanUp(),ze=!0,this._streamData("")},this),this._streamCleanUp=pe(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function gt(d){var a,dt,ze,kt=Math.pow(2,53),Ot=-kt,Et=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,jt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Wt=this,Nt=0,Lt=0,Ut=!1,ln=!1,un=[],rn={data:[],errors:[],meta:{}};if(At(d.step)){var Pt=d.step;d.step=function(mt){if(rn=mt,c())h();else{if(h(),rn.data.length===0)return;Nt+=mt.data.length,d.preview&&Nt>d.preview?dt.abort():(rn.data=rn.data[0],Pt(rn,Wt))}}}function l(mt){return d.skipEmptyLines==="greedy"?mt.join("").trim()==="":mt.length===1&&mt[0].length===0}function h(){return rn&&ze&&(Qe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+E.DefaultDelimiter+"'"),ze=!1),d.skipEmptyLines&&(rn.data=rn.data.filter(function(mt){return!l(mt)})),c()&&function(){if(!rn)return;function mt(Ft,qt){At(d.transformHeader)&&(Ft=d.transformHeader(Ft,qt)),un.push(Ft)}if(Array.isArray(rn.data[0])){for(var Rt=0;c()&&Rt<rn.data.length;Rt++)rn.data[Rt].forEach(mt);rn.data.splice(0,1)}else rn.data.forEach(mt)}(),function(){if(!rn||!d.header&&!d.dynamicTyping&&!d.transform)return rn;function mt(Ft,qt){var Bt,Gt=d.header?{}:[];for(Bt=0;Bt<Ft.length;Bt++){var Zt=Bt,an=Ft[Bt];d.header&&(Zt=Bt>=un.length?"__parsed_extra":un[Bt]),d.transform&&(an=d.transform(an,Zt)),an=Le(Zt,an),Zt==="__parsed_extra"?(Gt[Zt]=Gt[Zt]||[],Gt[Zt].push(an)):Gt[Zt]=an}return d.header&&(Bt>un.length?Qe("FieldMismatch","TooManyFields","Too many fields: expected "+un.length+" fields but parsed "+Bt,Lt+qt):Bt<un.length&&Qe("FieldMismatch","TooFewFields","Too few fields: expected "+un.length+" fields but parsed "+Bt,Lt+qt)),Gt}var Rt=1;return!rn.data.length||Array.isArray(rn.data[0])?(rn.data=rn.data.map(mt),Rt=rn.data.length):rn.data=mt(rn.data,0),d.header&&rn.meta&&(rn.meta.fields=un),Lt+=Rt,rn}()}function c(){return d.header&&un.length===0}function Le(mt,Rt){return Ft=mt,d.dynamicTypingFunction&&d.dynamicTyping[Ft]===void 0&&(d.dynamicTyping[Ft]=d.dynamicTypingFunction(Ft)),(d.dynamicTyping[Ft]||d.dynamicTyping)===!0?Rt==="true"||Rt==="TRUE"||Rt!=="false"&&Rt!=="FALSE"&&(function(qt){if(Et.test(qt)){var Bt=parseFloat(qt);if(Ot<Bt&&Bt<kt)return!0}return!1}(Rt)?parseFloat(Rt):jt.test(Rt)?new Date(Rt):Rt===""?null:Rt):Rt;var Ft}function Qe(mt,Rt,Ft,qt){var Bt={type:mt,code:Rt,message:Ft};qt!==void 0&&(Bt.row=qt),rn.errors.push(Bt)}this.parse=function(mt,Rt,Ft){var qt=d.quoteChar||'"';if(d.newline||(d.newline=function(Zt,an){Zt=Zt.substring(0,1048576);var nn=new RegExp(et(an)+"([^]*?)"+et(an),"gm"),vn=(Zt=Zt.replace(nn,"")).split("\r"),Sn=Zt.split(`
`),hn=1<Sn.length&&Sn[0].length<vn[0].length;if(vn.length===1||hn)return`
`;for(var yn=0,on=0;on<vn.length;on++)vn[on][0]===`
`&&yn++;return yn>=vn.length/2?`\r
`:"\r"}(mt,qt)),ze=!1,d.delimiter)At(d.delimiter)&&(d.delimiter=d.delimiter(mt),rn.meta.delimiter=d.delimiter);else{var Bt=function(Zt,an,nn,vn,Sn){var hn,yn,on,zt;Sn=Sn||[",","	","|",";",E.RECORD_SEP,E.UNIT_SEP];for(var Xt=0;Xt<Sn.length;Xt++){var tn=Sn[Xt],bn=0,mn=0,Fn=0;on=void 0;for(var Ln=new ft({comments:vn,delimiter:tn,newline:an,preview:10}).parse(Zt),On=0;On<Ln.data.length;On++)if(nn&&l(Ln.data[On]))Fn++;else{var Nn=Ln.data[On].length;mn+=Nn,on!==void 0?0<Nn&&(bn+=Math.abs(Nn-on),on=Nn):on=Nn}0<Ln.data.length&&(mn/=Ln.data.length-Fn),(yn===void 0||bn<=yn)&&(zt===void 0||zt<mn)&&1.99<mn&&(yn=bn,hn=tn,zt=mn)}return{successful:!!(d.delimiter=hn),bestDelimiter:hn}}(mt,d.newline,d.skipEmptyLines,d.comments,d.delimitersToGuess);Bt.successful?d.delimiter=Bt.bestDelimiter:(ze=!0,d.delimiter=E.DefaultDelimiter),rn.meta.delimiter=d.delimiter}var Gt=p(d);return d.preview&&d.header&&Gt.preview++,a=mt,dt=new ft(Gt),rn=dt.parse(a,Rt,Ft),h(),Ut?{meta:{paused:!0}}:rn||{meta:{paused:!1}}},this.paused=function(){return Ut},this.pause=function(){Ut=!0,dt.abort(),a=At(d.chunk)?"":a.substring(dt.getCharIndex())},this.resume=function(){Wt.streamer._halted?(Ut=!1,Wt.streamer.parseChunk(a,!0)):setTimeout(Wt.resume,3)},this.aborted=function(){return ln},this.abort=function(){ln=!0,dt.abort(),rn.meta.aborted=!0,At(d.complete)&&d.complete(rn),a=""}}function et(d){return d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ft(d){var a,dt=(d=d||{}).delimiter,ze=d.newline,kt=d.comments,Ot=d.step,Et=d.preview,jt=d.fastMode,Wt=a=d.quoteChar===void 0||d.quoteChar===null?'"':d.quoteChar;if(d.escapeChar!==void 0&&(Wt=d.escapeChar),(typeof dt!="string"||-1<E.BAD_DELIMITERS.indexOf(dt))&&(dt=","),kt===dt)throw new Error("Comment character same as delimiter");kt===!0?kt="#":(typeof kt!="string"||-1<E.BAD_DELIMITERS.indexOf(kt))&&(kt=!1),ze!==`
`&&ze!=="\r"&&ze!==`\r
`&&(ze=`
`);var Nt=0,Lt=!1;this.parse=function(Ut,ln,un){if(typeof Ut!="string")throw new Error("Input must be a string");var rn=Ut.length,Pt=dt.length,l=ze.length,h=kt.length,c=At(Ot),Le=[],Qe=[],mt=[],Rt=Nt=0;if(!Ut)return Rn();if(d.header&&!ln){var Ft=Ut.split(ze)[0].split(dt),qt=[],Bt={},Gt=!1;for(var Zt in Ft){var an=Ft[Zt];At(d.transformHeader)&&(an=d.transformHeader(an,Zt));var nn=an,vn=Bt[an]||0;for(0<vn&&(Gt=!0,nn=an+"_"+vn),Bt[an]=vn+1;qt.includes(nn);)nn=nn+"_"+vn;qt.push(nn)}if(Gt){var Sn=Ut.split(ze);Sn[0]=qt.join(dt),Ut=Sn.join(ze)}}if(jt||jt!==!1&&Ut.indexOf(a)===-1){for(var hn=Ut.split(ze),yn=0;yn<hn.length;yn++){if(mt=hn[yn],Nt+=mt.length,yn!==hn.length-1)Nt+=ze.length;else if(un)return Rn();if(!kt||mt.substring(0,h)!==kt){if(c){if(Le=[],Fn(mt.split(dt)),In(),Lt)return Rn()}else Fn(mt.split(dt));if(Et&&Et<=yn)return Le=Le.slice(0,Et),Rn(!0)}}return Rn()}for(var on=Ut.indexOf(dt,Nt),zt=Ut.indexOf(ze,Nt),Xt=new RegExp(et(Wt)+et(a),"g"),tn=Ut.indexOf(a,Nt);;)if(Ut[Nt]!==a)if(kt&&mt.length===0&&Ut.substring(Nt,Nt+h)===kt){if(zt===-1)return Rn();Nt=zt+l,zt=Ut.indexOf(ze,Nt),on=Ut.indexOf(dt,Nt)}else if(on!==-1&&(on<zt||zt===-1))mt.push(Ut.substring(Nt,on)),Nt=on+Pt,on=Ut.indexOf(dt,Nt);else{if(zt===-1)break;if(mt.push(Ut.substring(Nt,zt)),Nn(zt+l),c&&(In(),Lt))return Rn();if(Et&&Le.length>=Et)return Rn(!0)}else for(tn=Nt,Nt++;;){if((tn=Ut.indexOf(a,tn+1))===-1)return un||Qe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Le.length,index:Nt}),On();if(tn===rn-1)return On(Ut.substring(Nt,tn).replace(Xt,a));if(a!==Wt||Ut[tn+1]!==Wt){if(a===Wt||tn===0||Ut[tn-1]!==Wt){on!==-1&&on<tn+1&&(on=Ut.indexOf(dt,tn+1)),zt!==-1&&zt<tn+1&&(zt=Ut.indexOf(ze,tn+1));var bn=Ln(zt===-1?on:Math.min(on,zt));if(Ut.substr(tn+1+bn,Pt)===dt){mt.push(Ut.substring(Nt,tn).replace(Xt,a)),Ut[Nt=tn+1+bn+Pt]!==a&&(tn=Ut.indexOf(a,Nt)),on=Ut.indexOf(dt,Nt),zt=Ut.indexOf(ze,Nt);break}var mn=Ln(zt);if(Ut.substring(tn+1+mn,tn+1+mn+l)===ze){if(mt.push(Ut.substring(Nt,tn).replace(Xt,a)),Nn(tn+1+mn+l),on=Ut.indexOf(dt,Nt),tn=Ut.indexOf(a,Nt),c&&(In(),Lt))return Rn();if(Et&&Le.length>=Et)return Rn(!0);break}Qe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Le.length,index:Nt}),tn++}}else tn++}return On();function Fn(Mn){Le.push(Mn),Rt=Nt}function Ln(Mn){var cn=0;if(Mn!==-1){var Kt=Ut.substring(tn+1,Mn);Kt&&Kt.trim()===""&&(cn=Kt.length)}return cn}function On(Mn){return un||(Mn===void 0&&(Mn=Ut.substring(Nt)),mt.push(Mn),Nt=rn,Fn(mt),c&&In()),Rn()}function Nn(Mn){Nt=Mn,Fn(mt),mt=[],zt=Ut.indexOf(ze,Nt)}function Rn(Mn){return{data:Le,errors:Qe,meta:{delimiter:dt,linebreak:ze,aborted:Lt,truncated:!!Mn,cursor:Rt+(ln||0)}}}function In(){Ot(Rn()),Le=[],Qe=[]}},this.abort=function(){Lt=!0},this.getCharIndex=function(){return Nt}}function _t(d){var a=d.data,dt=$e[a.workerId],ze=!1;if(a.error)dt.userError(a.error,a.file);else if(a.results&&a.results.data){var kt={abort:function(){ze=!0,xt(a.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:yt,resume:yt};if(At(dt.userStep)){for(var Ot=0;Ot<a.results.data.length&&(dt.userStep({data:a.results.data[Ot],errors:a.results.errors,meta:a.results.meta},kt),!ze);Ot++);delete a.results}else At(dt.userChunk)&&(dt.userChunk(a.results,kt,a.file),delete a.results)}a.finished&&!ze&&xt(a.workerId,a.results)}function xt(d,a){var dt=$e[d];At(dt.userComplete)&&dt.userComplete(a),dt.terminate(),delete $e[d]}function yt(){throw new Error("Not implemented.")}function p(d){if(typeof d!="object"||d===null)return d;var a=Array.isArray(d)?[]:{};for(var dt in d)a[dt]=p(d[dt]);return a}function pe(d,a){return function(){d.apply(a,arguments)}}function At(d){return typeof d=="function"}return b&&(n.onmessage=function(d){var a=d.data;if(E.WORKER_ID===void 0&&a&&(E.WORKER_ID=a.workerId),typeof a.input=="string")n.postMessage({workerId:E.WORKER_ID,results:E.parse(a.input,a.config),finished:!0});else if(n.File&&a.input instanceof File||a.input instanceof Object){var dt=E.parse(a.input,a.config);dt&&n.postMessage({workerId:E.WORKER_ID,results:dt,finished:!0})}}),(St.prototype=Object.create(P.prototype)).constructor=St,(Tt.prototype=Object.create(P.prototype)).constructor=Tt,(vt.prototype=Object.create(vt.prototype)).constructor=vt,(bt.prototype=Object.create(P.prototype)).constructor=bt,E})})(papaparse_min);var papaparse_minExports=papaparse_min.exports;const papaparse=getDefaultExportFromCjs(papaparse_minExports);var __makeTemplateObject$2=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},CSVRenderer=function(t){var e=t.mainState,i=e.currentDocument,n=e.config,s=reactExports.useState([]),b=s[0],$e=s[1];return reactExports.useEffect(function(){var Ct,E;if(i!=null&&i.fileData){var N=papaparse.parse(i.fileData,{delimiter:(Ct=n==null?void 0:n.csvDelimiter)!==null&&Ct!==void 0?Ct:","});!(!((E=N.errors)===null||E===void 0)&&E.length)&&N.data&&$e(N.data)}},[i,n==null?void 0:n.csvDelimiter]),b.length?React.createElement(Container$2,null,React.createElement(Table,null,React.createElement("thead",null,React.createElement("tr",null,b[0].map(function(Ct){return React.createElement("th",{key:Ct},Ct)}))),React.createElement("tbody",null,b.slice(1,b.length).map(function(Ct){return React.createElement("tr",{key:Ct.join("")},Ct.map(function(E){return React.createElement("td",{key:E},E)}))})))):null};CSVRenderer.fileTypes=["csv","text/csv"];CSVRenderer.weight=0;CSVRenderer.fileLoader=textFileLoader;var Container$2=ut.div(templateObject_1$2||(templateObject_1$2=__makeTemplateObject$2([`
  width: 100%;
`],[`
  width: 100%;
`]))),Table=ut.table(templateObject_2$1||(templateObject_2$1=__makeTemplateObject$2([`
  width: 100%;
  text-align: left;

  th,
  td {
    padding: 5px 10px;

    &:empty {
      display: none;
    }
  }
`],[`
  width: 100%;
  text-align: left;

  th,
  td {
    padding: 5px 10px;

    &:empty {
      display: none;
    }
  }
`]))),templateObject_1$2,templateObject_2$1,__assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign$1.apply(this,arguments)},JPGRenderer=function(t){return React.createElement(ImageProxyRenderer,__assign$1({},t))};JPGRenderer.fileTypes=["gif","image/gif"];JPGRenderer.weight=0;var __makeTemplateObject$1=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},VideoRenderer=function(t){var e=t.mainState.currentDocument;return e?React.createElement(Container$1,{id:"video-renderer"},React.createElement(Video,{controls:!0,src:e.uri})):null};VideoRenderer.fileTypes=["video/mp4","video/quicktime","video/x-msvideo"];VideoRenderer.weight=0;var Container$1=ut.div(templateObject_1$1||(templateObject_1$1=__makeTemplateObject$1([`
  width: 100%;
`],[`
  width: 100%;
`]))),Video=ut.video(templateObject_2||(templateObject_2=__makeTemplateObject$1([`
  width: 100%;
  height: 100%;
  border: 0;
`],[`
  width: 100%;
  height: 100%;
  border: 0;
`]))),templateObject_1$1,templateObject_2,DocViewerRenderers=[BMPRenderer,HTMLRenderer,JPGRenderer$1,MSDocRenderer,PDFRenderer,PNGRenderer,TIFFRenderer,TXTRenderer,CSVRenderer,JPGRenderer,VideoRenderer],__makeTemplateObject=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},__assign.apply(this,arguments)},DocViewer=reactExports.forwardRef(function(t,e){var i=t.documents,n=t.theme;if(!i)throw new Error("Please provide an array of documents to DocViewer!");return React.createElement(DocViewerProvider,__assign({ref:e,pluginRenderers:DocViewerRenderers},t),React.createElement(tt,{theme:n?__assign(__assign({},defaultTheme),n):defaultTheme},React.createElement(Container,{id:"react-doc-viewer","data-testid":"react-doc-viewer"},React.createElement(HeaderBar,null),React.createElement(ProxyRenderer,null))))});const DocViewer$1=reactExports.memo(DocViewer);var Container=ut.div(templateObject_1||(templateObject_1=__makeTemplateObject([`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: #ffffff;
  width: 100%;
  height: 100%;
`],[`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: #ffffff;
  width: 100%;
  height: 100%;
`]))),templateObject_1;function uploadPreview({docs:t}){const[e,i]=reactExports.useState(t[0]),n=s=>{i(s)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center w-full mb-10 max-h-screen",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold mb-4",children:e.fileName}),jsxRuntimeExports.jsx("div",{className:"container rounded-lg bg-slate-50 overflow-auto overscroll-auto h-96 shadow-inner",children:jsxRuntimeExports.jsx(DocViewer$1,{documents:t,activeDocument:e,onDocumentChange:n,pluginRenderers:DocViewerRenderers,className:"p-6",config:{header:{disableHeader:!0}}})})]})}const failPic="/assets/fail-9b377e39.png",successPic="/assets/success-211ccdb8.png";function VerificationSuccess({setShowSubmitModal:t,result:e}){return jsxRuntimeExports.jsx("div",{onClick:()=>t(!1),className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none bg-shadow bg-opacity-25 backdrop-blur-sm",children:jsxRuntimeExports.jsx("div",{onClick:i=>i.stopPropagation(),className:"relative w-1/3 p-6 container bg-main rounded-lg shadow-2xl",children:jsxRuntimeExports.jsxs("div",{className:"relative w-auto my-6 mx-auto max-w-sm text-center",children:[e?jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 flow-col-autotext-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Verification Success"}),jsxRuntimeExports.jsx("h2",{className:"text-md font-semibold mb-4",children:"Keep up the good work!"}),jsxRuntimeExports.jsx("img",{className:"object-contain h-30 w-auto mx-auto",src:successPic,alt:"success"})]}):jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 flow-col-auto text-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Verification Failed"}),jsxRuntimeExports.jsx("h2",{className:"text-md font-semibold mb-4",children:"Please try again"})]}),jsxRuntimeExports.jsx("img",{className:"object-contain h-30 w-auto mx-auto",src:failPic,alt:"success"})]}),jsxRuntimeExports.jsx("button",{className:"bg-button-yellow rounded-lg px-3 py-2 text-slate-900 font-medium hover:bg-button-yellow-darker",type:"button",onClick:()=>t(!1),children:"Close"})]})})})}function AssignmentPage(){const t=globalThis.template_data,e=t.assignment,i=t.user_type;e!==void 0&&e.due_date==null&&(e.due_date="None"),console.log("Rendering AssignmentPage with ass, user:",e,i);const[n,s]=reactExports.useState(!1),[b,$e]=reactExports.useState(!1),[Ct,E]=reactExports.useState(!1),[N,P]=reactExports.useState([]),St=vt=>{var bt;((bt=vt.target.files)==null?void 0:bt.length)===1&&(s(!0),E(!1),P(Array.from(vt.target.files)))},Tt=()=>{E(!0),s(!1),$e(!0)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col custom-pages",children:[jsxRuntimeExports.jsx(LoggedInNavbar,{}),jsxRuntimeExports.jsx("main",{className:"container mx-auto flex-grow box-border pt-28 pb-12 w-5/6",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto",children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-semibold mb-4",children:[e.id," - ",e.name]}),jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Due on: ",e.due_date]}),jsxRuntimeExports.jsxs("p",{className:"text-base mb-4",children:["Description: ",e.description]}),jsxRuntimeExports.jsxs("p",{className:"text-base mb-4",children:["Marks: ",e.marks]}),i=="teacher"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold mb-4 mt-5",children:"Student Submissions"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.students.map(vt=>jsxRuntimeExports.jsx(SubjectCard,{stu:vt}))})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold mb-4 mt-5",children:"Submission"}),Ct?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-base mb-4",children:"Looks Like you've already submitted an assignment. Do you want to submit another one?"}),jsxRuntimeExports.jsx(Dropzone,{handleUpload:St})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:n?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(uploadPreview,{docs:N.map(vt=>({uri:window.URL.createObjectURL(vt),fileName:vt.name}))}),jsxRuntimeExports.jsx(UploadButton,{handleUpload:St}),jsxRuntimeExports.jsxs("div",{className:"flex items-center grid grid-cols-1 auto-cols-auto gap-4 mt-10",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{id:"link-checkbox",type:"checkbox",value:"",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),jsxRuntimeExports.jsxs("label",{htmlFor:"link-checkbox",className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:["I agree with the ",jsxRuntimeExports.jsx("a",{href:"/privacy_policy",className:"text-blue-600 dark:bg-blue-500 hover:underline",children:"Privacy Policy"}),"."]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{id:"link-checkbox",type:"checkbox",value:"",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),jsxRuntimeExports.jsx("label",{htmlFor:"link-checkbox",className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"I hereby acknowledge that all work submitted in this assignment is my original work, created solely by me, unless otherwise indicated."})]}),jsxRuntimeExports.jsx("button",{className:"bg-button-blue rounded-lg px-3 py-2 text-slate-900 font-medium hover:bg-button-blue-darker",type:"button",onClick:Tt,children:"Submit"})]})]}):jsxRuntimeExports.jsx(Dropzone,{handleUpload:St})}),b?jsxRuntimeExports.jsx(VerificationSuccess,{setShowSubmitModal:$e,result:!1}):null]})]})}),jsxRuntimeExports.jsx(Footer,{})]})}globalThis.template_data===void 0?(globalThis.template_data={assignment:{due_date:"12/31/2023",id:"BSBS873295",name:"Don't Use ChatGPT",link:"/assignment",description:"Write stuff in your own words. Do not use ChatGPT or any AI to assist you. WE CAN TELL!!",marks:"???/100"},user_type:"student"},console.log("Mock data:",globalThis.template_data)):console.log("Received date from server:",globalThis.template_data);client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(AssignmentPage,{})}));
